(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vv={exports:{}},xf={},bv={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function Q$(){if(nT)return Mt;nT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function _(G,Y,oe){this.props=G,this.context=Y,this.refs=S,this.updater=oe||v}_.prototype.isReactComponent={},_.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=_.prototype;function k(G,Y,oe){this.props=G,this.context=Y,this.refs=S,this.updater=oe||v}var C=k.prototype=new N;C.constructor=k,j(C,_.prototype),C.isPureReactComponent=!0;var R=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function I(G,Y,oe){var _e,Ce={},Ne=null,Be=null;if(Y!=null)for(_e in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)A.call(Y,_e)&&!$.hasOwnProperty(_e)&&(Ce[_e]=Y[_e]);var ye=arguments.length-2;if(ye===1)Ce.children=oe;else if(1<ye){for(var ee=Array(ye),xe=0;xe<ye;xe++)ee[xe]=arguments[xe+2];Ce.children=ee}if(G&&G.defaultProps)for(_e in ye=G.defaultProps,ye)Ce[_e]===void 0&&(Ce[_e]=ye[_e]);return{$$typeof:e,type:G,key:Ne,ref:Be,props:Ce,_owner:E.current}}function D(G,Y){return{$$typeof:e,type:G.type,key:Y,ref:G.ref,props:G.props,_owner:G._owner}}function W(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function B(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(oe){return Y[oe]})}var q=/\/+/g;function J(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):Y.toString(36)}function X(G,Y,oe,_e,Ce){var Ne=typeof G;(Ne==="undefined"||Ne==="boolean")&&(G=null);var Be=!1;if(G===null)Be=!0;else switch(Ne){case"string":case"number":Be=!0;break;case"object":switch(G.$$typeof){case e:case t:Be=!0}}if(Be)return Be=G,Ce=Ce(Be),G=_e===""?"."+J(Be,0):_e,R(Ce)?(oe="",G!=null&&(oe=G.replace(q,"$&/")+"/"),X(Ce,Y,oe,"",function(xe){return xe})):Ce!=null&&(W(Ce)&&(Ce=D(Ce,oe+(!Ce.key||Be&&Be.key===Ce.key?"":(""+Ce.key).replace(q,"$&/")+"/")+G)),Y.push(Ce)),1;if(Be=0,_e=_e===""?".":_e+":",R(G))for(var ye=0;ye<G.length;ye++){Ne=G[ye];var ee=_e+J(Ne,ye);Be+=X(Ne,Y,oe,ee,Ce)}else if(ee=x(G),typeof ee=="function")for(G=ee.call(G),ye=0;!(Ne=G.next()).done;)Ne=Ne.value,ee=_e+J(Ne,ye++),Be+=X(Ne,Y,oe,ee,Ce);else if(Ne==="object")throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function Z(G,Y,oe){if(G==null)return G;var _e=[],Ce=0;return X(G,_e,"","",function(Ne){return Y.call(oe,Ne,Ce++)}),_e}function F(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(oe){(G._status===0||G._status===-1)&&(G._status=1,G._result=oe)},function(oe){(G._status===0||G._status===-1)&&(G._status=2,G._result=oe)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var K={current:null},U={transition:null},ie={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:E};function se(){throw Error("act(...) is not supported in production builds of React.")}return Mt.Children={map:Z,forEach:function(G,Y,oe){Z(G,function(){Y.apply(this,arguments)},oe)},count:function(G){var Y=0;return Z(G,function(){Y++}),Y},toArray:function(G){return Z(G,function(Y){return Y})||[]},only:function(G){if(!W(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Mt.Component=_,Mt.Fragment=r,Mt.Profiler=i,Mt.PureComponent=k,Mt.StrictMode=n,Mt.Suspense=f,Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Mt.act=se,Mt.cloneElement=function(G,Y,oe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var _e=j({},G.props),Ce=G.key,Ne=G.ref,Be=G._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,Be=E.current),Y.key!==void 0&&(Ce=""+Y.key),G.type&&G.type.defaultProps)var ye=G.type.defaultProps;for(ee in Y)A.call(Y,ee)&&!$.hasOwnProperty(ee)&&(_e[ee]=Y[ee]===void 0&&ye!==void 0?ye[ee]:Y[ee])}var ee=arguments.length-2;if(ee===1)_e.children=oe;else if(1<ee){ye=Array(ee);for(var xe=0;xe<ee;xe++)ye[xe]=arguments[xe+2];_e.children=ye}return{$$typeof:e,type:G.type,key:Ce,ref:Ne,props:_e,_owner:Be}},Mt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Mt.createElement=I,Mt.createFactory=function(G){var Y=I.bind(null,G);return Y.type=G,Y},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(G){return{$$typeof:c,render:G}},Mt.isValidElement=W,Mt.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:F}},Mt.memo=function(G,Y){return{$$typeof:h,type:G,compare:Y===void 0?null:Y}},Mt.startTransition=function(G){var Y=U.transition;U.transition={};try{G()}finally{U.transition=Y}},Mt.unstable_act=se,Mt.useCallback=function(G,Y){return K.current.useCallback(G,Y)},Mt.useContext=function(G){return K.current.useContext(G)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(G){return K.current.useDeferredValue(G)},Mt.useEffect=function(G,Y){return K.current.useEffect(G,Y)},Mt.useId=function(){return K.current.useId()},Mt.useImperativeHandle=function(G,Y,oe){return K.current.useImperativeHandle(G,Y,oe)},Mt.useInsertionEffect=function(G,Y){return K.current.useInsertionEffect(G,Y)},Mt.useLayoutEffect=function(G,Y){return K.current.useLayoutEffect(G,Y)},Mt.useMemo=function(G,Y){return K.current.useMemo(G,Y)},Mt.useReducer=function(G,Y,oe){return K.current.useReducer(G,Y,oe)},Mt.useRef=function(G){return K.current.useRef(G)},Mt.useState=function(G){return K.current.useState(G)},Mt.useSyncExternalStore=function(G,Y,oe){return K.current.useSyncExternalStore(G,Y,oe)},Mt.useTransition=function(){return K.current.useTransition()},Mt.version="18.3.1",Mt}var iT;function xS(){return iT||(iT=1,bv.exports=Q$()),bv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function ez(){if(sT)return xf;sT=1;var e=xS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,f,h){var m,p={},x=null,v=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(v=f.ref);for(m in f)n.call(f,m)&&!s.hasOwnProperty(m)&&(p[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)p[m]===void 0&&(p[m]=f[m]);return{$$typeof:t,type:c,key:x,ref:v,props:p,_owner:i.current}}return xf.Fragment=r,xf.jsx=o,xf.jsxs=o,xf}var aT;function tz(){return aT||(aT=1,vv.exports=ez()),vv.exports}var a=tz(),Gm={},wv={exports:{}},mi={},_v={exports:{}},jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function rz(){return oT||(oT=1,(function(e){function t(U,ie){var se=U.length;U.push(ie);e:for(;0<se;){var G=se-1>>>1,Y=U[G];if(0<i(Y,ie))U[G]=ie,U[se]=Y,se=G;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var ie=U[0],se=U.pop();if(se!==ie){U[0]=se;e:for(var G=0,Y=U.length,oe=Y>>>1;G<oe;){var _e=2*(G+1)-1,Ce=U[_e],Ne=_e+1,Be=U[Ne];if(0>i(Ce,se))Ne<Y&&0>i(Be,Ce)?(U[G]=Be,U[Ne]=se,G=Ne):(U[G]=Ce,U[_e]=se,G=_e);else if(Ne<Y&&0>i(Be,se))U[G]=Be,U[Ne]=se,G=Ne;else break e}}return ie}function i(U,ie){var se=U.sortIndex-ie.sortIndex;return se!==0?se:U.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var f=[],h=[],m=1,p=null,x=3,v=!1,j=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=U)n(h),ie.sortIndex=ie.expirationTime,t(f,ie);else break;ie=r(h)}}function R(U){if(S=!1,C(U),!j)if(r(f)!==null)j=!0,F(A);else{var ie=r(h);ie!==null&&K(R,ie.startTime-U)}}function A(U,ie){j=!1,S&&(S=!1,N(I),I=-1),v=!0;var se=x;try{for(C(ie),p=r(f);p!==null&&(!(p.expirationTime>ie)||U&&!B());){var G=p.callback;if(typeof G=="function"){p.callback=null,x=p.priorityLevel;var Y=G(p.expirationTime<=ie);ie=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===r(f)&&n(f),C(ie)}else n(f);p=r(f)}if(p!==null)var oe=!0;else{var _e=r(h);_e!==null&&K(R,_e.startTime-ie),oe=!1}return oe}finally{p=null,x=se,v=!1}}var E=!1,$=null,I=-1,D=5,W=-1;function B(){return!(e.unstable_now()-W<D)}function q(){if($!==null){var U=e.unstable_now();W=U;var ie=!0;try{ie=$(!0,U)}finally{ie?J():(E=!1,$=null)}}else E=!1}var J;if(typeof k=="function")J=function(){k(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=q,J=function(){Z.postMessage(null)}}else J=function(){_(q,0)};function F(U){$=U,E||(E=!0,J())}function K(U,ie){I=_(function(){U(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,F(A))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(U){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var se=x;x=ie;try{return U()}finally{x=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,ie){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=x;x=U;try{return ie()}finally{x=se}},e.unstable_scheduleCallback=function(U,ie,se){var G=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?G+se:G):se=G,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,U={id:m++,callback:ie,priorityLevel:U,startTime:se,expirationTime:Y,sortIndex:-1},se>G?(U.sortIndex=se,t(h,U),r(f)===null&&U===r(h)&&(S?(N(I),I=-1):S=!0,K(R,se-G))):(U.sortIndex=Y,t(f,U),j||v||(j=!0,F(A))),U},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(U){var ie=x;return function(){var se=x;x=ie;try{return U.apply(this,arguments)}finally{x=se}}}})(jv)),jv}var lT;function nz(){return lT||(lT=1,_v.exports=rz()),_v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function iz(){if(cT)return mi;cT=1;var e=xS(),t=nz();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)n.add(d[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(l){return f.call(p,l)?!0:f.call(m,l)?!1:h.test(l)?p[l]=!0:(m[l]=!0,!1)}function v(l,d,y,w){if(y!==null&&y.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:y!==null?!y.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function j(l,d,y,w){if(d===null||typeof d>"u"||v(l,d,y,w))return!0;if(w)return!1;if(y!==null)switch(y.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(l,d,y,w,T,M,V){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=y,this.propertyName=l,this.type=d,this.sanitizeURL=M,this.removeEmptyString=V}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];_[d]=new S(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(N,k);_[d]=new S(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(N,k);_[d]=new S(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(N,k);_[d]=new S(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function C(l,d,y,w){var T=_.hasOwnProperty(d)?_[d]:null;(T!==null?T.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(j(d,y,T,w)&&(y=null),w||T===null?x(d)&&(y===null?l.removeAttribute(d):l.setAttribute(d,""+y)):T.mustUseProperty?l[T.propertyName]=y===null?T.type===3?!1:"":y:(d=T.attributeName,w=T.attributeNamespace,y===null?l.removeAttribute(d):(T=T.type,y=T===3||T===4&&y===!0?"":""+y,w?l.setAttributeNS(w,d,y):l.setAttribute(d,y))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function ie(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var se=Object.assign,G;function Y(l){if(G===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+l}var oe=!1;function _e(l,d){if(!l||oe)return"";oe=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var w=Ee}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ee){w=Ee}l.call(d.prototype)}else{try{throw Error()}catch(Ee){w=Ee}l()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var T=Ee.stack.split(`
`),M=w.stack.split(`
`),V=T.length-1,ae=M.length-1;1<=V&&0<=ae&&T[V]!==M[ae];)ae--;for(;1<=V&&0<=ae;V--,ae--)if(T[V]!==M[ae]){if(V!==1||ae!==1)do if(V--,ae--,0>ae||T[V]!==M[ae]){var fe=`
`+T[V].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=V&&0<=ae);break}}}finally{oe=!1,Error.prepareStackTrace=y}return(l=l?l.displayName||l.name:"")?Y(l):""}function Ce(l){switch(l.tag){case 5:return Y(l.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return l=_e(l.type,!1),l;case 11:return l=_e(l.type.render,!1),l;case 1:return l=_e(l.type,!0),l;default:return""}}function Ne(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case $:return"Fragment";case E:return"Portal";case D:return"Profiler";case I:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case B:return(l.displayName||"Context")+".Consumer";case W:return(l._context.displayName||"Context")+".Provider";case q:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Z:return d=l.displayName||null,d!==null?d:Ne(l.type)||"Memo";case F:d=l._payload,l=l._init;try{return Ne(l(d))}catch{}}return null}function Be(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(d);case 8:return d===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ye(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ee(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function xe(l){var d=ee(l)?"checked":"value",y=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,M=y.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return T.call(this)},set:function(V){w=""+V,M.call(this,V)}}),Object.defineProperty(l,d,{enumerable:y.enumerable}),{getValue:function(){return w},setValue:function(V){w=""+V},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ke(l){l._valueTracker||(l._valueTracker=xe(l))}function te(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var y=d.getValue(),w="";return l&&(w=ee(l)?l.checked?"true":"false":l.value),l=w,l!==y?(d.setValue(l),!0):!1}function ue(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function de(l,d){var y=d.checked;return se({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??l._wrapperState.initialChecked})}function Re(l,d){var y=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;y=ye(d.value!=null?d.value:y),l._wrapperState={initialChecked:w,initialValue:y,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Me(l,d){d=d.checked,d!=null&&C(l,"checked",d,!1)}function Ye(l,d){Me(l,d);var y=ye(d.value),w=d.type;if(y!=null)w==="number"?(y===0&&l.value===""||l.value!=y)&&(l.value=""+y):l.value!==""+y&&(l.value=""+y);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?he(l,d.type,y):d.hasOwnProperty("defaultValue")&&he(l,d.type,ye(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function qe(l,d,y){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,y||d===l.value||(l.value=d),l.defaultValue=d}y=l.name,y!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,y!==""&&(l.name=y)}function he(l,d,y){(d!=="number"||ue(l.ownerDocument)!==l)&&(y==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+y&&(l.defaultValue=""+y))}var Fe=Array.isArray;function Je(l,d,y,w){if(l=l.options,d){d={};for(var T=0;T<y.length;T++)d["$"+y[T]]=!0;for(y=0;y<l.length;y++)T=d.hasOwnProperty("$"+l[y].value),l[y].selected!==T&&(l[y].selected=T),T&&w&&(l[y].defaultSelected=!0)}else{for(y=""+ye(y),d=null,T=0;T<l.length;T++){if(l[T].value===y){l[T].selected=!0,w&&(l[T].defaultSelected=!0);return}d!==null||l[T].disabled||(d=l[T])}d!==null&&(d.selected=!0)}}function Q(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function pe(l,d){var y=d.value;if(y==null){if(y=d.children,d=d.defaultValue,y!=null){if(d!=null)throw Error(r(92));if(Fe(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),y=d}l._wrapperState={initialValue:ye(y)}}function ne(l,d){var y=ye(d.value),w=ye(d.defaultValue);y!=null&&(y=""+y,y!==l.value&&(l.value=y),d.defaultValue==null&&l.defaultValue!==y&&(l.defaultValue=y)),w!=null&&(l.defaultValue=""+w)}function je(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Ae(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Ae(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Le,pt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,y,w,T){MSApp.execUnsafeLocalFunction(function(){return l(d,y,w,T)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Le.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function Et(l,d){if(d){var y=l.firstChild;if(y&&y===l.lastChild&&y.nodeType===3){y.nodeValue=d;return}}l.textContent=d}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(l){Ht.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Nt[d]=Nt[l]})});function wr(l,d,y){return d==null||typeof d=="boolean"||d===""?"":y||typeof d!="number"||d===0||Nt.hasOwnProperty(l)&&Nt[l]?(""+d).trim():d+"px"}function dn(l,d){l=l.style;for(var y in d)if(d.hasOwnProperty(y)){var w=y.indexOf("--")===0,T=wr(y,d[y],w);y==="float"&&(y="cssFloat"),w?l.setProperty(y,T):l[y]=T}}var us=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ni(l,d){if(d){if(us[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function fn(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function hn(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ks=null,ii=null,si=null;function Gs(l){if(l=za(l)){if(typeof Ks!="function")throw Error(r(280));var d=l.stateNode;d&&(d=eu(d),Ks(l.stateNode,l.type,d))}}function bt(l){ii?si?si.push(l):si=[l]:ii=l}function nr(){if(ii){var l=ii,d=si;if(si=ii=null,Gs(l),d)for(l=0;l<d.length;l++)Gs(d[l])}}function _r(l,d){return l(d)}function Ur(){}var ce=!1;function ge(l,d,y){if(ce)return l(d,y);ce=!0;try{return _r(l,d,y)}finally{ce=!1,(ii!==null||si!==null)&&(Ur(),nr())}}function we(l,d){var y=l.stateNode;if(y===null)return null;var w=eu(y);if(w===null)return null;y=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var ze=!1;if(c)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ze=!1}function et(l,d,y,w,T,M,V,ae,fe){var Ee=Array.prototype.slice.call(arguments,3);try{d.apply(y,Ee)}catch(Ve){this.onError(Ve)}}var at=!1,Oe=null,nt=!1,Xe=null,jt={onError:function(l){at=!0,Oe=l}};function Ct(l,d,y,w,T,M,V,ae,fe){at=!1,Oe=null,et.apply(jt,arguments)}function Xt(l,d,y,w,T,M,V,ae,fe){if(Ct.apply(this,arguments),at){if(at){var Ee=Oe;at=!1,Oe=null}else throw Error(r(198));nt||(nt=!0,Xe=Ee)}}function ir(l){var d=l,y=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(y=d.return),l=d.return;while(l)}return d.tag===3?y:null}function Wt(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function Kt(l){if(ir(l)!==l)throw Error(r(188))}function jr(l){var d=l.alternate;if(!d){if(d=ir(l),d===null)throw Error(r(188));return d!==l?null:l}for(var y=l,w=d;;){var T=y.return;if(T===null)break;var M=T.alternate;if(M===null){if(w=T.return,w!==null){y=w;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===y)return Kt(T),l;if(M===w)return Kt(T),d;M=M.sibling}throw Error(r(188))}if(y.return!==w.return)y=T,w=M;else{for(var V=!1,ae=T.child;ae;){if(ae===y){V=!0,y=T,w=M;break}if(ae===w){V=!0,w=T,y=M;break}ae=ae.sibling}if(!V){for(ae=M.child;ae;){if(ae===y){V=!0,y=M,w=T;break}if(ae===w){V=!0,w=M,y=T;break}ae=ae.sibling}if(!V)throw Error(r(189))}}if(y.alternate!==w)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?l:d}function ds(l){return l=jr(l),l!==null?Zs(l):null}function Zs(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Zs(l);if(d!==null)return d;l=l.sibling}return null}var ai=t.unstable_scheduleCallback,En=t.unstable_cancelCallback,Nl=t.unstable_shouldYield,zi=t.unstable_requestPaint,Gt=t.unstable_now,xo=t.unstable_getCurrentPriorityLevel,Ys=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,Sr=t.unstable_NormalPriority,Xs=t.unstable_LowPriority,oi=t.unstable_IdlePriority,sr=null,Vr=null;function Js(l){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(sr,l,void 0,(l.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:vo,mr=Math.log,Oc=Math.LN2;function vo(l){return l>>>=0,l===0?32:31-(mr(l)/Oc|0)|0}var fs=64,bo=4194304;function Tt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ur(l,d){var y=l.pendingLanes;if(y===0)return 0;var w=0,T=l.suspendedLanes,M=l.pingedLanes,V=y&268435455;if(V!==0){var ae=V&~T;ae!==0?w=Tt(ae):(M&=V,M!==0&&(w=Tt(M)))}else V=y&~T,V!==0?w=Tt(V):M!==0&&(w=Tt(M));if(w===0)return 0;if(d!==0&&d!==w&&(d&T)===0&&(T=w&-w,M=d&-d,T>=M||T===16&&(M&4194240)!==0))return d;if((w&4)!==0&&(w|=y&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)y=31-Pt(d),T=1<<y,w|=l[y],d&=~T;return w}function Md(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(l,d){for(var y=l.suspendedLanes,w=l.pingedLanes,T=l.expirationTimes,M=l.pendingLanes;0<M;){var V=31-Pt(M),ae=1<<V,fe=T[V];fe===-1?((ae&y)===0||(ae&w)!==0)&&(T[V]=Md(ae,d)):fe<=d&&(l.expiredLanes|=ae),M&=~ae}}function Cn(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Wp(){var l=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),l}function wo(l){for(var d=[],y=0;31>y;y++)d.push(l);return d}function vi(l,d,y){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Pt(d),l[d]=y}function Cr(l,d){var y=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<y;){var T=31-Pt(y),M=1<<T;d[T]=0,w[T]=-1,l[T]=-1,y&=~M}}function hs(l,d){var y=l.entangledLanes|=d;for(l=l.entanglements;y;){var w=31-Pt(y),T=1<<w;T&d|l[w]&d&&(l[w]|=d),y&=~T}}var Dt=0;function _o(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Rc,Ea,Ic,Lc,kl,Pl=!1,jo=[],bi=null,ps=null,Wi=null,Tl=new Map,St=new Map,Qr=[],ar="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(l,d){switch(l){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Tl.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(d.pointerId)}}function Ca(l,d,y,w,T,M){return l===null||l.nativeEvent!==M?(l={blockedOn:d,domEventName:y,eventSystemFlags:w,nativeEvent:M,targetContainers:[T]},d!==null&&(d=za(d),d!==null&&Ea(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),l)}function Id(l,d,y,w,T){switch(d){case"focusin":return bi=Ca(bi,l,d,y,w,T),!0;case"dragenter":return ps=Ca(ps,l,d,y,w,T),!0;case"mouseover":return Wi=Ca(Wi,l,d,y,w,T),!0;case"pointerover":var M=T.pointerId;return Tl.set(M,Ca(Tl.get(M)||null,l,d,y,w,T)),!0;case"gotpointercapture":return M=T.pointerId,St.set(M,Ca(St.get(M)||null,l,d,y,w,T)),!0}return!1}function Dc(l){var d=$a(l.target);if(d!==null){var y=ir(d);if(y!==null){if(d=y.tag,d===13){if(d=Wt(y),d!==null){l.blockedOn=d,kl(l.priority,function(){Ic(y)});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){l.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Bi(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var y=Wc(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(y===null){y=l.nativeEvent;var w=new y.constructor(y.type,y);Vn=w,y.target.dispatchEvent(w),Vn=null}else return d=za(y),d!==null&&Ea(d),l.blockedOn=y,!1;d.shift()}return!0}function $c(l,d,y){Bi(l)&&y.delete(d)}function El(){Pl=!1,bi!==null&&Bi(bi)&&(bi=null),ps!==null&&Bi(ps)&&(ps=null),Wi!==null&&Bi(Wi)&&(Wi=null),Tl.forEach($c),St.forEach($c)}function Nr(l,d){l.blockedOn===d&&(l.blockedOn=null,Pl||(Pl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,El)))}function wi(l){function d(T){return Nr(T,l)}if(0<jo.length){Nr(jo[0],l);for(var y=1;y<jo.length;y++){var w=jo[y];w.blockedOn===l&&(w.blockedOn=null)}}for(bi!==null&&Nr(bi,l),ps!==null&&Nr(ps,l),Wi!==null&&Nr(Wi,l),Tl.forEach(d),St.forEach(d),y=0;y<Qr.length;y++)w=Qr[y],w.blockedOn===l&&(w.blockedOn=null);for(;0<Qr.length&&(y=Qr[0],y.blockedOn===null);)Dc(y),y.blockedOn===null&&Qr.shift()}var Aa=R.ReactCurrentBatchConfig,Cl=!0;function e0(l,d,y,w){var T=Dt,M=Aa.transition;Aa.transition=null;try{Dt=1,Al(l,d,y,w)}finally{Dt=T,Aa.transition=M}}function Bp(l,d,y,w){var T=Dt,M=Aa.transition;Aa.transition=null;try{Dt=4,Al(l,d,y,w)}finally{Dt=T,Aa.transition=M}}function Al(l,d,y,w){if(Cl){var T=Wc(l,d,y,w);if(T===null)u(l,d,w,zc,y),Rd(l,w);else if(Id(T,l,d,y,w))w.stopPropagation();else if(Rd(l,w),d&4&&-1<ar.indexOf(l)){for(;T!==null;){var M=za(T);if(M!==null&&Rc(M),M=Wc(l,d,y,w),M===null&&u(l,d,w,zc,y),M===T)break;T=M}T!==null&&w.stopPropagation()}else u(l,d,w,null,y)}}var zc=null;function Wc(l,d,y,w){if(zc=null,l=hn(w),l=$a(l),l!==null)if(d=ir(l),d===null)l=null;else if(y=d.tag,y===13){if(l=Wt(d),l!==null)return l;l=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return zc=l,null}function Rt(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xo()){case Ys:return 1;case Zt:return 4;case Sr:case Xs:return 16;case oi:return 536870912;default:return 16}default:return 16}}var Qs=null,qn=null,ea=null;function Ld(){if(ea)return ea;var l,d=qn,y=d.length,w,T="value"in Qs?Qs.value:Qs.textContent,M=T.length;for(l=0;l<y&&d[l]===T[l];l++);var V=y-l;for(w=1;w<=V&&d[y-w]===T[M-w];w++);return ea=T.slice(l,1<w?1-w:void 0)}function Bc(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function So(){return!0}function Fp(){return!1}function An(l){function d(y,w,T,M,V){this._reactName=y,this._targetInst=T,this.type=w,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(y=l[ae],this[ae]=y?y(M):M[ae]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?So:Fp,this.isPropagationStopped=Fp,this}return se(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),d}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=An(No),Oa=se({},No,{view:0,detail:0}),t0=An(Oa),li,$d,ko,_i=se({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ko&&(ko&&l.type==="mousemove"?(li=l.screenX-ko.screenX,$d=l.screenY-ko.screenY):$d=li=0,ko=l),li)},movementY:function(l){return"movementY"in l?l.movementY:$d}}),zd=An(_i),Up=se({},_i,{dataTransfer:0}),Wd=An(Up),r0=se({},Oa,{relatedTarget:0}),Fc=An(r0),Vp=se({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=An(Vp),i0=se({},No,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Bd=An(i0),s0=se({},No,{data:0}),Fd=An(s0),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Ma[l])?!!d[l]:!1}function Ra(){return a0}var ci=se({},Oa,{key:function(l){if(l.key){var d=qp[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Bc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Uc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(l){return l.type==="keypress"?Bc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Bc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Hp=An(ci),Kp=se({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=An(Kp),Ud=se({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),Vd=An(Ud),o0=se({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=An(o0),Zp=se({},_i,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=An(Zp),ji=[9,13,27,32],ta=c&&"CompositionEvent"in window,Ol=null;c&&"documentMode"in document&&(Ol=document.documentMode);var ms=c&&"TextEvent"in window&&!Ol,Yp=c&&(!ta||Ol&&8<Ol&&11>=Ol),Ia=" ",Xp=!1;function Po(l,d){switch(l){case"keyup":return ji.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gs=!1;function u0(l,d){switch(l){case"compositionend":return qd(d);case"keypress":return d.which!==32?null:(Xp=!0,Ia);case"textInput":return l=d.data,l===Ia&&Xp?null:l;default:return null}}function ra(l,d){if(gs)return l==="compositionend"||!ta&&Po(l,d)?(l=Ld(),ea=qn=Qs=null,gs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Yp&&d.locale!=="ko"?null:d.data;default:return null}}var Vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Vc[l.type]:d==="textarea"}function qc(l,d,y,w){bt(w),d=b(d,"onChange"),0<d.length&&(y=new Dd("onChange","change",null,y,w),l.push({event:y,listeners:d}))}var Ml=null,Hn=null;function d0(l){ef(l,0)}function ys(l){var d=Wa(l);if(te(d))return l}function f0(l,d){if(l==="change")return d}var Fi=!1;if(c){var To;if(c){var Hc="oninput"in document;if(!Hc){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Hc=typeof Kc.oninput=="function"}To=Hc}else To=!1;Fi=To&&(!document.documentMode||9<document.documentMode)}function Rl(){Ml&&(Ml.detachEvent("onpropertychange",Gc),Hn=Ml=null)}function Gc(l){if(l.propertyName==="value"&&ys(Hn)){var d=[];qc(d,Hn,l,hn(l)),ge(d0,d)}}function Zc(l,d,y){l==="focusin"?(Rl(),Ml=d,Hn=y,Ml.attachEvent("onpropertychange",Gc)):l==="focusout"&&Rl()}function Eo(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ys(Hn)}function Yc(l,d){if(l==="click")return ys(d)}function Hd(l,d){if(l==="input"||l==="change")return ys(d)}function Qp(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Si=typeof Object.is=="function"?Object.is:Qp;function na(l,d){if(Si(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var y=Object.keys(l),w=Object.keys(d);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var T=y[w];if(!f.call(d,T)||!Si(l[T],d[T]))return!1}return!0}function em(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Kd(l,d){var y=em(l);l=0;for(var w;y;){if(y.nodeType===3){if(w=l+y.textContent.length,l<=d&&w>=d)return{node:y,offset:d-l};l=w}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=em(y)}}function tm(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?tm(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Gd(){for(var l=window,d=ue();d instanceof l.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)l=d.contentWindow;else break;d=ue(l.document)}return d}function Zd(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function Ui(l){var d=Gd(),y=l.focusedElem,w=l.selectionRange;if(d!==y&&y&&y.ownerDocument&&tm(y.ownerDocument.documentElement,y)){if(w!==null&&Zd(y)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in y)y.selectionStart=d,y.selectionEnd=Math.min(l,y.value.length);else if(l=(d=y.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var T=y.textContent.length,M=Math.min(w.start,T);w=w.end===void 0?M:Math.min(w.end,T),!l.extend&&M>w&&(T=w,w=M,M=T),T=Kd(y,M);var V=Kd(y,w);T&&V&&(l.rangeCount!==1||l.anchorNode!==T.node||l.anchorOffset!==T.offset||l.focusNode!==V.node||l.focusOffset!==V.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),l.removeAllRanges(),M>w?(l.addRange(d),l.extend(V.node,V.offset)):(d.setEnd(V.node,V.offset),l.addRange(d)))}}for(d=[],l=y;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<d.length;y++)l=d[y],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Xc=c&&"documentMode"in document&&11>=document.documentMode,Co=null,Ao=null,Il=null,Jc=!1;function rm(l,d,y){var w=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Jc||Co==null||Co!==ue(w)||(w=Co,"selectionStart"in w&&Zd(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Il&&na(Il,w)||(Il=w,w=b(Ao,"onSelect"),0<w.length&&(d=new Dd("onSelect","select",null,d,y),l.push({event:d,listeners:w}),d.target=Co)))}function ia(l,d){var y={};return y[l.toLowerCase()]=d.toLowerCase(),y["Webkit"+l]="webkit"+d,y["Moz"+l]="moz"+d,y}var Oo={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},sa={},Yd={};c&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Ll(l){if(sa[l])return sa[l];if(!Oo[l])return l;var d=Oo[l],y;for(y in d)if(d.hasOwnProperty(y)&&y in Yd)return sa[l]=d[y];return l}var nm=Ll("animationend"),Vi=Ll("animationiteration"),Xd=Ll("animationstart"),Jd=Ll("transitionend"),Mo=new Map,im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(l,d){Mo.set(l,d),s(d,[l])}for(var La=0;La<im.length;La++){var Qc=im[La],sm=Qc.toLowerCase(),h0=Qc[0].toUpperCase()+Qc.slice(1);Ni(sm,"on"+h0)}Ni(nm,"onAnimationEnd"),Ni(Vi,"onAnimationIteration"),Ni(Xd,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Jd,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),am=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Qd(l,d,y){var w=l.type||"unknown-event";l.currentTarget=y,Xt(w,d,void 0,l),l.currentTarget=null}function ef(l,d){d=(d&4)!==0;for(var y=0;y<l.length;y++){var w=l[y],T=w.event;w=w.listeners;e:{var M=void 0;if(d)for(var V=w.length-1;0<=V;V--){var ae=w[V],fe=ae.instance,Ee=ae.currentTarget;if(ae=ae.listener,fe!==M&&T.isPropagationStopped())break e;Qd(T,ae,Ee),M=fe}else for(V=0;V<w.length;V++){if(ae=w[V],fe=ae.instance,Ee=ae.currentTarget,ae=ae.listener,fe!==M&&T.isPropagationStopped())break e;Qd(T,ae,Ee),M=fe}}}if(nt)throw l=Xe,nt=!1,Xe=null,l}function or(l,d){var y=d[$o];y===void 0&&(y=d[$o]=new Set);var w=l+"__bubble";y.has(w)||(om(d,l,2,!1),y.add(w))}function tf(l,d,y){var w=0;d&&(w|=4),om(y,l,w,d)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function Io(l){if(!l[Dl]){l[Dl]=!0,n.forEach(function(y){y!=="selectionchange"&&(am.has(y)||tf(y,!1,l),tf(y,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Dl]||(d[Dl]=!0,tf("selectionchange",!1,d))}}function om(l,d,y,w){switch(Rt(d)){case 1:var T=e0;break;case 4:T=Bp;break;default:T=Al}y=T.bind(null,d,y,l),T=void 0,!ze||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),w?T!==void 0?l.addEventListener(d,y,{capture:!0,passive:T}):l.addEventListener(d,y,!0):T!==void 0?l.addEventListener(d,y,{passive:T}):l.addEventListener(d,y,!1)}function u(l,d,y,w,T){var M=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var V=w.tag;if(V===3||V===4){var ae=w.stateNode.containerInfo;if(ae===T||ae.nodeType===8&&ae.parentNode===T)break;if(V===4)for(V=w.return;V!==null;){var fe=V.tag;if((fe===3||fe===4)&&(fe=V.stateNode.containerInfo,fe===T||fe.nodeType===8&&fe.parentNode===T))return;V=V.return}for(;ae!==null;){if(V=$a(ae),V===null)return;if(fe=V.tag,fe===5||fe===6){w=M=V;continue e}ae=ae.parentNode}}w=w.return}ge(function(){var Ee=M,Ve=hn(y),He=[];e:{var Ue=Mo.get(l);if(Ue!==void 0){var tt=Dd,ot=l;switch(l){case"keypress":if(Bc(y)===0)break e;case"keydown":case"keyup":tt=Hp;break;case"focusin":ot="focus",tt=Fc;break;case"focusout":ot="blur",tt=Fc;break;case"beforeblur":case"afterblur":tt=Fc;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Vd;break;case nm:case Vi:case Xd:tt=n0;break;case Jd:tt=l0;break;case"scroll":tt=t0;break;case"wheel":tt=c0;break;case"copy":case"cut":case"paste":tt=Bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Gp}var ct=(d&4)!==0,Lr=!ct&&l==="scroll",be=ct?Ue!==null?Ue+"Capture":null:Ue;ct=[];for(var me=Ee,Se;me!==null;){Se=me;var Ge=Se.stateNode;if(Se.tag===5&&Ge!==null&&(Se=Ge,be!==null&&(Ge=we(me,be),Ge!=null&&ct.push(g(me,Ge,Se)))),Lr)break;me=me.return}0<ct.length&&(Ue=new tt(Ue,ot,null,y,Ve),He.push({event:Ue,listeners:ct}))}}if((d&7)===0){e:{if(Ue=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",Ue&&y!==Vn&&(ot=y.relatedTarget||y.fromElement)&&($a(ot)||ot[Jt]))break e;if((tt||Ue)&&(Ue=Ve.window===Ve?Ve:(Ue=Ve.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,tt?(ot=y.relatedTarget||y.toElement,tt=Ee,ot=ot?$a(ot):null,ot!==null&&(Lr=ir(ot),ot!==Lr||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=Ee),tt!==ot)){if(ct=zd,Ge="onMouseLeave",be="onMouseEnter",me="mouse",(l==="pointerout"||l==="pointerover")&&(ct=Gp,Ge="onPointerLeave",be="onPointerEnter",me="pointer"),Lr=tt==null?Ue:Wa(tt),Se=ot==null?Ue:Wa(ot),Ue=new ct(Ge,me+"leave",tt,y,Ve),Ue.target=Lr,Ue.relatedTarget=Se,Ge=null,$a(Ve)===Ee&&(ct=new ct(be,me+"enter",ot,y,Ve),ct.target=Se,ct.relatedTarget=Lr,Ge=ct),Lr=Ge,tt&&ot)t:{for(ct=tt,be=ot,me=0,Se=ct;Se;Se=P(Se))me++;for(Se=0,Ge=be;Ge;Ge=P(Ge))Se++;for(;0<me-Se;)ct=P(ct),me--;for(;0<Se-me;)be=P(be),Se--;for(;me--;){if(ct===be||be!==null&&ct===be.alternate)break t;ct=P(ct),be=P(be)}ct=null}else ct=null;tt!==null&&z(He,Ue,tt,ct,!1),ot!==null&&Lr!==null&&z(He,Lr,ot,ct,!0)}}e:{if(Ue=Ee?Wa(Ee):window,tt=Ue.nodeName&&Ue.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Ue.type==="file")var dt=f0;else if(Jp(Ue))if(Fi)dt=Hd;else{dt=Eo;var gt=Zc}else(tt=Ue.nodeName)&&tt.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(dt=Yc);if(dt&&(dt=dt(l,Ee))){qc(He,dt,y,Ve);break e}gt&&gt(l,Ue,Ee),l==="focusout"&&(gt=Ue._wrapperState)&&gt.controlled&&Ue.type==="number"&&he(Ue,"number",Ue.value)}switch(gt=Ee?Wa(Ee):window,l){case"focusin":(Jp(gt)||gt.contentEditable==="true")&&(Co=gt,Ao=Ee,Il=null);break;case"focusout":Il=Ao=Co=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,rm(He,y,Ve);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":rm(He,y,Ve)}var yt;if(ta)e:{switch(l){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else gs?Po(l,y)&&(kt="onCompositionEnd"):l==="keydown"&&y.keyCode===229&&(kt="onCompositionStart");kt&&(Yp&&y.locale!=="ko"&&(gs||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&gs&&(yt=Ld()):(Qs=Ve,qn="value"in Qs?Qs.value:Qs.textContent,gs=!0)),gt=b(Ee,kt),0<gt.length&&(kt=new Fd(kt,l,null,y,Ve),He.push({event:kt,listeners:gt}),yt?kt.data=yt:(yt=qd(y),yt!==null&&(kt.data=yt)))),(yt=ms?u0(l,y):ra(l,y))&&(Ee=b(Ee,"onBeforeInput"),0<Ee.length&&(Ve=new Fd("onBeforeInput","beforeinput",null,y,Ve),He.push({event:Ve,listeners:Ee}),Ve.data=yt))}ef(He,d)})}function g(l,d,y){return{instance:l,listener:d,currentTarget:y}}function b(l,d){for(var y=d+"Capture",w=[];l!==null;){var T=l,M=T.stateNode;T.tag===5&&M!==null&&(T=M,M=we(l,y),M!=null&&w.unshift(g(l,M,T)),M=we(l,d),M!=null&&w.push(g(l,M,T))),l=l.return}return w}function P(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function z(l,d,y,w,T){for(var M=d._reactName,V=[];y!==null&&y!==w;){var ae=y,fe=ae.alternate,Ee=ae.stateNode;if(fe!==null&&fe===w)break;ae.tag===5&&Ee!==null&&(ae=Ee,T?(fe=we(y,M),fe!=null&&V.unshift(g(y,fe,ae))):T||(fe=we(y,M),fe!=null&&V.push(g(y,fe,ae)))),y=y.return}V.length!==0&&l.push({event:d,listeners:V})}var H=/\r\n?/g,le=/\u0000|\uFFFD/g;function ve(l){return(typeof l=="string"?l:""+l).replace(H,`
`).replace(le,"")}function Te(l,d,y){if(d=ve(d),ve(l)!==d&&y)throw Error(r(425))}function De(){}var Qe=null,mt=null;function Ot(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var en=typeof setTimeout=="function"?setTimeout:void 0,qr=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,On=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(l){return Kn.resolve(null).then(l).catch(Lo)}:en;function Lo(l){setTimeout(function(){throw l})}function rf(l,d){var y=d,w=0;do{var T=y.nextSibling;if(l.removeChild(y),T&&T.nodeType===8)if(y=T.data,y==="/$"){if(w===0){l.removeChild(T),wi(d);return}w--}else y!=="$"&&y!=="$?"&&y!=="$!"||w++;y=T}while(y);wi(d)}function aa(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function lm(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var y=l.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return l;d--}else y==="/$"&&d++}l=l.previousSibling}return null}var Da=Math.random().toString(36).slice(2),qi="__reactFiber$"+Da,Do="__reactProps$"+Da,Jt="__reactContainer$"+Da,$o="__reactEvents$"+Da,p0="__reactListeners$"+Da,m0="__reactHandles$"+Da;function $a(l){var d=l[qi];if(d)return d;for(var y=l.parentNode;y;){if(d=y[Jt]||y[qi]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(l=lm(l);l!==null;){if(y=l[qi])return y;l=lm(l)}return d}l=y,y=l.parentNode}return null}function za(l){return l=l[qi]||l[Jt],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Wa(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function eu(l){return l[Do]||null}var g0=[],tu=-1;function zo(l){return{current:l}}function gr(l){0>tu||(l.current=g0[tu],g0[tu]=null,tu--)}function dr(l,d){tu++,g0[tu]=l.current,l.current=d}var Wo={},Mn=zo(Wo),ui=zo(!1),$l=Wo;function ru(l,d){var y=l.type.contextTypes;if(!y)return Wo;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var T={},M;for(M in y)T[M]=d[M];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=T),T}function di(l){return l=l.childContextTypes,l!=null}function cm(){gr(ui),gr(Mn)}function Nk(l,d,y){if(Mn.current!==Wo)throw Error(r(168));dr(Mn,d),dr(ui,y)}function kk(l,d,y){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var T in w)if(!(T in d))throw Error(r(108,Be(l)||"Unknown",T));return se({},y,w)}function um(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Wo,$l=Mn.current,dr(Mn,l),dr(ui,ui.current),!0}function Pk(l,d,y){var w=l.stateNode;if(!w)throw Error(r(169));y?(l=kk(l,d,$l),w.__reactInternalMemoizedMergedChildContext=l,gr(ui),gr(Mn),dr(Mn,l)):gr(ui),dr(ui,y)}var Ba=null,dm=!1,y0=!1;function Tk(l){Ba===null?Ba=[l]:Ba.push(l)}function x$(l){dm=!0,Tk(l)}function Bo(){if(!y0&&Ba!==null){y0=!0;var l=0,d=Dt;try{var y=Ba;for(Dt=1;l<y.length;l++){var w=y[l];do w=w(!0);while(w!==null)}Ba=null,dm=!1}catch(T){throw Ba!==null&&(Ba=Ba.slice(l+1)),ai(Ys,Bo),T}finally{Dt=d,y0=!1}}return null}var nu=[],iu=0,fm=null,hm=0,Hi=[],Ki=0,zl=null,Fa=1,Ua="";function Wl(l,d){nu[iu++]=hm,nu[iu++]=fm,fm=l,hm=d}function Ek(l,d,y){Hi[Ki++]=Fa,Hi[Ki++]=Ua,Hi[Ki++]=zl,zl=l;var w=Fa;l=Ua;var T=32-Pt(w)-1;w&=~(1<<T),y+=1;var M=32-Pt(d)+T;if(30<M){var V=T-T%5;M=(w&(1<<V)-1).toString(32),w>>=V,T-=V,Fa=1<<32-Pt(d)+T|y<<T|w,Ua=M+l}else Fa=1<<M|y<<T|w,Ua=l}function x0(l){l.return!==null&&(Wl(l,1),Ek(l,1,0))}function v0(l){for(;l===fm;)fm=nu[--iu],nu[iu]=null,hm=nu[--iu],nu[iu]=null;for(;l===zl;)zl=Hi[--Ki],Hi[Ki]=null,Ua=Hi[--Ki],Hi[Ki]=null,Fa=Hi[--Ki],Hi[Ki]=null}var ki=null,Pi=null,vr=!1,xs=null;function Ck(l,d){var y=Xi(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=l,d=l.deletions,d===null?(l.deletions=[y],l.flags|=16):d.push(y)}function Ak(l,d){switch(l.tag){case 5:var y=l.type;return d=d.nodeType!==1||y.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,ki=l,Pi=aa(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,ki=l,Pi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(y=zl!==null?{id:Fa,overflow:Ua}:null,l.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Xi(18,null,null,0),y.stateNode=d,y.return=l,l.child=y,ki=l,Pi=null,!0):!1;default:return!1}}function b0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function w0(l){if(vr){var d=Pi;if(d){var y=d;if(!Ak(l,d)){if(b0(l))throw Error(r(418));d=aa(y.nextSibling);var w=ki;d&&Ak(l,d)?Ck(w,y):(l.flags=l.flags&-4097|2,vr=!1,ki=l)}}else{if(b0(l))throw Error(r(418));l.flags=l.flags&-4097|2,vr=!1,ki=l}}}function Ok(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ki=l}function pm(l){if(l!==ki)return!1;if(!vr)return Ok(l),vr=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!Ot(l.type,l.memoizedProps)),d&&(d=Pi)){if(b0(l))throw Mk(),Error(r(418));for(;d;)Ck(l,d),d=aa(d.nextSibling)}if(Ok(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var y=l.data;if(y==="/$"){if(d===0){Pi=aa(l.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++}l=l.nextSibling}Pi=null}}else Pi=ki?aa(l.stateNode.nextSibling):null;return!0}function Mk(){for(var l=Pi;l;)l=aa(l.nextSibling)}function su(){Pi=ki=null,vr=!1}function _0(l){xs===null?xs=[l]:xs.push(l)}var v$=R.ReactCurrentBatchConfig;function nf(l,d,y){if(l=y.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var w=y.stateNode}if(!w)throw Error(r(147,l));var T=w,M=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===M?d.ref:(d=function(V){var ae=T.refs;V===null?delete ae[M]:ae[M]=V},d._stringRef=M,d)}if(typeof l!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,l))}return l}function mm(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Rk(l){var d=l._init;return d(l._payload)}function Ik(l){function d(be,me){if(l){var Se=be.deletions;Se===null?(be.deletions=[me],be.flags|=16):Se.push(me)}}function y(be,me){if(!l)return null;for(;me!==null;)d(be,me),me=me.sibling;return null}function w(be,me){for(be=new Map;me!==null;)me.key!==null?be.set(me.key,me):be.set(me.index,me),me=me.sibling;return be}function T(be,me){return be=Zo(be,me),be.index=0,be.sibling=null,be}function M(be,me,Se){return be.index=Se,l?(Se=be.alternate,Se!==null?(Se=Se.index,Se<me?(be.flags|=2,me):Se):(be.flags|=2,me)):(be.flags|=1048576,me)}function V(be){return l&&be.alternate===null&&(be.flags|=2),be}function ae(be,me,Se,Ge){return me===null||me.tag!==6?(me=hv(Se,be.mode,Ge),me.return=be,me):(me=T(me,Se),me.return=be,me)}function fe(be,me,Se,Ge){var dt=Se.type;return dt===$?Ve(be,me,Se.props.children,Ge,Se.key):me!==null&&(me.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&Rk(dt)===me.type)?(Ge=T(me,Se.props),Ge.ref=nf(be,me,Se),Ge.return=be,Ge):(Ge=zm(Se.type,Se.key,Se.props,null,be.mode,Ge),Ge.ref=nf(be,me,Se),Ge.return=be,Ge)}function Ee(be,me,Se,Ge){return me===null||me.tag!==4||me.stateNode.containerInfo!==Se.containerInfo||me.stateNode.implementation!==Se.implementation?(me=pv(Se,be.mode,Ge),me.return=be,me):(me=T(me,Se.children||[]),me.return=be,me)}function Ve(be,me,Se,Ge,dt){return me===null||me.tag!==7?(me=Gl(Se,be.mode,Ge,dt),me.return=be,me):(me=T(me,Se),me.return=be,me)}function He(be,me,Se){if(typeof me=="string"&&me!==""||typeof me=="number")return me=hv(""+me,be.mode,Se),me.return=be,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return Se=zm(me.type,me.key,me.props,null,be.mode,Se),Se.ref=nf(be,null,me),Se.return=be,Se;case E:return me=pv(me,be.mode,Se),me.return=be,me;case F:var Ge=me._init;return He(be,Ge(me._payload),Se)}if(Fe(me)||ie(me))return me=Gl(me,be.mode,Se,null),me.return=be,me;mm(be,me)}return null}function Ue(be,me,Se,Ge){var dt=me!==null?me.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return dt!==null?null:ae(be,me,""+Se,Ge);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case A:return Se.key===dt?fe(be,me,Se,Ge):null;case E:return Se.key===dt?Ee(be,me,Se,Ge):null;case F:return dt=Se._init,Ue(be,me,dt(Se._payload),Ge)}if(Fe(Se)||ie(Se))return dt!==null?null:Ve(be,me,Se,Ge,null);mm(be,Se)}return null}function tt(be,me,Se,Ge,dt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return be=be.get(Se)||null,ae(me,be,""+Ge,dt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case A:return be=be.get(Ge.key===null?Se:Ge.key)||null,fe(me,be,Ge,dt);case E:return be=be.get(Ge.key===null?Se:Ge.key)||null,Ee(me,be,Ge,dt);case F:var gt=Ge._init;return tt(be,me,Se,gt(Ge._payload),dt)}if(Fe(Ge)||ie(Ge))return be=be.get(Se)||null,Ve(me,be,Ge,dt,null);mm(me,Ge)}return null}function ot(be,me,Se,Ge){for(var dt=null,gt=null,yt=me,kt=me=0,gn=null;yt!==null&&kt<Se.length;kt++){yt.index>kt?(gn=yt,yt=null):gn=yt.sibling;var Ut=Ue(be,yt,Se[kt],Ge);if(Ut===null){yt===null&&(yt=gn);break}l&&yt&&Ut.alternate===null&&d(be,yt),me=M(Ut,me,kt),gt===null?dt=Ut:gt.sibling=Ut,gt=Ut,yt=gn}if(kt===Se.length)return y(be,yt),vr&&Wl(be,kt),dt;if(yt===null){for(;kt<Se.length;kt++)yt=He(be,Se[kt],Ge),yt!==null&&(me=M(yt,me,kt),gt===null?dt=yt:gt.sibling=yt,gt=yt);return vr&&Wl(be,kt),dt}for(yt=w(be,yt);kt<Se.length;kt++)gn=tt(yt,be,kt,Se[kt],Ge),gn!==null&&(l&&gn.alternate!==null&&yt.delete(gn.key===null?kt:gn.key),me=M(gn,me,kt),gt===null?dt=gn:gt.sibling=gn,gt=gn);return l&&yt.forEach(function(Yo){return d(be,Yo)}),vr&&Wl(be,kt),dt}function ct(be,me,Se,Ge){var dt=ie(Se);if(typeof dt!="function")throw Error(r(150));if(Se=dt.call(Se),Se==null)throw Error(r(151));for(var gt=dt=null,yt=me,kt=me=0,gn=null,Ut=Se.next();yt!==null&&!Ut.done;kt++,Ut=Se.next()){yt.index>kt?(gn=yt,yt=null):gn=yt.sibling;var Yo=Ue(be,yt,Ut.value,Ge);if(Yo===null){yt===null&&(yt=gn);break}l&&yt&&Yo.alternate===null&&d(be,yt),me=M(Yo,me,kt),gt===null?dt=Yo:gt.sibling=Yo,gt=Yo,yt=gn}if(Ut.done)return y(be,yt),vr&&Wl(be,kt),dt;if(yt===null){for(;!Ut.done;kt++,Ut=Se.next())Ut=He(be,Ut.value,Ge),Ut!==null&&(me=M(Ut,me,kt),gt===null?dt=Ut:gt.sibling=Ut,gt=Ut);return vr&&Wl(be,kt),dt}for(yt=w(be,yt);!Ut.done;kt++,Ut=Se.next())Ut=tt(yt,be,kt,Ut.value,Ge),Ut!==null&&(l&&Ut.alternate!==null&&yt.delete(Ut.key===null?kt:Ut.key),me=M(Ut,me,kt),gt===null?dt=Ut:gt.sibling=Ut,gt=Ut);return l&&yt.forEach(function(J$){return d(be,J$)}),vr&&Wl(be,kt),dt}function Lr(be,me,Se,Ge){if(typeof Se=="object"&&Se!==null&&Se.type===$&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case A:e:{for(var dt=Se.key,gt=me;gt!==null;){if(gt.key===dt){if(dt=Se.type,dt===$){if(gt.tag===7){y(be,gt.sibling),me=T(gt,Se.props.children),me.return=be,be=me;break e}}else if(gt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&Rk(dt)===gt.type){y(be,gt.sibling),me=T(gt,Se.props),me.ref=nf(be,gt,Se),me.return=be,be=me;break e}y(be,gt);break}else d(be,gt);gt=gt.sibling}Se.type===$?(me=Gl(Se.props.children,be.mode,Ge,Se.key),me.return=be,be=me):(Ge=zm(Se.type,Se.key,Se.props,null,be.mode,Ge),Ge.ref=nf(be,me,Se),Ge.return=be,be=Ge)}return V(be);case E:e:{for(gt=Se.key;me!==null;){if(me.key===gt)if(me.tag===4&&me.stateNode.containerInfo===Se.containerInfo&&me.stateNode.implementation===Se.implementation){y(be,me.sibling),me=T(me,Se.children||[]),me.return=be,be=me;break e}else{y(be,me);break}else d(be,me);me=me.sibling}me=pv(Se,be.mode,Ge),me.return=be,be=me}return V(be);case F:return gt=Se._init,Lr(be,me,gt(Se._payload),Ge)}if(Fe(Se))return ot(be,me,Se,Ge);if(ie(Se))return ct(be,me,Se,Ge);mm(be,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,me!==null&&me.tag===6?(y(be,me.sibling),me=T(me,Se),me.return=be,be=me):(y(be,me),me=hv(Se,be.mode,Ge),me.return=be,be=me),V(be)):y(be,me)}return Lr}var au=Ik(!0),Lk=Ik(!1),gm=zo(null),ym=null,ou=null,j0=null;function S0(){j0=ou=ym=null}function N0(l){var d=gm.current;gr(gm),l._currentValue=d}function k0(l,d,y){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===y)break;l=l.return}}function lu(l,d){ym=l,j0=ou=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(fi=!0),l.firstContext=null)}function Gi(l){var d=l._currentValue;if(j0!==l)if(l={context:l,memoizedValue:d,next:null},ou===null){if(ym===null)throw Error(r(308));ou=l,ym.dependencies={lanes:0,firstContext:l}}else ou=ou.next=l;return d}var Bl=null;function P0(l){Bl===null?Bl=[l]:Bl.push(l)}function Dk(l,d,y,w){var T=d.interleaved;return T===null?(y.next=y,P0(d)):(y.next=T.next,T.next=y),d.interleaved=y,Va(l,w)}function Va(l,d){l.lanes|=d;var y=l.alternate;for(y!==null&&(y.lanes|=d),y=l,l=l.return;l!==null;)l.childLanes|=d,y=l.alternate,y!==null&&(y.childLanes|=d),y=l,l=l.return;return y.tag===3?y.stateNode:null}var Fo=!1;function T0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $k(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function qa(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Uo(l,d,y){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Bt&2)!==0){var T=w.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),w.pending=d,Va(l,y)}return T=w.interleaved,T===null?(d.next=d,P0(w)):(d.next=T.next,T.next=d),w.interleaved=d,Va(l,y)}function xm(l,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,y|=w,d.lanes=y,hs(l,y)}}function zk(l,d){var y=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var T=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var V={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};M===null?T=M=V:M=M.next=V,y=y.next}while(y!==null);M===null?T=M=d:M=M.next=d}else T=M=d;y={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:w.shared,effects:w.effects},l.updateQueue=y;return}l=y.lastBaseUpdate,l===null?y.firstBaseUpdate=d:l.next=d,y.lastBaseUpdate=d}function vm(l,d,y,w){var T=l.updateQueue;Fo=!1;var M=T.firstBaseUpdate,V=T.lastBaseUpdate,ae=T.shared.pending;if(ae!==null){T.shared.pending=null;var fe=ae,Ee=fe.next;fe.next=null,V===null?M=Ee:V.next=Ee,V=fe;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,ae=Ve.lastBaseUpdate,ae!==V&&(ae===null?Ve.firstBaseUpdate=Ee:ae.next=Ee,Ve.lastBaseUpdate=fe))}if(M!==null){var He=T.baseState;V=0,Ve=Ee=fe=null,ae=M;do{var Ue=ae.lane,tt=ae.eventTime;if((w&Ue)===Ue){Ve!==null&&(Ve=Ve.next={eventTime:tt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ot=l,ct=ae;switch(Ue=d,tt=y,ct.tag){case 1:if(ot=ct.payload,typeof ot=="function"){He=ot.call(tt,He,Ue);break e}He=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ct.payload,Ue=typeof ot=="function"?ot.call(tt,He,Ue):ot,Ue==null)break e;He=se({},He,Ue);break e;case 2:Fo=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,Ue=T.effects,Ue===null?T.effects=[ae]:Ue.push(ae))}else tt={eventTime:tt,lane:Ue,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ve===null?(Ee=Ve=tt,fe=He):Ve=Ve.next=tt,V|=Ue;if(ae=ae.next,ae===null){if(ae=T.shared.pending,ae===null)break;Ue=ae,ae=Ue.next,Ue.next=null,T.lastBaseUpdate=Ue,T.shared.pending=null}}while(!0);if(Ve===null&&(fe=He),T.baseState=fe,T.firstBaseUpdate=Ee,T.lastBaseUpdate=Ve,d=T.shared.interleaved,d!==null){T=d;do V|=T.lane,T=T.next;while(T!==d)}else M===null&&(T.shared.lanes=0);Vl|=V,l.lanes=V,l.memoizedState=He}}function Wk(l,d,y){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],T=w.callback;if(T!==null){if(w.callback=null,w=y,typeof T!="function")throw Error(r(191,T));T.call(w)}}}var sf={},oa=zo(sf),af=zo(sf),of=zo(sf);function Fl(l){if(l===sf)throw Error(r(174));return l}function E0(l,d){switch(dr(of,d),dr(af,l),dr(oa,sf),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Pe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Pe(d,l)}gr(oa),dr(oa,d)}function cu(){gr(oa),gr(af),gr(of)}function Bk(l){Fl(of.current);var d=Fl(oa.current),y=Pe(d,l.type);d!==y&&(dr(af,l),dr(oa,y))}function C0(l){af.current===l&&(gr(oa),gr(af))}var kr=zo(0);function bm(l){for(var d=l;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var A0=[];function O0(){for(var l=0;l<A0.length;l++)A0[l]._workInProgressVersionPrimary=null;A0.length=0}var wm=R.ReactCurrentDispatcher,M0=R.ReactCurrentBatchConfig,Ul=0,Pr=null,tn=null,pn=null,_m=!1,lf=!1,cf=0,b$=0;function Rn(){throw Error(r(321))}function R0(l,d){if(d===null)return!1;for(var y=0;y<d.length&&y<l.length;y++)if(!Si(l[y],d[y]))return!1;return!0}function I0(l,d,y,w,T,M){if(Ul=M,Pr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,wm.current=l===null||l.memoizedState===null?S$:N$,l=y(w,T),lf){M=0;do{if(lf=!1,cf=0,25<=M)throw Error(r(301));M+=1,pn=tn=null,d.updateQueue=null,wm.current=k$,l=y(w,T)}while(lf)}if(wm.current=Nm,d=tn!==null&&tn.next!==null,Ul=0,pn=tn=Pr=null,_m=!1,d)throw Error(r(300));return l}function L0(){var l=cf!==0;return cf=0,l}function la(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Pr.memoizedState=pn=l:pn=pn.next=l,pn}function Zi(){if(tn===null){var l=Pr.alternate;l=l!==null?l.memoizedState:null}else l=tn.next;var d=pn===null?Pr.memoizedState:pn.next;if(d!==null)pn=d,tn=l;else{if(l===null)throw Error(r(310));tn=l,l={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},pn===null?Pr.memoizedState=pn=l:pn=pn.next=l}return pn}function uf(l,d){return typeof d=="function"?d(l):d}function D0(l){var d=Zi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=l;var w=tn,T=w.baseQueue,M=y.pending;if(M!==null){if(T!==null){var V=T.next;T.next=M.next,M.next=V}w.baseQueue=T=M,y.pending=null}if(T!==null){M=T.next,w=w.baseState;var ae=V=null,fe=null,Ee=M;do{var Ve=Ee.lane;if((Ul&Ve)===Ve)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:l(w,Ee.action);else{var He={lane:Ve,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(ae=fe=He,V=w):fe=fe.next=He,Pr.lanes|=Ve,Vl|=Ve}Ee=Ee.next}while(Ee!==null&&Ee!==M);fe===null?V=w:fe.next=ae,Si(w,d.memoizedState)||(fi=!0),d.memoizedState=w,d.baseState=V,d.baseQueue=fe,y.lastRenderedState=w}if(l=y.interleaved,l!==null){T=l;do M=T.lane,Pr.lanes|=M,Vl|=M,T=T.next;while(T!==l)}else T===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function $0(l){var d=Zi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=l;var w=y.dispatch,T=y.pending,M=d.memoizedState;if(T!==null){y.pending=null;var V=T=T.next;do M=l(M,V.action),V=V.next;while(V!==T);Si(M,d.memoizedState)||(fi=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),y.lastRenderedState=M}return[M,w]}function Fk(){}function Uk(l,d){var y=Pr,w=Zi(),T=d(),M=!Si(w.memoizedState,T);if(M&&(w.memoizedState=T,fi=!0),w=w.queue,z0(Hk.bind(null,y,w,l),[l]),w.getSnapshot!==d||M||pn!==null&&pn.memoizedState.tag&1){if(y.flags|=2048,df(9,qk.bind(null,y,w,T,d),void 0,null),mn===null)throw Error(r(349));(Ul&30)!==0||Vk(y,d,T)}return T}function Vk(l,d,y){l.flags|=16384,l={getSnapshot:d,value:y},d=Pr.updateQueue,d===null?(d={lastEffect:null,stores:null},Pr.updateQueue=d,d.stores=[l]):(y=d.stores,y===null?d.stores=[l]:y.push(l))}function qk(l,d,y,w){d.value=y,d.getSnapshot=w,Kk(d)&&Gk(l)}function Hk(l,d,y){return y(function(){Kk(d)&&Gk(l)})}function Kk(l){var d=l.getSnapshot;l=l.value;try{var y=d();return!Si(l,y)}catch{return!0}}function Gk(l){var d=Va(l,1);d!==null&&_s(d,l,1,-1)}function Zk(l){var d=la();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:l},d.queue=l,l=l.dispatch=j$.bind(null,Pr,l),[d.memoizedState,l]}function df(l,d,y,w){return l={tag:l,create:d,destroy:y,deps:w,next:null},d=Pr.updateQueue,d===null?(d={lastEffect:null,stores:null},Pr.updateQueue=d,d.lastEffect=l.next=l):(y=d.lastEffect,y===null?d.lastEffect=l.next=l:(w=y.next,y.next=l,l.next=w,d.lastEffect=l)),l}function Yk(){return Zi().memoizedState}function jm(l,d,y,w){var T=la();Pr.flags|=l,T.memoizedState=df(1|d,y,void 0,w===void 0?null:w)}function Sm(l,d,y,w){var T=Zi();w=w===void 0?null:w;var M=void 0;if(tn!==null){var V=tn.memoizedState;if(M=V.destroy,w!==null&&R0(w,V.deps)){T.memoizedState=df(d,y,M,w);return}}Pr.flags|=l,T.memoizedState=df(1|d,y,M,w)}function Xk(l,d){return jm(8390656,8,l,d)}function z0(l,d){return Sm(2048,8,l,d)}function Jk(l,d){return Sm(4,2,l,d)}function Qk(l,d){return Sm(4,4,l,d)}function eP(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function tP(l,d,y){return y=y!=null?y.concat([l]):null,Sm(4,4,eP.bind(null,d,l),y)}function W0(){}function rP(l,d){var y=Zi();d=d===void 0?null:d;var w=y.memoizedState;return w!==null&&d!==null&&R0(d,w[1])?w[0]:(y.memoizedState=[l,d],l)}function nP(l,d){var y=Zi();d=d===void 0?null:d;var w=y.memoizedState;return w!==null&&d!==null&&R0(d,w[1])?w[0]:(l=l(),y.memoizedState=[l,d],l)}function iP(l,d,y){return(Ul&21)===0?(l.baseState&&(l.baseState=!1,fi=!0),l.memoizedState=y):(Si(y,d)||(y=Wp(),Pr.lanes|=y,Vl|=y,l.baseState=!0),d)}function w$(l,d){var y=Dt;Dt=y!==0&&4>y?y:4,l(!0);var w=M0.transition;M0.transition={};try{l(!1),d()}finally{Dt=y,M0.transition=w}}function sP(){return Zi().memoizedState}function _$(l,d,y){var w=Ko(l);if(y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},aP(l))oP(d,y);else if(y=Dk(l,d,y,w),y!==null){var T=Zn();_s(y,l,w,T),lP(y,d,w)}}function j$(l,d,y){var w=Ko(l),T={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(aP(l))oP(d,T);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var V=d.lastRenderedState,ae=M(V,y);if(T.hasEagerState=!0,T.eagerState=ae,Si(ae,V)){var fe=d.interleaved;fe===null?(T.next=T,P0(d)):(T.next=fe.next,fe.next=T),d.interleaved=T;return}}catch{}finally{}y=Dk(l,d,T,w),y!==null&&(T=Zn(),_s(y,l,w,T),lP(y,d,w))}}function aP(l){var d=l.alternate;return l===Pr||d!==null&&d===Pr}function oP(l,d){lf=_m=!0;var y=l.pending;y===null?d.next=d:(d.next=y.next,y.next=d),l.pending=d}function lP(l,d,y){if((y&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,y|=w,d.lanes=y,hs(l,y)}}var Nm={readContext:Gi,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},S$={readContext:Gi,useCallback:function(l,d){return la().memoizedState=[l,d===void 0?null:d],l},useContext:Gi,useEffect:Xk,useImperativeHandle:function(l,d,y){return y=y!=null?y.concat([l]):null,jm(4194308,4,eP.bind(null,d,l),y)},useLayoutEffect:function(l,d){return jm(4194308,4,l,d)},useInsertionEffect:function(l,d){return jm(4,2,l,d)},useMemo:function(l,d){var y=la();return d=d===void 0?null:d,l=l(),y.memoizedState=[l,d],l},useReducer:function(l,d,y){var w=la();return d=y!==void 0?y(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=_$.bind(null,Pr,l),[w.memoizedState,l]},useRef:function(l){var d=la();return l={current:l},d.memoizedState=l},useState:Zk,useDebugValue:W0,useDeferredValue:function(l){return la().memoizedState=l},useTransition:function(){var l=Zk(!1),d=l[0];return l=w$.bind(null,l[1]),la().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,y){var w=Pr,T=la();if(vr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),mn===null)throw Error(r(349));(Ul&30)!==0||Vk(w,d,y)}T.memoizedState=y;var M={value:y,getSnapshot:d};return T.queue=M,Xk(Hk.bind(null,w,M,l),[l]),w.flags|=2048,df(9,qk.bind(null,w,M,y,d),void 0,null),y},useId:function(){var l=la(),d=mn.identifierPrefix;if(vr){var y=Ua,w=Fa;y=(w&~(1<<32-Pt(w)-1)).toString(32)+y,d=":"+d+"R"+y,y=cf++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=b$++,d=":"+d+"r"+y.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},N$={readContext:Gi,useCallback:rP,useContext:Gi,useEffect:z0,useImperativeHandle:tP,useInsertionEffect:Jk,useLayoutEffect:Qk,useMemo:nP,useReducer:D0,useRef:Yk,useState:function(){return D0(uf)},useDebugValue:W0,useDeferredValue:function(l){var d=Zi();return iP(d,tn.memoizedState,l)},useTransition:function(){var l=D0(uf)[0],d=Zi().memoizedState;return[l,d]},useMutableSource:Fk,useSyncExternalStore:Uk,useId:sP,unstable_isNewReconciler:!1},k$={readContext:Gi,useCallback:rP,useContext:Gi,useEffect:z0,useImperativeHandle:tP,useInsertionEffect:Jk,useLayoutEffect:Qk,useMemo:nP,useReducer:$0,useRef:Yk,useState:function(){return $0(uf)},useDebugValue:W0,useDeferredValue:function(l){var d=Zi();return tn===null?d.memoizedState=l:iP(d,tn.memoizedState,l)},useTransition:function(){var l=$0(uf)[0],d=Zi().memoizedState;return[l,d]},useMutableSource:Fk,useSyncExternalStore:Uk,useId:sP,unstable_isNewReconciler:!1};function vs(l,d){if(l&&l.defaultProps){d=se({},d),l=l.defaultProps;for(var y in l)d[y]===void 0&&(d[y]=l[y]);return d}return d}function B0(l,d,y,w){d=l.memoizedState,y=y(w,d),y=y==null?d:se({},d,y),l.memoizedState=y,l.lanes===0&&(l.updateQueue.baseState=y)}var km={isMounted:function(l){return(l=l._reactInternals)?ir(l)===l:!1},enqueueSetState:function(l,d,y){l=l._reactInternals;var w=Zn(),T=Ko(l),M=qa(w,T);M.payload=d,y!=null&&(M.callback=y),d=Uo(l,M,T),d!==null&&(_s(d,l,T,w),xm(d,l,T))},enqueueReplaceState:function(l,d,y){l=l._reactInternals;var w=Zn(),T=Ko(l),M=qa(w,T);M.tag=1,M.payload=d,y!=null&&(M.callback=y),d=Uo(l,M,T),d!==null&&(_s(d,l,T,w),xm(d,l,T))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var y=Zn(),w=Ko(l),T=qa(y,w);T.tag=2,d!=null&&(T.callback=d),d=Uo(l,T,w),d!==null&&(_s(d,l,w,y),xm(d,l,w))}};function cP(l,d,y,w,T,M,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,M,V):d.prototype&&d.prototype.isPureReactComponent?!na(y,w)||!na(T,M):!0}function uP(l,d,y){var w=!1,T=Wo,M=d.contextType;return typeof M=="object"&&M!==null?M=Gi(M):(T=di(d)?$l:Mn.current,w=d.contextTypes,M=(w=w!=null)?ru(l,T):Wo),d=new d(y,M),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=km,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=T,l.__reactInternalMemoizedMaskedChildContext=M),d}function dP(l,d,y,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,w),d.state!==l&&km.enqueueReplaceState(d,d.state,null)}function F0(l,d,y,w){var T=l.stateNode;T.props=y,T.state=l.memoizedState,T.refs={},T0(l);var M=d.contextType;typeof M=="object"&&M!==null?T.context=Gi(M):(M=di(d)?$l:Mn.current,T.context=ru(l,M)),T.state=l.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(B0(l,d,M,y),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&km.enqueueReplaceState(T,T.state,null),vm(l,y,T,w),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308)}function uu(l,d){try{var y="",w=d;do y+=Ce(w),w=w.return;while(w);var T=y}catch(M){T=`
Error generating stack: `+M.message+`
`+M.stack}return{value:l,source:d,stack:T,digest:null}}function U0(l,d,y){return{value:l,source:null,stack:y??null,digest:d??null}}function V0(l,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var P$=typeof WeakMap=="function"?WeakMap:Map;function fP(l,d,y){y=qa(-1,y),y.tag=3,y.payload={element:null};var w=d.value;return y.callback=function(){Mm||(Mm=!0,sv=w),V0(l,d)},y}function hP(l,d,y){y=qa(-1,y),y.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var T=d.value;y.payload=function(){return w(T)},y.callback=function(){V0(l,d)}}var M=l.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(y.callback=function(){V0(l,d),typeof w!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),y}function pP(l,d,y){var w=l.pingCache;if(w===null){w=l.pingCache=new P$;var T=new Set;w.set(d,T)}else T=w.get(d),T===void 0&&(T=new Set,w.set(d,T));T.has(y)||(T.add(y),l=B$.bind(null,l,d,y),d.then(l,l))}function mP(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function gP(l,d,y,w,T){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=qa(-1,1),d.tag=2,Uo(y,d,1))),y.lanes|=1),l):(l.flags|=65536,l.lanes=T,l)}var T$=R.ReactCurrentOwner,fi=!1;function Gn(l,d,y,w){d.child=l===null?Lk(d,null,y,w):au(d,l.child,y,w)}function yP(l,d,y,w,T){y=y.render;var M=d.ref;return lu(d,T),w=I0(l,d,y,w,M,T),y=L0(),l!==null&&!fi?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~T,Ha(l,d,T)):(vr&&y&&x0(d),d.flags|=1,Gn(l,d,w,T),d.child)}function xP(l,d,y,w,T){if(l===null){var M=y.type;return typeof M=="function"&&!fv(M)&&M.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=M,vP(l,d,M,w,T)):(l=zm(y.type,null,w,d,d.mode,T),l.ref=d.ref,l.return=d,d.child=l)}if(M=l.child,(l.lanes&T)===0){var V=M.memoizedProps;if(y=y.compare,y=y!==null?y:na,y(V,w)&&l.ref===d.ref)return Ha(l,d,T)}return d.flags|=1,l=Zo(M,w),l.ref=d.ref,l.return=d,d.child=l}function vP(l,d,y,w,T){if(l!==null){var M=l.memoizedProps;if(na(M,w)&&l.ref===d.ref)if(fi=!1,d.pendingProps=w=M,(l.lanes&T)!==0)(l.flags&131072)!==0&&(fi=!0);else return d.lanes=l.lanes,Ha(l,d,T)}return q0(l,d,y,w,T)}function bP(l,d,y){var w=d.pendingProps,T=w.children,M=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(fu,Ti),Ti|=y;else{if((y&1073741824)===0)return l=M!==null?M.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,dr(fu,Ti),Ti|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=M!==null?M.baseLanes:y,dr(fu,Ti),Ti|=w}else M!==null?(w=M.baseLanes|y,d.memoizedState=null):w=y,dr(fu,Ti),Ti|=w;return Gn(l,d,T,y),d.child}function wP(l,d){var y=d.ref;(l===null&&y!==null||l!==null&&l.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function q0(l,d,y,w,T){var M=di(y)?$l:Mn.current;return M=ru(d,M),lu(d,T),y=I0(l,d,y,w,M,T),w=L0(),l!==null&&!fi?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~T,Ha(l,d,T)):(vr&&w&&x0(d),d.flags|=1,Gn(l,d,y,T),d.child)}function _P(l,d,y,w,T){if(di(y)){var M=!0;um(d)}else M=!1;if(lu(d,T),d.stateNode===null)Tm(l,d),uP(d,y,w),F0(d,y,w,T),w=!0;else if(l===null){var V=d.stateNode,ae=d.memoizedProps;V.props=ae;var fe=V.context,Ee=y.contextType;typeof Ee=="object"&&Ee!==null?Ee=Gi(Ee):(Ee=di(y)?$l:Mn.current,Ee=ru(d,Ee));var Ve=y.getDerivedStateFromProps,He=typeof Ve=="function"||typeof V.getSnapshotBeforeUpdate=="function";He||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==w||fe!==Ee)&&dP(d,V,w,Ee),Fo=!1;var Ue=d.memoizedState;V.state=Ue,vm(d,w,V,T),fe=d.memoizedState,ae!==w||Ue!==fe||ui.current||Fo?(typeof Ve=="function"&&(B0(d,y,Ve,w),fe=d.memoizedState),(ae=Fo||cP(d,y,ae,w,Ue,fe,Ee))?(He||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=fe),V.props=w,V.state=fe,V.context=Ee,w=ae):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{V=d.stateNode,$k(l,d),ae=d.memoizedProps,Ee=d.type===d.elementType?ae:vs(d.type,ae),V.props=Ee,He=d.pendingProps,Ue=V.context,fe=y.contextType,typeof fe=="object"&&fe!==null?fe=Gi(fe):(fe=di(y)?$l:Mn.current,fe=ru(d,fe));var tt=y.getDerivedStateFromProps;(Ve=typeof tt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==He||Ue!==fe)&&dP(d,V,w,fe),Fo=!1,Ue=d.memoizedState,V.state=Ue,vm(d,w,V,T);var ot=d.memoizedState;ae!==He||Ue!==ot||ui.current||Fo?(typeof tt=="function"&&(B0(d,y,tt,w),ot=d.memoizedState),(Ee=Fo||cP(d,y,Ee,w,Ue,ot,fe)||!1)?(Ve||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(w,ot,fe),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(w,ot,fe)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||ae===l.memoizedProps&&Ue===l.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Ue===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=ot),V.props=w,V.state=ot,V.context=fe,w=Ee):(typeof V.componentDidUpdate!="function"||ae===l.memoizedProps&&Ue===l.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Ue===l.memoizedState||(d.flags|=1024),w=!1)}return H0(l,d,y,w,M,T)}function H0(l,d,y,w,T,M){wP(l,d);var V=(d.flags&128)!==0;if(!w&&!V)return T&&Pk(d,y,!1),Ha(l,d,M);w=d.stateNode,T$.current=d;var ae=V&&typeof y.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&V?(d.child=au(d,l.child,null,M),d.child=au(d,null,ae,M)):Gn(l,d,ae,M),d.memoizedState=w.state,T&&Pk(d,y,!0),d.child}function jP(l){var d=l.stateNode;d.pendingContext?Nk(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Nk(l,d.context,!1),E0(l,d.containerInfo)}function SP(l,d,y,w,T){return su(),_0(T),d.flags|=256,Gn(l,d,y,w),d.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function G0(l){return{baseLanes:l,cachePool:null,transitions:null}}function NP(l,d,y){var w=d.pendingProps,T=kr.current,M=!1,V=(d.flags&128)!==0,ae;if((ae=V)||(ae=l!==null&&l.memoizedState===null?!1:(T&2)!==0),ae?(M=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(T|=1),dr(kr,T&1),l===null)return w0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(V=w.children,l=w.fallback,M?(w=d.mode,M=d.child,V={mode:"hidden",children:V},(w&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=V):M=Wm(V,w,0,null),l=Gl(l,w,y,null),M.return=d,l.return=d,M.sibling=l,d.child=M,d.child.memoizedState=G0(y),d.memoizedState=K0,l):Z0(d,V));if(T=l.memoizedState,T!==null&&(ae=T.dehydrated,ae!==null))return E$(l,d,V,w,ae,T,y);if(M){M=w.fallback,V=d.mode,T=l.child,ae=T.sibling;var fe={mode:"hidden",children:w.children};return(V&1)===0&&d.child!==T?(w=d.child,w.childLanes=0,w.pendingProps=fe,d.deletions=null):(w=Zo(T,fe),w.subtreeFlags=T.subtreeFlags&14680064),ae!==null?M=Zo(ae,M):(M=Gl(M,V,y,null),M.flags|=2),M.return=d,w.return=d,w.sibling=M,d.child=w,w=M,M=d.child,V=l.child.memoizedState,V=V===null?G0(y):{baseLanes:V.baseLanes|y,cachePool:null,transitions:V.transitions},M.memoizedState=V,M.childLanes=l.childLanes&~y,d.memoizedState=K0,w}return M=l.child,l=M.sibling,w=Zo(M,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=y),w.return=d,w.sibling=null,l!==null&&(y=d.deletions,y===null?(d.deletions=[l],d.flags|=16):y.push(l)),d.child=w,d.memoizedState=null,w}function Z0(l,d){return d=Wm({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Pm(l,d,y,w){return w!==null&&_0(w),au(d,l.child,null,y),l=Z0(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function E$(l,d,y,w,T,M,V){if(y)return d.flags&256?(d.flags&=-257,w=U0(Error(r(422))),Pm(l,d,V,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(M=w.fallback,T=d.mode,w=Wm({mode:"visible",children:w.children},T,0,null),M=Gl(M,T,V,null),M.flags|=2,w.return=d,M.return=d,w.sibling=M,d.child=w,(d.mode&1)!==0&&au(d,l.child,null,V),d.child.memoizedState=G0(V),d.memoizedState=K0,M);if((d.mode&1)===0)return Pm(l,d,V,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ae=w.dgst;return w=ae,M=Error(r(419)),w=U0(M,w,void 0),Pm(l,d,V,w)}if(ae=(V&l.childLanes)!==0,fi||ae){if(w=mn,w!==null){switch(V&-V){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|V))!==0?0:T,T!==0&&T!==M.retryLane&&(M.retryLane=T,Va(l,T),_s(w,l,T,-1))}return dv(),w=U0(Error(r(421))),Pm(l,d,V,w)}return T.data==="$?"?(d.flags|=128,d.child=l.child,d=F$.bind(null,l),T._reactRetry=d,null):(l=M.treeContext,Pi=aa(T.nextSibling),ki=d,vr=!0,xs=null,l!==null&&(Hi[Ki++]=Fa,Hi[Ki++]=Ua,Hi[Ki++]=zl,Fa=l.id,Ua=l.overflow,zl=d),d=Z0(d,w.children),d.flags|=4096,d)}function kP(l,d,y){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),k0(l.return,d,y)}function Y0(l,d,y,w,T){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:T}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=w,M.tail=y,M.tailMode=T)}function PP(l,d,y){var w=d.pendingProps,T=w.revealOrder,M=w.tail;if(Gn(l,d,w.children,y),w=kr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&kP(l,y,d);else if(l.tag===19)kP(l,y,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(dr(kr,w),(d.mode&1)===0)d.memoizedState=null;else switch(T){case"forwards":for(y=d.child,T=null;y!==null;)l=y.alternate,l!==null&&bm(l)===null&&(T=y),y=y.sibling;y=T,y===null?(T=d.child,d.child=null):(T=y.sibling,y.sibling=null),Y0(d,!1,T,y,M);break;case"backwards":for(y=null,T=d.child,d.child=null;T!==null;){if(l=T.alternate,l!==null&&bm(l)===null){d.child=T;break}l=T.sibling,T.sibling=y,y=T,T=l}Y0(d,!0,y,null,M);break;case"together":Y0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Tm(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Ha(l,d,y){if(l!==null&&(d.dependencies=l.dependencies),Vl|=d.lanes,(y&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,y=Zo(l,l.pendingProps),d.child=y,y.return=d;l.sibling!==null;)l=l.sibling,y=y.sibling=Zo(l,l.pendingProps),y.return=d;y.sibling=null}return d.child}function C$(l,d,y){switch(d.tag){case 3:jP(d),su();break;case 5:Bk(d);break;case 1:di(d.type)&&um(d);break;case 4:E0(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,T=d.memoizedProps.value;dr(gm,w._currentValue),w._currentValue=T;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(dr(kr,kr.current&1),d.flags|=128,null):(y&d.child.childLanes)!==0?NP(l,d,y):(dr(kr,kr.current&1),l=Ha(l,d,y),l!==null?l.sibling:null);dr(kr,kr.current&1);break;case 19:if(w=(y&d.childLanes)!==0,(l.flags&128)!==0){if(w)return PP(l,d,y);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),dr(kr,kr.current),w)break;return null;case 22:case 23:return d.lanes=0,bP(l,d,y)}return Ha(l,d,y)}var TP,X0,EP,CP;TP=function(l,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)l.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},X0=function(){},EP=function(l,d,y,w){var T=l.memoizedProps;if(T!==w){l=d.stateNode,Fl(oa.current);var M=null;switch(y){case"input":T=de(l,T),w=de(l,w),M=[];break;case"select":T=se({},T,{value:void 0}),w=se({},w,{value:void 0}),M=[];break;case"textarea":T=Q(l,T),w=Q(l,w),M=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=De)}ni(y,w);var V;y=null;for(Ee in T)if(!w.hasOwnProperty(Ee)&&T.hasOwnProperty(Ee)&&T[Ee]!=null)if(Ee==="style"){var ae=T[Ee];for(V in ae)ae.hasOwnProperty(V)&&(y||(y={}),y[V]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?M||(M=[]):(M=M||[]).push(Ee,null));for(Ee in w){var fe=w[Ee];if(ae=T!=null?T[Ee]:void 0,w.hasOwnProperty(Ee)&&fe!==ae&&(fe!=null||ae!=null))if(Ee==="style")if(ae){for(V in ae)!ae.hasOwnProperty(V)||fe&&fe.hasOwnProperty(V)||(y||(y={}),y[V]="");for(V in fe)fe.hasOwnProperty(V)&&ae[V]!==fe[V]&&(y||(y={}),y[V]=fe[V])}else y||(M||(M=[]),M.push(Ee,y)),y=fe;else Ee==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ae=ae?ae.__html:void 0,fe!=null&&ae!==fe&&(M=M||[]).push(Ee,fe)):Ee==="children"?typeof fe!="string"&&typeof fe!="number"||(M=M||[]).push(Ee,""+fe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(fe!=null&&Ee==="onScroll"&&or("scroll",l),M||ae===fe||(M=[])):(M=M||[]).push(Ee,fe))}y&&(M=M||[]).push("style",y);var Ee=M;(d.updateQueue=Ee)&&(d.flags|=4)}},CP=function(l,d,y,w){y!==w&&(d.flags|=4)};function ff(l,d){if(!vr)switch(l.tailMode){case"hidden":d=l.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l.tail=null:y.sibling=null;break;case"collapsed":y=l.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function In(l){var d=l.alternate!==null&&l.alternate.child===l.child,y=0,w=0;if(d)for(var T=l.child;T!==null;)y|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)y|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=w,l.childLanes=y,d}function A$(l,d,y){var w=d.pendingProps;switch(v0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(d),null;case 1:return di(d.type)&&cm(),In(d),null;case 3:return w=d.stateNode,cu(),gr(ui),gr(Mn),O0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(pm(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,xs!==null&&(lv(xs),xs=null))),X0(l,d),In(d),null;case 5:C0(d);var T=Fl(of.current);if(y=d.type,l!==null&&d.stateNode!=null)EP(l,d,y,w,T),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(r(166));return In(d),null}if(l=Fl(oa.current),pm(d)){w=d.stateNode,y=d.type;var M=d.memoizedProps;switch(w[qi]=d,w[Do]=M,l=(d.mode&1)!==0,y){case"dialog":or("cancel",w),or("close",w);break;case"iframe":case"object":case"embed":or("load",w);break;case"video":case"audio":for(T=0;T<Ro.length;T++)or(Ro[T],w);break;case"source":or("error",w);break;case"img":case"image":case"link":or("error",w),or("load",w);break;case"details":or("toggle",w);break;case"input":Re(w,M),or("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!M.multiple},or("invalid",w);break;case"textarea":pe(w,M),or("invalid",w)}ni(y,M),T=null;for(var V in M)if(M.hasOwnProperty(V)){var ae=M[V];V==="children"?typeof ae=="string"?w.textContent!==ae&&(M.suppressHydrationWarning!==!0&&Te(w.textContent,ae,l),T=["children",ae]):typeof ae=="number"&&w.textContent!==""+ae&&(M.suppressHydrationWarning!==!0&&Te(w.textContent,ae,l),T=["children",""+ae]):i.hasOwnProperty(V)&&ae!=null&&V==="onScroll"&&or("scroll",w)}switch(y){case"input":ke(w),qe(w,M,!0);break;case"textarea":ke(w),je(w);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(w.onclick=De)}w=T,d.updateQueue=w,w!==null&&(d.flags|=4)}else{V=T.nodeType===9?T:T.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ae(y)),l==="http://www.w3.org/1999/xhtml"?y==="script"?(l=V.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=V.createElement(y,{is:w.is}):(l=V.createElement(y),y==="select"&&(V=l,w.multiple?V.multiple=!0:w.size&&(V.size=w.size))):l=V.createElementNS(l,y),l[qi]=d,l[Do]=w,TP(l,d,!1,!1),d.stateNode=l;e:{switch(V=fn(y,w),y){case"dialog":or("cancel",l),or("close",l),T=w;break;case"iframe":case"object":case"embed":or("load",l),T=w;break;case"video":case"audio":for(T=0;T<Ro.length;T++)or(Ro[T],l);T=w;break;case"source":or("error",l),T=w;break;case"img":case"image":case"link":or("error",l),or("load",l),T=w;break;case"details":or("toggle",l),T=w;break;case"input":Re(l,w),T=de(l,w),or("invalid",l);break;case"option":T=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},T=se({},w,{value:void 0}),or("invalid",l);break;case"textarea":pe(l,w),T=Q(l,w),or("invalid",l);break;default:T=w}ni(y,T),ae=T;for(M in ae)if(ae.hasOwnProperty(M)){var fe=ae[M];M==="style"?dn(l,fe):M==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&pt(l,fe)):M==="children"?typeof fe=="string"?(y!=="textarea"||fe!=="")&&Et(l,fe):typeof fe=="number"&&Et(l,""+fe):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?fe!=null&&M==="onScroll"&&or("scroll",l):fe!=null&&C(l,M,fe,V))}switch(y){case"input":ke(l),qe(l,w,!1);break;case"textarea":ke(l),je(l);break;case"option":w.value!=null&&l.setAttribute("value",""+ye(w.value));break;case"select":l.multiple=!!w.multiple,M=w.value,M!=null?Je(l,!!w.multiple,M,!1):w.defaultValue!=null&&Je(l,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(l.onclick=De)}switch(y){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return In(d),null;case 6:if(l&&d.stateNode!=null)CP(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(y=Fl(of.current),Fl(oa.current),pm(d)){if(w=d.stateNode,y=d.memoizedProps,w[qi]=d,(M=w.nodeValue!==y)&&(l=ki,l!==null))switch(l.tag){case 3:Te(w.nodeValue,y,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Te(w.nodeValue,y,(l.mode&1)!==0)}M&&(d.flags|=4)}else w=(y.nodeType===9?y:y.ownerDocument).createTextNode(w),w[qi]=d,d.stateNode=w}return In(d),null;case 13:if(gr(kr),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(vr&&Pi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Mk(),su(),d.flags|=98560,M=!1;else if(M=pm(d),w!==null&&w.dehydrated!==null){if(l===null){if(!M)throw Error(r(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[qi]=d}else su(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;In(d),M=!1}else xs!==null&&(lv(xs),xs=null),M=!0;if(!M)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=y,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(kr.current&1)!==0?rn===0&&(rn=3):dv())),d.updateQueue!==null&&(d.flags|=4),In(d),null);case 4:return cu(),X0(l,d),l===null&&Io(d.stateNode.containerInfo),In(d),null;case 10:return N0(d.type._context),In(d),null;case 17:return di(d.type)&&cm(),In(d),null;case 19:if(gr(kr),M=d.memoizedState,M===null)return In(d),null;if(w=(d.flags&128)!==0,V=M.rendering,V===null)if(w)ff(M,!1);else{if(rn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(V=bm(l),V!==null){for(d.flags|=128,ff(M,!1),w=V.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=y,y=d.child;y!==null;)M=y,l=w,M.flags&=14680066,V=M.alternate,V===null?(M.childLanes=0,M.lanes=l,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=V.childLanes,M.lanes=V.lanes,M.child=V.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=V.memoizedProps,M.memoizedState=V.memoizedState,M.updateQueue=V.updateQueue,M.type=V.type,l=V.dependencies,M.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),y=y.sibling;return dr(kr,kr.current&1|2),d.child}l=l.sibling}M.tail!==null&&Gt()>hu&&(d.flags|=128,w=!0,ff(M,!1),d.lanes=4194304)}else{if(!w)if(l=bm(V),l!==null){if(d.flags|=128,w=!0,y=l.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),ff(M,!0),M.tail===null&&M.tailMode==="hidden"&&!V.alternate&&!vr)return In(d),null}else 2*Gt()-M.renderingStartTime>hu&&y!==1073741824&&(d.flags|=128,w=!0,ff(M,!1),d.lanes=4194304);M.isBackwards?(V.sibling=d.child,d.child=V):(y=M.last,y!==null?y.sibling=V:d.child=V,M.last=V)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=Gt(),d.sibling=null,y=kr.current,dr(kr,w?y&1|2:y&1),d):(In(d),null);case 22:case 23:return uv(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Ti&1073741824)!==0&&(In(d),d.subtreeFlags&6&&(d.flags|=8192)):In(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function O$(l,d){switch(v0(d),d.tag){case 1:return di(d.type)&&cm(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return cu(),gr(ui),gr(Mn),O0(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return C0(d),null;case 13:if(gr(kr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));su()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return gr(kr),null;case 4:return cu(),null;case 10:return N0(d.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var Em=!1,Ln=!1,M$=typeof WeakSet=="function"?WeakSet:Set,it=null;function du(l,d){var y=l.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){Ar(l,d,w)}else y.current=null}function J0(l,d,y){try{y()}catch(w){Ar(l,d,w)}}var AP=!1;function R$(l,d){if(Qe=Cl,l=Gd(),Zd(l)){if("selectionStart"in l)var y={start:l.selectionStart,end:l.selectionEnd};else e:{y=(y=l.ownerDocument)&&y.defaultView||window;var w=y.getSelection&&y.getSelection();if(w&&w.rangeCount!==0){y=w.anchorNode;var T=w.anchorOffset,M=w.focusNode;w=w.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var V=0,ae=-1,fe=-1,Ee=0,Ve=0,He=l,Ue=null;t:for(;;){for(var tt;He!==y||T!==0&&He.nodeType!==3||(ae=V+T),He!==M||w!==0&&He.nodeType!==3||(fe=V+w),He.nodeType===3&&(V+=He.nodeValue.length),(tt=He.firstChild)!==null;)Ue=He,He=tt;for(;;){if(He===l)break t;if(Ue===y&&++Ee===T&&(ae=V),Ue===M&&++Ve===w&&(fe=V),(tt=He.nextSibling)!==null)break;He=Ue,Ue=He.parentNode}He=tt}y=ae===-1||fe===-1?null:{start:ae,end:fe}}else y=null}y=y||{start:0,end:0}}else y=null;for(mt={focusedElem:l,selectionRange:y},Cl=!1,it=d;it!==null;)if(d=it,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,it=l;else for(;it!==null;){d=it;try{var ot=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ct=ot.memoizedProps,Lr=ot.memoizedState,be=d.stateNode,me=be.getSnapshotBeforeUpdate(d.elementType===d.type?ct:vs(d.type,ct),Lr);be.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Se=d.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ge){Ar(d,d.return,Ge)}if(l=d.sibling,l!==null){l.return=d.return,it=l;break}it=d.return}return ot=AP,AP=!1,ot}function hf(l,d,y){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&l)===l){var M=T.destroy;T.destroy=void 0,M!==void 0&&J0(d,y,M)}T=T.next}while(T!==w)}}function Cm(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&l)===l){var w=y.create;y.destroy=w()}y=y.next}while(y!==d)}}function Q0(l){var d=l.ref;if(d!==null){var y=l.stateNode;switch(l.tag){case 5:l=y;break;default:l=y}typeof d=="function"?d(l):d.current=l}}function OP(l){var d=l.alternate;d!==null&&(l.alternate=null,OP(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[qi],delete d[Do],delete d[$o],delete d[p0],delete d[m0])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function MP(l){return l.tag===5||l.tag===3||l.tag===4}function RP(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||MP(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ev(l,d,y){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?y.nodeType===8?y.parentNode.insertBefore(l,d):y.insertBefore(l,d):(y.nodeType===8?(d=y.parentNode,d.insertBefore(l,y)):(d=y,d.appendChild(l)),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=De));else if(w!==4&&(l=l.child,l!==null))for(ev(l,d,y),l=l.sibling;l!==null;)ev(l,d,y),l=l.sibling}function tv(l,d,y){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?y.insertBefore(l,d):y.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(tv(l,d,y),l=l.sibling;l!==null;)tv(l,d,y),l=l.sibling}var bn=null,bs=!1;function Vo(l,d,y){for(y=y.child;y!==null;)IP(l,d,y),y=y.sibling}function IP(l,d,y){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(sr,y)}catch{}switch(y.tag){case 5:Ln||du(y,d);case 6:var w=bn,T=bs;bn=null,Vo(l,d,y),bn=w,bs=T,bn!==null&&(bs?(l=bn,y=y.stateNode,l.nodeType===8?l.parentNode.removeChild(y):l.removeChild(y)):bn.removeChild(y.stateNode));break;case 18:bn!==null&&(bs?(l=bn,y=y.stateNode,l.nodeType===8?rf(l.parentNode,y):l.nodeType===1&&rf(l,y),wi(l)):rf(bn,y.stateNode));break;case 4:w=bn,T=bs,bn=y.stateNode.containerInfo,bs=!0,Vo(l,d,y),bn=w,bs=T;break;case 0:case 11:case 14:case 15:if(!Ln&&(w=y.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var M=T,V=M.destroy;M=M.tag,V!==void 0&&((M&2)!==0||(M&4)!==0)&&J0(y,d,V),T=T.next}while(T!==w)}Vo(l,d,y);break;case 1:if(!Ln&&(du(y,d),w=y.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=y.memoizedProps,w.state=y.memoizedState,w.componentWillUnmount()}catch(ae){Ar(y,d,ae)}Vo(l,d,y);break;case 21:Vo(l,d,y);break;case 22:y.mode&1?(Ln=(w=Ln)||y.memoizedState!==null,Vo(l,d,y),Ln=w):Vo(l,d,y);break;default:Vo(l,d,y)}}function LP(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var y=l.stateNode;y===null&&(y=l.stateNode=new M$),d.forEach(function(w){var T=U$.bind(null,l,w);y.has(w)||(y.add(w),w.then(T,T))})}}function ws(l,d){var y=d.deletions;if(y!==null)for(var w=0;w<y.length;w++){var T=y[w];try{var M=l,V=d,ae=V;e:for(;ae!==null;){switch(ae.tag){case 5:bn=ae.stateNode,bs=!1;break e;case 3:bn=ae.stateNode.containerInfo,bs=!0;break e;case 4:bn=ae.stateNode.containerInfo,bs=!0;break e}ae=ae.return}if(bn===null)throw Error(r(160));IP(M,V,T),bn=null,bs=!1;var fe=T.alternate;fe!==null&&(fe.return=null),T.return=null}catch(Ee){Ar(T,d,Ee)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)DP(d,l),d=d.sibling}function DP(l,d){var y=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ws(d,l),ca(l),w&4){try{hf(3,l,l.return),Cm(3,l)}catch(ct){Ar(l,l.return,ct)}try{hf(5,l,l.return)}catch(ct){Ar(l,l.return,ct)}}break;case 1:ws(d,l),ca(l),w&512&&y!==null&&du(y,y.return);break;case 5:if(ws(d,l),ca(l),w&512&&y!==null&&du(y,y.return),l.flags&32){var T=l.stateNode;try{Et(T,"")}catch(ct){Ar(l,l.return,ct)}}if(w&4&&(T=l.stateNode,T!=null)){var M=l.memoizedProps,V=y!==null?y.memoizedProps:M,ae=l.type,fe=l.updateQueue;if(l.updateQueue=null,fe!==null)try{ae==="input"&&M.type==="radio"&&M.name!=null&&Me(T,M),fn(ae,V);var Ee=fn(ae,M);for(V=0;V<fe.length;V+=2){var Ve=fe[V],He=fe[V+1];Ve==="style"?dn(T,He):Ve==="dangerouslySetInnerHTML"?pt(T,He):Ve==="children"?Et(T,He):C(T,Ve,He,Ee)}switch(ae){case"input":Ye(T,M);break;case"textarea":ne(T,M);break;case"select":var Ue=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!M.multiple;var tt=M.value;tt!=null?Je(T,!!M.multiple,tt,!1):Ue!==!!M.multiple&&(M.defaultValue!=null?Je(T,!!M.multiple,M.defaultValue,!0):Je(T,!!M.multiple,M.multiple?[]:"",!1))}T[Do]=M}catch(ct){Ar(l,l.return,ct)}}break;case 6:if(ws(d,l),ca(l),w&4){if(l.stateNode===null)throw Error(r(162));T=l.stateNode,M=l.memoizedProps;try{T.nodeValue=M}catch(ct){Ar(l,l.return,ct)}}break;case 3:if(ws(d,l),ca(l),w&4&&y!==null&&y.memoizedState.isDehydrated)try{wi(d.containerInfo)}catch(ct){Ar(l,l.return,ct)}break;case 4:ws(d,l),ca(l);break;case 13:ws(d,l),ca(l),T=l.child,T.flags&8192&&(M=T.memoizedState!==null,T.stateNode.isHidden=M,!M||T.alternate!==null&&T.alternate.memoizedState!==null||(iv=Gt())),w&4&&LP(l);break;case 22:if(Ve=y!==null&&y.memoizedState!==null,l.mode&1?(Ln=(Ee=Ln)||Ve,ws(d,l),Ln=Ee):ws(d,l),ca(l),w&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Ve&&(l.mode&1)!==0)for(it=l,Ve=l.child;Ve!==null;){for(He=it=Ve;it!==null;){switch(Ue=it,tt=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:hf(4,Ue,Ue.return);break;case 1:du(Ue,Ue.return);var ot=Ue.stateNode;if(typeof ot.componentWillUnmount=="function"){w=Ue,y=Ue.return;try{d=w,ot.props=d.memoizedProps,ot.state=d.memoizedState,ot.componentWillUnmount()}catch(ct){Ar(w,y,ct)}}break;case 5:du(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){WP(He);continue}}tt!==null?(tt.return=Ue,it=tt):WP(He)}Ve=Ve.sibling}e:for(Ve=null,He=l;;){if(He.tag===5){if(Ve===null){Ve=He;try{T=He.stateNode,Ee?(M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ae=He.stateNode,fe=He.memoizedProps.style,V=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ae.style.display=wr("display",V))}catch(ct){Ar(l,l.return,ct)}}}else if(He.tag===6){if(Ve===null)try{He.stateNode.nodeValue=Ee?"":He.memoizedProps}catch(ct){Ar(l,l.return,ct)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===l)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===l)break e;for(;He.sibling===null;){if(He.return===null||He.return===l)break e;Ve===He&&(Ve=null),He=He.return}Ve===He&&(Ve=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:ws(d,l),ca(l),w&4&&LP(l);break;case 21:break;default:ws(d,l),ca(l)}}function ca(l){var d=l.flags;if(d&2){try{e:{for(var y=l.return;y!==null;){if(MP(y)){var w=y;break e}y=y.return}throw Error(r(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(Et(T,""),w.flags&=-33);var M=RP(l);tv(l,M,T);break;case 3:case 4:var V=w.stateNode.containerInfo,ae=RP(l);ev(l,ae,V);break;default:throw Error(r(161))}}catch(fe){Ar(l,l.return,fe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function I$(l,d,y){it=l,$P(l)}function $P(l,d,y){for(var w=(l.mode&1)!==0;it!==null;){var T=it,M=T.child;if(T.tag===22&&w){var V=T.memoizedState!==null||Em;if(!V){var ae=T.alternate,fe=ae!==null&&ae.memoizedState!==null||Ln;ae=Em;var Ee=Ln;if(Em=V,(Ln=fe)&&!Ee)for(it=T;it!==null;)V=it,fe=V.child,V.tag===22&&V.memoizedState!==null?BP(T):fe!==null?(fe.return=V,it=fe):BP(T);for(;M!==null;)it=M,$P(M),M=M.sibling;it=T,Em=ae,Ln=Ee}zP(l)}else(T.subtreeFlags&8772)!==0&&M!==null?(M.return=T,it=M):zP(l)}}function zP(l){for(;it!==null;){var d=it;if((d.flags&8772)!==0){var y=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ln||Cm(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!Ln)if(y===null)w.componentDidMount();else{var T=d.elementType===d.type?y.memoizedProps:vs(d.type,y.memoizedProps);w.componentDidUpdate(T,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var M=d.updateQueue;M!==null&&Wk(d,M,w);break;case 3:var V=d.updateQueue;if(V!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=d.child.stateNode;break;case 1:y=d.child.stateNode}Wk(d,V,y)}break;case 5:var ae=d.stateNode;if(y===null&&d.flags&4){y=ae;var fe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&y.focus();break;case"img":fe.src&&(y.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ee=d.alternate;if(Ee!==null){var Ve=Ee.memoizedState;if(Ve!==null){var He=Ve.dehydrated;He!==null&&wi(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ln||d.flags&512&&Q0(d)}catch(Ue){Ar(d,d.return,Ue)}}if(d===l){it=null;break}if(y=d.sibling,y!==null){y.return=d.return,it=y;break}it=d.return}}function WP(l){for(;it!==null;){var d=it;if(d===l){it=null;break}var y=d.sibling;if(y!==null){y.return=d.return,it=y;break}it=d.return}}function BP(l){for(;it!==null;){var d=it;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{Cm(4,d)}catch(fe){Ar(d,y,fe)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var T=d.return;try{w.componentDidMount()}catch(fe){Ar(d,T,fe)}}var M=d.return;try{Q0(d)}catch(fe){Ar(d,M,fe)}break;case 5:var V=d.return;try{Q0(d)}catch(fe){Ar(d,V,fe)}}}catch(fe){Ar(d,d.return,fe)}if(d===l){it=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,it=ae;break}it=d.return}}var L$=Math.ceil,Am=R.ReactCurrentDispatcher,rv=R.ReactCurrentOwner,Yi=R.ReactCurrentBatchConfig,Bt=0,mn=null,Hr=null,wn=0,Ti=0,fu=zo(0),rn=0,pf=null,Vl=0,Om=0,nv=0,mf=null,hi=null,iv=0,hu=1/0,Ka=null,Mm=!1,sv=null,qo=null,Rm=!1,Ho=null,Im=0,gf=0,av=null,Lm=-1,Dm=0;function Zn(){return(Bt&6)!==0?Gt():Lm!==-1?Lm:Lm=Gt()}function Ko(l){return(l.mode&1)===0?1:(Bt&2)!==0&&wn!==0?wn&-wn:v$.transition!==null?(Dm===0&&(Dm=Wp()),Dm):(l=Dt,l!==0||(l=window.event,l=l===void 0?16:Rt(l.type)),l)}function _s(l,d,y,w){if(50<gf)throw gf=0,av=null,Error(r(185));vi(l,y,w),((Bt&2)===0||l!==mn)&&(l===mn&&((Bt&2)===0&&(Om|=y),rn===4&&Go(l,wn)),pi(l,w),y===1&&Bt===0&&(d.mode&1)===0&&(hu=Gt()+500,dm&&Bo()))}function pi(l,d){var y=l.callbackNode;Mc(l,d);var w=ur(l,l===mn?wn:0);if(w===0)y!==null&&En(y),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(y!=null&&En(y),d===1)l.tag===0?x$(UP.bind(null,l)):Tk(UP.bind(null,l)),On(function(){(Bt&6)===0&&Bo()}),y=null;else{switch(_o(w)){case 1:y=Ys;break;case 4:y=Zt;break;case 16:y=Sr;break;case 536870912:y=oi;break;default:y=Sr}y=XP(y,FP.bind(null,l))}l.callbackPriority=d,l.callbackNode=y}}function FP(l,d){if(Lm=-1,Dm=0,(Bt&6)!==0)throw Error(r(327));var y=l.callbackNode;if(pu()&&l.callbackNode!==y)return null;var w=ur(l,l===mn?wn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=$m(l,w);else{d=w;var T=Bt;Bt|=2;var M=qP();(mn!==l||wn!==d)&&(Ka=null,hu=Gt()+500,Hl(l,d));do try{z$();break}catch(ae){VP(l,ae)}while(!0);S0(),Am.current=M,Bt=T,Hr!==null?d=0:(mn=null,wn=0,d=rn)}if(d!==0){if(d===2&&(T=Cn(l),T!==0&&(w=T,d=ov(l,T))),d===1)throw y=pf,Hl(l,0),Go(l,w),pi(l,Gt()),y;if(d===6)Go(l,w);else{if(T=l.current.alternate,(w&30)===0&&!D$(T)&&(d=$m(l,w),d===2&&(M=Cn(l),M!==0&&(w=M,d=ov(l,M))),d===1))throw y=pf,Hl(l,0),Go(l,w),pi(l,Gt()),y;switch(l.finishedWork=T,l.finishedLanes=w,d){case 0:case 1:throw Error(r(345));case 2:Kl(l,hi,Ka);break;case 3:if(Go(l,w),(w&130023424)===w&&(d=iv+500-Gt(),10<d)){if(ur(l,0)!==0)break;if(T=l.suspendedLanes,(T&w)!==w){Zn(),l.pingedLanes|=l.suspendedLanes&T;break}l.timeoutHandle=en(Kl.bind(null,l,hi,Ka),d);break}Kl(l,hi,Ka);break;case 4:if(Go(l,w),(w&4194240)===w)break;for(d=l.eventTimes,T=-1;0<w;){var V=31-Pt(w);M=1<<V,V=d[V],V>T&&(T=V),w&=~M}if(w=T,w=Gt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*L$(w/1960))-w,10<w){l.timeoutHandle=en(Kl.bind(null,l,hi,Ka),w);break}Kl(l,hi,Ka);break;case 5:Kl(l,hi,Ka);break;default:throw Error(r(329))}}}return pi(l,Gt()),l.callbackNode===y?FP.bind(null,l):null}function ov(l,d){var y=mf;return l.current.memoizedState.isDehydrated&&(Hl(l,d).flags|=256),l=$m(l,d),l!==2&&(d=hi,hi=y,d!==null&&lv(d)),l}function lv(l){hi===null?hi=l:hi.push.apply(hi,l)}function D$(l){for(var d=l;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var T=y[w],M=T.getSnapshot;T=T.value;try{if(!Si(M(),T))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Go(l,d){for(d&=~nv,d&=~Om,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var y=31-Pt(d),w=1<<y;l[y]=-1,d&=~w}}function UP(l){if((Bt&6)!==0)throw Error(r(327));pu();var d=ur(l,0);if((d&1)===0)return pi(l,Gt()),null;var y=$m(l,d);if(l.tag!==0&&y===2){var w=Cn(l);w!==0&&(d=w,y=ov(l,w))}if(y===1)throw y=pf,Hl(l,0),Go(l,d),pi(l,Gt()),y;if(y===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Kl(l,hi,Ka),pi(l,Gt()),null}function cv(l,d){var y=Bt;Bt|=1;try{return l(d)}finally{Bt=y,Bt===0&&(hu=Gt()+500,dm&&Bo())}}function ql(l){Ho!==null&&Ho.tag===0&&(Bt&6)===0&&pu();var d=Bt;Bt|=1;var y=Yi.transition,w=Dt;try{if(Yi.transition=null,Dt=1,l)return l()}finally{Dt=w,Yi.transition=y,Bt=d,(Bt&6)===0&&Bo()}}function uv(){Ti=fu.current,gr(fu)}function Hl(l,d){l.finishedWork=null,l.finishedLanes=0;var y=l.timeoutHandle;if(y!==-1&&(l.timeoutHandle=-1,qr(y)),Hr!==null)for(y=Hr.return;y!==null;){var w=y;switch(v0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&cm();break;case 3:cu(),gr(ui),gr(Mn),O0();break;case 5:C0(w);break;case 4:cu();break;case 13:gr(kr);break;case 19:gr(kr);break;case 10:N0(w.type._context);break;case 22:case 23:uv()}y=y.return}if(mn=l,Hr=l=Zo(l.current,null),wn=Ti=d,rn=0,pf=null,nv=Om=Vl=0,hi=mf=null,Bl!==null){for(d=0;d<Bl.length;d++)if(y=Bl[d],w=y.interleaved,w!==null){y.interleaved=null;var T=w.next,M=y.pending;if(M!==null){var V=M.next;M.next=T,w.next=V}y.pending=w}Bl=null}return l}function VP(l,d){do{var y=Hr;try{if(S0(),wm.current=Nm,_m){for(var w=Pr.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}_m=!1}if(Ul=0,pn=tn=Pr=null,lf=!1,cf=0,rv.current=null,y===null||y.return===null){rn=1,pf=d,Hr=null;break}e:{var M=l,V=y.return,ae=y,fe=d;if(d=wn,ae.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,Ve=ae,He=Ve.tag;if((Ve.mode&1)===0&&(He===0||He===11||He===15)){var Ue=Ve.alternate;Ue?(Ve.updateQueue=Ue.updateQueue,Ve.memoizedState=Ue.memoizedState,Ve.lanes=Ue.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var tt=mP(V);if(tt!==null){tt.flags&=-257,gP(tt,V,ae,M,d),tt.mode&1&&pP(M,Ee,d),d=tt,fe=Ee;var ot=d.updateQueue;if(ot===null){var ct=new Set;ct.add(fe),d.updateQueue=ct}else ot.add(fe);break e}else{if((d&1)===0){pP(M,Ee,d),dv();break e}fe=Error(r(426))}}else if(vr&&ae.mode&1){var Lr=mP(V);if(Lr!==null){(Lr.flags&65536)===0&&(Lr.flags|=256),gP(Lr,V,ae,M,d),_0(uu(fe,ae));break e}}M=fe=uu(fe,ae),rn!==4&&(rn=2),mf===null?mf=[M]:mf.push(M),M=V;do{switch(M.tag){case 3:M.flags|=65536,d&=-d,M.lanes|=d;var be=fP(M,fe,d);zk(M,be);break e;case 1:ae=fe;var me=M.type,Se=M.stateNode;if((M.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(qo===null||!qo.has(Se)))){M.flags|=65536,d&=-d,M.lanes|=d;var Ge=hP(M,ae,d);zk(M,Ge);break e}}M=M.return}while(M!==null)}KP(y)}catch(dt){d=dt,Hr===y&&y!==null&&(Hr=y=y.return);continue}break}while(!0)}function qP(){var l=Am.current;return Am.current=Nm,l===null?Nm:l}function dv(){(rn===0||rn===3||rn===2)&&(rn=4),mn===null||(Vl&268435455)===0&&(Om&268435455)===0||Go(mn,wn)}function $m(l,d){var y=Bt;Bt|=2;var w=qP();(mn!==l||wn!==d)&&(Ka=null,Hl(l,d));do try{$$();break}catch(T){VP(l,T)}while(!0);if(S0(),Bt=y,Am.current=w,Hr!==null)throw Error(r(261));return mn=null,wn=0,rn}function $$(){for(;Hr!==null;)HP(Hr)}function z$(){for(;Hr!==null&&!Nl();)HP(Hr)}function HP(l){var d=YP(l.alternate,l,Ti);l.memoizedProps=l.pendingProps,d===null?KP(l):Hr=d,rv.current=null}function KP(l){var d=l;do{var y=d.alternate;if(l=d.return,(d.flags&32768)===0){if(y=A$(y,d,Ti),y!==null){Hr=y;return}}else{if(y=O$(y,d),y!==null){y.flags&=32767,Hr=y;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{rn=6,Hr=null;return}}if(d=d.sibling,d!==null){Hr=d;return}Hr=d=l}while(d!==null);rn===0&&(rn=5)}function Kl(l,d,y){var w=Dt,T=Yi.transition;try{Yi.transition=null,Dt=1,W$(l,d,y,w)}finally{Yi.transition=T,Dt=w}return null}function W$(l,d,y,w){do pu();while(Ho!==null);if((Bt&6)!==0)throw Error(r(327));y=l.finishedWork;var T=l.finishedLanes;if(y===null)return null;if(l.finishedWork=null,l.finishedLanes=0,y===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var M=y.lanes|y.childLanes;if(Cr(l,M),l===mn&&(Hr=mn=null,wn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Rm||(Rm=!0,XP(Sr,function(){return pu(),null})),M=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||M){M=Yi.transition,Yi.transition=null;var V=Dt;Dt=1;var ae=Bt;Bt|=4,rv.current=null,R$(l,y),DP(y,l),Ui(mt),Cl=!!Qe,mt=Qe=null,l.current=y,I$(y),zi(),Bt=ae,Dt=V,Yi.transition=M}else l.current=y;if(Rm&&(Rm=!1,Ho=l,Im=T),M=l.pendingLanes,M===0&&(qo=null),Js(y.stateNode),pi(l,Gt()),d!==null)for(w=l.onRecoverableError,y=0;y<d.length;y++)T=d[y],w(T.value,{componentStack:T.stack,digest:T.digest});if(Mm)throw Mm=!1,l=sv,sv=null,l;return(Im&1)!==0&&l.tag!==0&&pu(),M=l.pendingLanes,(M&1)!==0?l===av?gf++:(gf=0,av=l):gf=0,Bo(),null}function pu(){if(Ho!==null){var l=_o(Im),d=Yi.transition,y=Dt;try{if(Yi.transition=null,Dt=16>l?16:l,Ho===null)var w=!1;else{if(l=Ho,Ho=null,Im=0,(Bt&6)!==0)throw Error(r(331));var T=Bt;for(Bt|=4,it=l.current;it!==null;){var M=it,V=M.child;if((it.flags&16)!==0){var ae=M.deletions;if(ae!==null){for(var fe=0;fe<ae.length;fe++){var Ee=ae[fe];for(it=Ee;it!==null;){var Ve=it;switch(Ve.tag){case 0:case 11:case 15:hf(8,Ve,M)}var He=Ve.child;if(He!==null)He.return=Ve,it=He;else for(;it!==null;){Ve=it;var Ue=Ve.sibling,tt=Ve.return;if(OP(Ve),Ve===Ee){it=null;break}if(Ue!==null){Ue.return=tt,it=Ue;break}it=tt}}}var ot=M.alternate;if(ot!==null){var ct=ot.child;if(ct!==null){ot.child=null;do{var Lr=ct.sibling;ct.sibling=null,ct=Lr}while(ct!==null)}}it=M}}if((M.subtreeFlags&2064)!==0&&V!==null)V.return=M,it=V;else e:for(;it!==null;){if(M=it,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:hf(9,M,M.return)}var be=M.sibling;if(be!==null){be.return=M.return,it=be;break e}it=M.return}}var me=l.current;for(it=me;it!==null;){V=it;var Se=V.child;if((V.subtreeFlags&2064)!==0&&Se!==null)Se.return=V,it=Se;else e:for(V=me;it!==null;){if(ae=it,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Cm(9,ae)}}catch(dt){Ar(ae,ae.return,dt)}if(ae===V){it=null;break e}var Ge=ae.sibling;if(Ge!==null){Ge.return=ae.return,it=Ge;break e}it=ae.return}}if(Bt=T,Bo(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(sr,l)}catch{}w=!0}return w}finally{Dt=y,Yi.transition=d}}return!1}function GP(l,d,y){d=uu(y,d),d=fP(l,d,1),l=Uo(l,d,1),d=Zn(),l!==null&&(vi(l,1,d),pi(l,d))}function Ar(l,d,y){if(l.tag===3)GP(l,l,y);else for(;d!==null;){if(d.tag===3){GP(d,l,y);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(qo===null||!qo.has(w))){l=uu(y,l),l=hP(d,l,1),d=Uo(d,l,1),l=Zn(),d!==null&&(vi(d,1,l),pi(d,l));break}}d=d.return}}function B$(l,d,y){var w=l.pingCache;w!==null&&w.delete(d),d=Zn(),l.pingedLanes|=l.suspendedLanes&y,mn===l&&(wn&y)===y&&(rn===4||rn===3&&(wn&130023424)===wn&&500>Gt()-iv?Hl(l,0):nv|=y),pi(l,d)}function ZP(l,d){d===0&&((l.mode&1)===0?d=1:(d=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var y=Zn();l=Va(l,d),l!==null&&(vi(l,d,y),pi(l,y))}function F$(l){var d=l.memoizedState,y=0;d!==null&&(y=d.retryLane),ZP(l,y)}function U$(l,d){var y=0;switch(l.tag){case 13:var w=l.stateNode,T=l.memoizedState;T!==null&&(y=T.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(d),ZP(l,y)}var YP;YP=function(l,d,y){if(l!==null)if(l.memoizedProps!==d.pendingProps||ui.current)fi=!0;else{if((l.lanes&y)===0&&(d.flags&128)===0)return fi=!1,C$(l,d,y);fi=(l.flags&131072)!==0}else fi=!1,vr&&(d.flags&1048576)!==0&&Ek(d,hm,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Tm(l,d),l=d.pendingProps;var T=ru(d,Mn.current);lu(d,y),T=I0(null,d,w,l,T,y);var M=L0();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,di(w)?(M=!0,um(d)):M=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T0(d),T.updater=km,d.stateNode=T,T._reactInternals=d,F0(d,w,l,y),d=H0(null,d,w,!0,M,y)):(d.tag=0,vr&&M&&x0(d),Gn(null,d,T,y),d=d.child),d;case 16:w=d.elementType;e:{switch(Tm(l,d),l=d.pendingProps,T=w._init,w=T(w._payload),d.type=w,T=d.tag=q$(w),l=vs(w,l),T){case 0:d=q0(null,d,w,l,y);break e;case 1:d=_P(null,d,w,l,y);break e;case 11:d=yP(null,d,w,l,y);break e;case 14:d=xP(null,d,w,vs(w.type,l),y);break e}throw Error(r(306,w,""))}return d;case 0:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:vs(w,T),q0(l,d,w,T,y);case 1:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:vs(w,T),_P(l,d,w,T,y);case 3:e:{if(jP(d),l===null)throw Error(r(387));w=d.pendingProps,M=d.memoizedState,T=M.element,$k(l,d),vm(d,w,null,y);var V=d.memoizedState;if(w=V.element,M.isDehydrated)if(M={element:w,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){T=uu(Error(r(423)),d),d=SP(l,d,w,y,T);break e}else if(w!==T){T=uu(Error(r(424)),d),d=SP(l,d,w,y,T);break e}else for(Pi=aa(d.stateNode.containerInfo.firstChild),ki=d,vr=!0,xs=null,y=Lk(d,null,w,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(su(),w===T){d=Ha(l,d,y);break e}Gn(l,d,w,y)}d=d.child}return d;case 5:return Bk(d),l===null&&w0(d),w=d.type,T=d.pendingProps,M=l!==null?l.memoizedProps:null,V=T.children,Ot(w,T)?V=null:M!==null&&Ot(w,M)&&(d.flags|=32),wP(l,d),Gn(l,d,V,y),d.child;case 6:return l===null&&w0(d),null;case 13:return NP(l,d,y);case 4:return E0(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=au(d,null,w,y):Gn(l,d,w,y),d.child;case 11:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:vs(w,T),yP(l,d,w,T,y);case 7:return Gn(l,d,d.pendingProps,y),d.child;case 8:return Gn(l,d,d.pendingProps.children,y),d.child;case 12:return Gn(l,d,d.pendingProps.children,y),d.child;case 10:e:{if(w=d.type._context,T=d.pendingProps,M=d.memoizedProps,V=T.value,dr(gm,w._currentValue),w._currentValue=V,M!==null)if(Si(M.value,V)){if(M.children===T.children&&!ui.current){d=Ha(l,d,y);break e}}else for(M=d.child,M!==null&&(M.return=d);M!==null;){var ae=M.dependencies;if(ae!==null){V=M.child;for(var fe=ae.firstContext;fe!==null;){if(fe.context===w){if(M.tag===1){fe=qa(-1,y&-y),fe.tag=2;var Ee=M.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ve=Ee.pending;Ve===null?fe.next=fe:(fe.next=Ve.next,Ve.next=fe),Ee.pending=fe}}M.lanes|=y,fe=M.alternate,fe!==null&&(fe.lanes|=y),k0(M.return,y,d),ae.lanes|=y;break}fe=fe.next}}else if(M.tag===10)V=M.type===d.type?null:M.child;else if(M.tag===18){if(V=M.return,V===null)throw Error(r(341));V.lanes|=y,ae=V.alternate,ae!==null&&(ae.lanes|=y),k0(V,y,d),V=M.sibling}else V=M.child;if(V!==null)V.return=M;else for(V=M;V!==null;){if(V===d){V=null;break}if(M=V.sibling,M!==null){M.return=V.return,V=M;break}V=V.return}M=V}Gn(l,d,T.children,y),d=d.child}return d;case 9:return T=d.type,w=d.pendingProps.children,lu(d,y),T=Gi(T),w=w(T),d.flags|=1,Gn(l,d,w,y),d.child;case 14:return w=d.type,T=vs(w,d.pendingProps),T=vs(w.type,T),xP(l,d,w,T,y);case 15:return vP(l,d,d.type,d.pendingProps,y);case 17:return w=d.type,T=d.pendingProps,T=d.elementType===w?T:vs(w,T),Tm(l,d),d.tag=1,di(w)?(l=!0,um(d)):l=!1,lu(d,y),uP(d,w,T),F0(d,w,T,y),H0(null,d,w,!0,l,y);case 19:return PP(l,d,y);case 22:return bP(l,d,y)}throw Error(r(156,d.tag))};function XP(l,d){return ai(l,d)}function V$(l,d,y,w){this.tag=l,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(l,d,y,w){return new V$(l,d,y,w)}function fv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function q$(l){if(typeof l=="function")return fv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===q)return 11;if(l===Z)return 14}return 2}function Zo(l,d){var y=l.alternate;return y===null?(y=Xi(l.tag,d,l.key,l.mode),y.elementType=l.elementType,y.type=l.type,y.stateNode=l.stateNode,y.alternate=l,l.alternate=y):(y.pendingProps=d,y.type=l.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=l.flags&14680064,y.childLanes=l.childLanes,y.lanes=l.lanes,y.child=l.child,y.memoizedProps=l.memoizedProps,y.memoizedState=l.memoizedState,y.updateQueue=l.updateQueue,d=l.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=l.sibling,y.index=l.index,y.ref=l.ref,y}function zm(l,d,y,w,T,M){var V=2;if(w=l,typeof l=="function")fv(l)&&(V=1);else if(typeof l=="string")V=5;else e:switch(l){case $:return Gl(y.children,T,M,d);case I:V=8,T|=8;break;case D:return l=Xi(12,y,d,T|2),l.elementType=D,l.lanes=M,l;case J:return l=Xi(13,y,d,T),l.elementType=J,l.lanes=M,l;case X:return l=Xi(19,y,d,T),l.elementType=X,l.lanes=M,l;case K:return Wm(y,T,M,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case W:V=10;break e;case B:V=9;break e;case q:V=11;break e;case Z:V=14;break e;case F:V=16,w=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=Xi(V,y,d,T),d.elementType=l,d.type=w,d.lanes=M,d}function Gl(l,d,y,w){return l=Xi(7,l,w,d),l.lanes=y,l}function Wm(l,d,y,w){return l=Xi(22,l,w,d),l.elementType=K,l.lanes=y,l.stateNode={isHidden:!1},l}function hv(l,d,y){return l=Xi(6,l,null,d),l.lanes=y,l}function pv(l,d,y){return d=Xi(4,l.children!==null?l.children:[],l.key,d),d.lanes=y,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function H$(l,d,y,w,T){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function mv(l,d,y,w,T,M,V,ae,fe){return l=new H$(l,d,y,ae,fe),d===1?(d=1,M===!0&&(d|=8)):d=0,M=Xi(3,null,null,d),l.current=M,M.stateNode=l,M.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(M),l}function K$(l,d,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:w==null?null:""+w,children:l,containerInfo:d,implementation:y}}function JP(l){if(!l)return Wo;l=l._reactInternals;e:{if(ir(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(di(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var y=l.type;if(di(y))return kk(l,y,d)}return d}function QP(l,d,y,w,T,M,V,ae,fe){return l=mv(y,w,!0,l,T,M,V,ae,fe),l.context=JP(null),y=l.current,w=Zn(),T=Ko(y),M=qa(w,T),M.callback=d??null,Uo(y,M,T),l.current.lanes=T,vi(l,T,w),pi(l,w),l}function Bm(l,d,y,w){var T=d.current,M=Zn(),V=Ko(T);return y=JP(y),d.context===null?d.context=y:d.pendingContext=y,d=qa(M,V),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=Uo(T,d,V),l!==null&&(_s(l,T,V,M),xm(l,T,V)),V}function Fm(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function eT(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var y=l.retryLane;l.retryLane=y!==0&&y<d?y:d}}function gv(l,d){eT(l,d),(l=l.alternate)&&eT(l,d)}function G$(){return null}var tT=typeof reportError=="function"?reportError:function(l){console.error(l)};function yv(l){this._internalRoot=l}Um.prototype.render=yv.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));Bm(l,d,null,null)},Um.prototype.unmount=yv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;ql(function(){Bm(null,l,null,null)}),d[Jt]=null}};function Um(l){this._internalRoot=l}Um.prototype.unstable_scheduleHydration=function(l){if(l){var d=Lc();l={blockedOn:null,target:l,priority:d};for(var y=0;y<Qr.length&&d!==0&&d<Qr[y].priority;y++);Qr.splice(y,0,l),y===0&&Dc(l)}};function xv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Vm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function rT(){}function Z$(l,d,y,w,T){if(T){if(typeof w=="function"){var M=w;w=function(){var Ee=Fm(V);M.call(Ee)}}var V=QP(d,w,l,0,null,!1,!1,"",rT);return l._reactRootContainer=V,l[Jt]=V.current,Io(l.nodeType===8?l.parentNode:l),ql(),V}for(;T=l.lastChild;)l.removeChild(T);if(typeof w=="function"){var ae=w;w=function(){var Ee=Fm(fe);ae.call(Ee)}}var fe=mv(l,0,!1,null,null,!1,!1,"",rT);return l._reactRootContainer=fe,l[Jt]=fe.current,Io(l.nodeType===8?l.parentNode:l),ql(function(){Bm(d,fe,y,w)}),fe}function qm(l,d,y,w,T){var M=y._reactRootContainer;if(M){var V=M;if(typeof T=="function"){var ae=T;T=function(){var fe=Fm(V);ae.call(fe)}}Bm(d,V,l,T)}else V=Z$(y,d,l,T,w);return Fm(V)}Rc=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var y=Tt(d.pendingLanes);y!==0&&(hs(d,y|1),pi(d,Gt()),(Bt&6)===0&&(hu=Gt()+500,Bo()))}break;case 13:ql(function(){var w=Va(l,1);if(w!==null){var T=Zn();_s(w,l,1,T)}}),gv(l,1)}},Ea=function(l){if(l.tag===13){var d=Va(l,134217728);if(d!==null){var y=Zn();_s(d,l,134217728,y)}gv(l,134217728)}},Ic=function(l){if(l.tag===13){var d=Ko(l),y=Va(l,d);if(y!==null){var w=Zn();_s(y,l,d,w)}gv(l,d)}},Lc=function(){return Dt},kl=function(l,d){var y=Dt;try{return Dt=l,d()}finally{Dt=y}},Ks=function(l,d,y){switch(d){case"input":if(Ye(l,y),d=y.name,y.type==="radio"&&d!=null){for(y=l;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<y.length;d++){var w=y[d];if(w!==l&&w.form===l.form){var T=eu(w);if(!T)throw Error(r(90));te(w),Ye(w,T)}}}break;case"textarea":ne(l,y);break;case"select":d=y.value,d!=null&&Je(l,!!y.multiple,d,!1)}},_r=cv,Ur=ql;var Y$={usingClientEntryPoint:!1,Events:[za,Wa,eu,bt,nr,cv]},yf={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X$={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ds(l),l===null?null:l.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||G$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{sr=Hm.inject(X$),Vr=Hm}catch{}}return mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$,mi.createPortal=function(l,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(d))throw Error(r(200));return K$(l,d,null,y)},mi.createRoot=function(l,d){if(!xv(l))throw Error(r(299));var y=!1,w="",T=tT;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),d=mv(l,1,!1,null,null,y,!1,w,T),l[Jt]=d.current,Io(l.nodeType===8?l.parentNode:l),new yv(d)},mi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ds(d),l=l===null?null:l.stateNode,l},mi.flushSync=function(l){return ql(l)},mi.hydrate=function(l,d,y){if(!Vm(d))throw Error(r(200));return qm(null,l,d,!0,y)},mi.hydrateRoot=function(l,d,y){if(!xv(l))throw Error(r(405));var w=y!=null&&y.hydratedSources||null,T=!1,M="",V=tT;if(y!=null&&(y.unstable_strictMode===!0&&(T=!0),y.identifierPrefix!==void 0&&(M=y.identifierPrefix),y.onRecoverableError!==void 0&&(V=y.onRecoverableError)),d=QP(d,null,l,1,y??null,T,!1,M,V),l[Jt]=d.current,Io(l),w)for(l=0;l<w.length;l++)y=w[l],T=y._getVersion,T=T(y._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[y,T]:d.mutableSourceEagerHydrationData.push(y,T);return new Um(d)},mi.render=function(l,d,y){if(!Vm(d))throw Error(r(200));return qm(null,l,d,!1,y)},mi.unmountComponentAtNode=function(l){if(!Vm(l))throw Error(r(40));return l._reactRootContainer?(ql(function(){qm(null,null,l,!1,function(){l._reactRootContainer=null,l[Jt]=null})}),!0):!1},mi.unstable_batchedUpdates=cv,mi.unstable_renderSubtreeIntoContainer=function(l,d,y,w){if(!Vm(y))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return qm(l,d,y,!1,w)},mi.version="18.3.1-next-f1338f8080-20240426",mi}var uT;function JR(){if(uT)return wv.exports;uT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wv.exports=iz(),wv.exports}var dT;function sz(){if(dT)return Gm;dT=1;var e=JR();return Gm.createRoot=e.createRoot,Gm.hydrateRoot=e.hydrateRoot,Gm}var az=sz(),O=xS();const re=rr(O);/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fT="popstate";function oz(e={}){function t(n,i){let{pathname:s,search:o,hash:c}=n.location;return fh("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:pl(i)}return cz(t,r,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lz(){return Math.random().toString(36).substring(2,10)}function hT(e,t){return{usr:e.state,key:e.key,idx:t}}function fh(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:r,key:t&&t.key||n||lz()}}function pl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function cz(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,c="POP",f=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=m(),N=_==null?null:_-h;h=_,f&&f({action:c,location:S.location,delta:N})}function x(_,N){c="PUSH";let k=fh(S.location,_,N);h=m()+1;let C=hT(k,h),R=S.createHref(k);try{o.pushState(C,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(R)}s&&f&&f({action:c,location:S.location,delta:1})}function v(_,N){c="REPLACE";let k=fh(S.location,_,N);h=m();let C=hT(k,h),R=S.createHref(k);o.replaceState(C,"",R),s&&f&&f({action:c,location:S.location,delta:0})}function j(_){let N=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof _=="string"?_:pl(_);return k=k.replace(/ $/,"%20"),$t(N,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,N)}let S={get action(){return c},get location(){return e(i,o)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(fT,p),f=_,()=>{i.removeEventListener(fT,p),f=null}},createHref(_){return t(i,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:v,go(_){return o.go(_)}};return S}var uz=new Set(["lazy","caseSensitive","path","id","index","children"]);function dz(e){return e.index===!0}function Fg(e,t,r=[],n={}){return e.map((i,s)=>{let o=[...r,String(s)],c=typeof i.id=="string"?i.id:o.join("-");if($t(i.index!==!0||!i.children,"Cannot specify children on an index route"),$t(!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),dz(i)){let f={...i,...t(i),id:c};return n[c]=f,f}else{let f={...i,...t(i),id:c,children:void 0};return n[c]=f,i.children&&(f.children=Fg(i.children,t,o,n)),f}})}function il(e,t,r="/"){return Cg(e,t,r,!1)}function Cg(e,t,r,n){let i=typeof t=="string"?yl(t):t,s=Ws(i.pathname||"/",r);if(s==null)return null;let o=QR(e);hz(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let h=Sz(s);c=_z(o[f],h,n)}return c}function fz(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function QR(e,t=[],r=[],n=""){let i=(s,o,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};f.relativePath.startsWith("/")&&($t(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let h=ya([n,f.relativePath]),m=r.concat(f);s.children&&s.children.length>0&&($t(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),QR(s.children,t,m,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:bz(h,s.index),routesMeta:m})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let f of eI(s.path))i(s,o,f)}),t}function eI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=eI(n.join("/")),c=[];return c.push(...o.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...o),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function hz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pz=/^:[\w-]+$/,mz=3,gz=2,yz=1,xz=10,vz=-2,pT=e=>e==="*";function bz(e,t){let r=e.split("/"),n=r.length;return r.some(pT)&&(n+=vz),t&&(n+=gz),r.filter(i=>!pT(i)).reduce((i,s)=>i+(pz.test(s)?mz:s===""?yz:xz),n)}function wz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function _z(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let c=0;c<n.length;++c){let f=n[c],h=c===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",p=Ug({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=Ug({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ya([s,p.pathname]),pathnameBase:Pz(ya([s,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(s=ya([s,p.pathnameBase]))}return o}function Ug(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jz(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:p},x)=>{if(m==="*"){let j=c[x]||"";o=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const v=c[x];return p&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:e}}function jz(e,t=!1,r=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Sz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Nz(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?yl(e):e;return{pathname:r?r.startsWith("/")?r:kz(r,t):t,search:Tz(n),hash:Ez(i)}}function kz(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vS(e){let t=tI(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function bS(e,t,r,n=!1){let i;typeof e=="string"?i=yl(e):(i={...e},$t(!i.pathname||!i.pathname.includes("?"),Sv("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Sv("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Sv("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}c=p>=0?t[p]:"/"}let f=Nz(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var ya=e=>e.join("/").replace(/\/\/+/g,"/"),Pz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ez=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Vg=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Xu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rI=["POST","PUT","PATCH","DELETE"],Cz=new Set(rI),Az=["GET",...rI],Oz=new Set(Az),Mz=new Set([301,302,303,307,308]),Rz=new Set([307,308]),Nv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lz=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),nI="remix-router-transitions",iI=Symbol("ResetLoaderData");function Dz(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.mapRouteProperties||Lz,i={},s=Fg(e.routes,n,void 0,i),o,c=e.basename||"/",f=e.dataStrategy||Fz,h=e.patchRoutesOnNavigation,m={...e.future},p=null,x=new Set,v=null,j=null,S=null,_=e.hydrationData!=null,N=il(s,e.history.location,c),k=!1,C=null;if(N==null&&!h){let ce=ts(404,{pathname:e.history.location.pathname}),{matches:ge,route:we}=NT(s);N=ge,C={[we.id]:ce}}N&&!e.hydrationData&&bt(N,s,e.history.location.pathname).active&&(N=null);let R;if(N)if(N.some(ce=>ce.route.lazy))R=!1;else if(!N.some(ce=>ce.route.loader))R=!0;else{let ce=e.hydrationData?e.hydrationData.loaderData:null,ge=e.hydrationData?e.hydrationData.errors:null;if(ge){let we=N.findIndex(ze=>ge[ze.route.id]!==void 0);R=N.slice(0,we+1).every(ze=>!oj(ze.route,ce,ge))}else R=N.every(we=>!oj(we.route,ce,ge))}else{R=!1,N=[];let ce=bt(null,s,e.history.location.pathname);ce.active&&ce.matches&&(k=!0,N=ce.matches)}let A,E={historyAction:e.history.action,location:e.history.location,matches:N,initialized:R,navigation:Nv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||C,fetchers:new Map,blockers:new Map},$="POP",I=!1,D,W=!1,B=new Map,q=null,J=!1,X=!1,Z=new Set,F=new Map,K=0,U=-1,ie=new Map,se=new Set,G=new Map,Y=new Map,oe=new Set,_e=new Map,Ce,Ne=null;function Be(){if(p=e.history.listen(({action:ce,location:ge,delta:we})=>{if(Ce){Ce(),Ce=void 0;return}xn(_e.size===0||we!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ze=Vn({currentLocation:E.location,nextLocation:ge,historyAction:ce});if(ze&&we!=null){let Ze=new Promise(et=>{Ce=et});e.history.go(we*-1),fn(ze,{state:"blocked",location:ge,proceed(){fn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ze.then(()=>e.history.go(we))},reset(){let et=new Map(E.blockers);et.set(ze,vf),xe({blockers:et})}});return}return de(ce,ge)}),r){Qz(t,B);let ce=()=>eW(t,B);t.addEventListener("pagehide",ce),q=()=>t.removeEventListener("pagehide",ce)}return E.initialized||de("POP",E.location,{initialHydration:!0}),A}function ye(){p&&p(),q&&q(),x.clear(),D&&D.abort(),E.fetchers.forEach((ce,ge)=>pt(ge)),E.blockers.forEach((ce,ge)=>ni(ge))}function ee(ce){return x.add(ce),()=>x.delete(ce)}function xe(ce,ge={}){E={...E,...ce};let we=[],ze=[];E.fetchers.forEach((Ze,et)=>{Ze.state==="idle"&&(oe.has(et)?we.push(et):ze.push(et))}),oe.forEach(Ze=>{!E.fetchers.has(Ze)&&!F.has(Ze)&&we.push(Ze)}),[...x].forEach(Ze=>Ze(E,{deletedFetchers:we,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),we.forEach(Ze=>pt(Ze)),ze.forEach(Ze=>E.fetchers.delete(Ze))}function ke(ce,ge,{flushSync:we}={}){var Xe,jt;let ze=E.actionData!=null&&E.navigation.formMethod!=null&&Ts(E.navigation.formMethod)&&E.navigation.state==="loading"&&((Xe=ce.state)==null?void 0:Xe._isRedirect)!==!0,Ze;ge.actionData?Object.keys(ge.actionData).length>0?Ze=ge.actionData:Ze=null:ze?Ze=E.actionData:Ze=null;let et=ge.loaderData?jT(E.loaderData,ge.loaderData,ge.matches||[],ge.errors):E.loaderData,at=E.blockers;at.size>0&&(at=new Map(at),at.forEach((Ct,Xt)=>at.set(Xt,vf)));let Oe=I===!0||E.navigation.formMethod!=null&&Ts(E.navigation.formMethod)&&((jt=ce.state)==null?void 0:jt._isRedirect)!==!0;o&&(s=o,o=void 0),J||$==="POP"||($==="PUSH"?e.history.push(ce,ce.state):$==="REPLACE"&&e.history.replace(ce,ce.state));let nt;if($==="POP"){let Ct=B.get(E.location.pathname);Ct&&Ct.has(ce.pathname)?nt={currentLocation:E.location,nextLocation:ce}:B.has(ce.pathname)&&(nt={currentLocation:ce,nextLocation:E.location})}else if(W){let Ct=B.get(E.location.pathname);Ct?Ct.add(ce.pathname):(Ct=new Set([ce.pathname]),B.set(E.location.pathname,Ct)),nt={currentLocation:E.location,nextLocation:ce}}xe({...ge,actionData:Ze,loaderData:et,historyAction:$,location:ce,initialized:!0,navigation:Nv,revalidation:"idle",restoreScrollPosition:Gs(ce,ge.matches||E.matches),preventScrollReset:Oe,blockers:at},{viewTransitionOpts:nt,flushSync:we===!0}),$="POP",I=!1,W=!1,J=!1,X=!1,Ne==null||Ne.resolve(),Ne=null}async function te(ce,ge){if(typeof ce=="number"){e.history.go(ce);return}let we=aj(E.location,E.matches,c,ce,ge==null?void 0:ge.fromRouteId,ge==null?void 0:ge.relative),{path:ze,submission:Ze,error:et}=mT(!1,we,ge),at=E.location,Oe=fh(E.location,ze,ge&&ge.state);Oe={...Oe,...e.history.encodeLocation(Oe)};let nt=ge&&ge.replace!=null?ge.replace:void 0,Xe="PUSH";nt===!0?Xe="REPLACE":nt===!1||Ze!=null&&Ts(Ze.formMethod)&&Ze.formAction===E.location.pathname+E.location.search&&(Xe="REPLACE");let jt=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,Ct=(ge&&ge.flushSync)===!0,Xt=Vn({currentLocation:at,nextLocation:Oe,historyAction:Xe});if(Xt){fn(Xt,{state:"blocked",location:Oe,proceed(){fn(Xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Oe}),te(ce,ge)},reset(){let ir=new Map(E.blockers);ir.set(Xt,vf),xe({blockers:ir})}});return}await de(Xe,Oe,{submission:Ze,pendingError:et,preventScrollReset:jt,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:Ct})}function ue(){Ne||(Ne=tW()),je(),xe({revalidation:"loading"});let ce=Ne.promise;return E.navigation.state==="submitting"?ce:E.navigation.state==="idle"?(de(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),ce):(de($||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:W===!0}),ce)}async function de(ce,ge,we){D&&D.abort(),D=null,$=ce,J=(we&&we.startUninterruptedRevalidation)===!0,si(E.location,E.matches),I=(we&&we.preventScrollReset)===!0,W=(we&&we.enableViewTransition)===!0;let ze=o||s,Ze=we&&we.overrideNavigation,et=we!=null&&we.initialHydration&&E.matches&&E.matches.length>0&&!k?E.matches:il(ze,ge,c),at=(we&&we.flushSync)===!0;if(et&&E.initialized&&!X&&Gz(E.location,ge)&&!(we&&we.submission&&Ts(we.submission.formMethod))){ke(ge,{matches:et},{flushSync:at});return}let Oe=bt(et,ze,ge.pathname);if(Oe.active&&Oe.matches&&(et=Oe.matches),!et){let{error:Wt,notFoundMatches:Kt,route:jr}=hn(ge.pathname);ke(ge,{matches:Kt,loaderData:{},errors:{[jr.id]:Wt}},{flushSync:at});return}D=new AbortController;let nt=mu(e.history,ge,D.signal,we&&we.submission),Xe;if(we&&we.pendingError)Xe=[ic(et).route.id,{type:"error",error:we.pendingError}];else if(we&&we.submission&&Ts(we.submission.formMethod)){let Wt=await Re(nt,ge,we.submission,et,Oe.active,{replace:we.replace,flushSync:at});if(Wt.shortCircuited)return;if(Wt.pendingActionResult){let[Kt,jr]=Wt.pendingActionResult;if(Mi(jr)&&Xu(jr.error)&&jr.error.status===404){D=null,ke(ge,{matches:Wt.matches,loaderData:{},errors:{[Kt]:jr.error}});return}}et=Wt.matches||et,Xe=Wt.pendingActionResult,Ze=kv(ge,we.submission),at=!1,Oe.active=!1,nt=mu(e.history,nt.url,nt.signal)}let{shortCircuited:jt,matches:Ct,loaderData:Xt,errors:ir}=await Me(nt,ge,et,Oe.active,Ze,we&&we.submission,we&&we.fetcherSubmission,we&&we.replace,we&&we.initialHydration===!0,at,Xe);jt||(D=null,ke(ge,{matches:Ct||et,...ST(Xe),loaderData:Xt,errors:ir}))}async function Re(ce,ge,we,ze,Ze,et={}){je();let at=Xz(ge,we);if(xe({navigation:at},{flushSync:et.flushSync===!0}),Ze){let Xe=await nr(ze,ge.pathname,ce.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let jt=ic(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,pendingActionResult:[jt,{type:"error",error:Xe.error}]}}else if(Xe.matches)ze=Xe.matches;else{let{notFoundMatches:jt,error:Ct,route:Xt}=hn(ge.pathname);return{matches:jt,pendingActionResult:[Xt.id,{type:"error",error:Ct}]}}}let Oe,nt=Bf(ze,ge);if(!nt.route.action&&!nt.route.lazy)Oe={type:"error",error:ts(405,{method:ce.method,pathname:ge.pathname,routeId:nt.route.id})};else if(Oe=(await pe("action",E,ce,[nt],ze,null))[nt.route.id],ce.signal.aborted)return{shortCircuited:!0};if(lc(Oe)){let Xe;return et&&et.replace!=null?Xe=et.replace:Xe=bT(Oe.response.headers.get("Location"),new URL(ce.url),c)===E.location.pathname+E.location.search,await Q(ce,Oe,!0,{submission:we,replace:Xe}),{shortCircuited:!0}}if(Mi(Oe)){let Xe=ic(ze,nt.route.id);return(et&&et.replace)!==!0&&($="PUSH"),{matches:ze,pendingActionResult:[Xe.route.id,Oe]}}return{matches:ze,pendingActionResult:[nt.route.id,Oe]}}async function Me(ce,ge,we,ze,Ze,et,at,Oe,nt,Xe,jt){let Ct=Ze||kv(ge,et),Xt=et||at||PT(Ct),ir=!J&&!nt;if(ze){if(ir){let Sr=Ye(jt);xe({navigation:Ct,...Sr!==void 0?{actionData:Sr}:{}},{flushSync:Xe})}let Zt=await nr(we,ge.pathname,ce.signal);if(Zt.type==="aborted")return{shortCircuited:!0};if(Zt.type==="error"){let Sr=ic(Zt.partialMatches).route.id;return{matches:Zt.partialMatches,loaderData:{},errors:{[Sr]:Zt.error}}}else if(Zt.matches)we=Zt.matches;else{let{error:Sr,notFoundMatches:Xs,route:oi}=hn(ge.pathname);return{matches:Xs,loaderData:{},errors:{[oi.id]:Sr}}}}let Wt=o||s,[Kt,jr]=yT(e.history,E,we,Xt,ge,nt===!0,X,Z,oe,G,se,Wt,c,jt);if(U=++K,Kt.length===0&&jr.length===0){let Zt=wr();return ke(ge,{matches:we,loaderData:{},errors:jt&&Mi(jt[1])?{[jt[0]]:jt[1].error}:null,...ST(jt),...Zt?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Xe}),{shortCircuited:!0}}if(ir){let Zt={};if(!ze){Zt.navigation=Ct;let Sr=Ye(jt);Sr!==void 0&&(Zt.actionData=Sr)}jr.length>0&&(Zt.fetchers=qe(jr)),xe(Zt,{flushSync:Xe})}jr.forEach(Zt=>{Nt(Zt.key),Zt.controller&&F.set(Zt.key,Zt.controller)});let ds=()=>jr.forEach(Zt=>Nt(Zt.key));D&&D.signal.addEventListener("abort",ds);let{loaderResults:Zs,fetcherResults:ai}=await ne(E,we,Kt,jr,ce);if(ce.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",ds),jr.forEach(Zt=>F.delete(Zt.key));let En=Zm(Zs);if(En)return await Q(ce,En.result,!0,{replace:Oe}),{shortCircuited:!0};if(En=Zm(ai),En)return se.add(En.key),await Q(ce,En.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:Nl,errors:zi}=_T(E,we,Zs,jt,jr,ai);nt&&E.errors&&(zi={...E.errors,...zi});let Gt=wr(),xo=dn(U),Ys=Gt||xo||jr.length>0;return{matches:we,loaderData:Nl,errors:zi,...Ys?{fetchers:new Map(E.fetchers)}:{}}}function Ye(ce){if(ce&&!Mi(ce[1]))return{[ce[0]]:ce[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function qe(ce){return ce.forEach(ge=>{let we=E.fetchers.get(ge.key),ze=bf(void 0,we?we.data:void 0);E.fetchers.set(ge.key,ze)}),new Map(E.fetchers)}async function he(ce,ge,we,ze){Nt(ce);let Ze=(ze&&ze.flushSync)===!0,et=o||s,at=aj(E.location,E.matches,c,we,ge,ze==null?void 0:ze.relative),Oe=il(et,at,c),nt=bt(Oe,et,at);if(nt.active&&nt.matches&&(Oe=nt.matches),!Oe){Pe(ce,ge,ts(404,{pathname:at}),{flushSync:Ze});return}let{path:Xe,submission:jt,error:Ct}=mT(!0,at,ze);if(Ct){Pe(ce,ge,Ct,{flushSync:Ze});return}let Xt=Bf(Oe,Xe),ir=(ze&&ze.preventScrollReset)===!0;if(jt&&Ts(jt.formMethod)){await Fe(ce,ge,Xe,Xt,Oe,nt.active,Ze,ir,jt);return}G.set(ce,{routeId:ge,path:Xe}),await Je(ce,ge,Xe,Xt,Oe,nt.active,Ze,ir,jt)}async function Fe(ce,ge,we,ze,Ze,et,at,Oe,nt){je(),G.delete(ce);function Xe(sr){if(!sr.route.action&&!sr.route.lazy){let Vr=ts(405,{method:nt.formMethod,pathname:we,routeId:ge});return Pe(ce,ge,Vr,{flushSync:at}),!0}return!1}if(!et&&Xe(ze))return;let jt=E.fetchers.get(ce);Ae(ce,Jz(nt,jt),{flushSync:at});let Ct=new AbortController,Xt=mu(e.history,we,Ct.signal,nt);if(et){let sr=await nr(Ze,we,Xt.signal);if(sr.type==="aborted")return;if(sr.type==="error"){Pe(ce,ge,sr.error,{flushSync:at});return}else if(sr.matches){if(Ze=sr.matches,ze=Bf(Ze,we),Xe(ze))return}else{Pe(ce,ge,ts(404,{pathname:we}),{flushSync:at});return}}F.set(ce,Ct);let ir=K,Kt=(await pe("action",E,Xt,[ze],Ze,ce))[ze.route.id];if(Xt.signal.aborted){F.get(ce)===Ct&&F.delete(ce);return}if(oe.has(ce)){if(lc(Kt)||Mi(Kt)){Ae(ce,Qo(void 0));return}}else{if(lc(Kt))if(F.delete(ce),U>ir){Ae(ce,Qo(void 0));return}else return se.add(ce),Ae(ce,bf(nt)),Q(Xt,Kt,!1,{fetcherSubmission:nt,preventScrollReset:Oe});if(Mi(Kt)){Pe(ce,ge,Kt.error);return}}let jr=E.navigation.location||E.location,ds=mu(e.history,jr,Ct.signal),Zs=o||s,ai=E.navigation.state!=="idle"?il(Zs,E.navigation.location,c):E.matches;$t(ai,"Didn't find any matches after fetcher action");let En=++K;ie.set(ce,En);let Nl=bf(nt,Kt.data);E.fetchers.set(ce,Nl);let[zi,Gt]=yT(e.history,E,ai,nt,jr,!1,X,Z,oe,G,se,Zs,c,[ze.route.id,Kt]);Gt.filter(sr=>sr.key!==ce).forEach(sr=>{let Vr=sr.key,Js=E.fetchers.get(Vr),Pt=bf(void 0,Js?Js.data:void 0);E.fetchers.set(Vr,Pt),Nt(Vr),sr.controller&&F.set(Vr,sr.controller)}),xe({fetchers:new Map(E.fetchers)});let xo=()=>Gt.forEach(sr=>Nt(sr.key));Ct.signal.addEventListener("abort",xo);let{loaderResults:Ys,fetcherResults:Zt}=await ne(E,ai,zi,Gt,ds);if(Ct.signal.aborted)return;Ct.signal.removeEventListener("abort",xo),ie.delete(ce),F.delete(ce),Gt.forEach(sr=>F.delete(sr.key));let Sr=Zm(Ys);if(Sr)return Q(ds,Sr.result,!1,{preventScrollReset:Oe});if(Sr=Zm(Zt),Sr)return se.add(Sr.key),Q(ds,Sr.result,!1,{preventScrollReset:Oe});let{loaderData:Xs,errors:oi}=_T(E,ai,Ys,void 0,Gt,Zt);if(E.fetchers.has(ce)){let sr=Qo(Kt.data);E.fetchers.set(ce,sr)}dn(En),E.navigation.state==="loading"&&En>U?($t($,"Expected pending action"),D&&D.abort(),ke(E.navigation.location,{matches:ai,loaderData:Xs,errors:oi,fetchers:new Map(E.fetchers)})):(xe({errors:oi,loaderData:jT(E.loaderData,Xs,ai,oi),fetchers:new Map(E.fetchers)}),X=!1)}async function Je(ce,ge,we,ze,Ze,et,at,Oe,nt){let Xe=E.fetchers.get(ce);Ae(ce,bf(nt,Xe?Xe.data:void 0),{flushSync:at});let jt=new AbortController,Ct=mu(e.history,we,jt.signal);if(et){let Kt=await nr(Ze,we,Ct.signal);if(Kt.type==="aborted")return;if(Kt.type==="error"){Pe(ce,ge,Kt.error,{flushSync:at});return}else if(Kt.matches)Ze=Kt.matches,ze=Bf(Ze,we);else{Pe(ce,ge,ts(404,{pathname:we}),{flushSync:at});return}}F.set(ce,jt);let Xt=K,Wt=(await pe("loader",E,Ct,[ze],Ze,ce))[ze.route.id];if(F.get(ce)===jt&&F.delete(ce),!Ct.signal.aborted){if(oe.has(ce)){Ae(ce,Qo(void 0));return}if(lc(Wt))if(U>Xt){Ae(ce,Qo(void 0));return}else{se.add(ce),await Q(Ct,Wt,!1,{preventScrollReset:Oe});return}if(Mi(Wt)){Pe(ce,ge,Wt.error);return}Ae(ce,Qo(Wt.data))}}async function Q(ce,ge,we,{submission:ze,fetcherSubmission:Ze,preventScrollReset:et,replace:at}={}){ge.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Oe=ge.response.headers.get("Location");$t(Oe,"Expected a Location header on the redirect Response"),Oe=bT(Oe,new URL(ce.url),c);let nt=fh(E.location,Oe,{_isRedirect:!0});if(r){let Wt=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(wS.test(Oe)){const Kt=e.history.createURL(Oe);Wt=Kt.origin!==t.location.origin||Ws(Kt.pathname,c)==null}if(Wt){at?t.location.replace(Oe):t.location.assign(Oe);return}}D=null;let Xe=at===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:jt,formAction:Ct,formEncType:Xt}=E.navigation;!ze&&!Ze&&jt&&Ct&&Xt&&(ze=PT(E.navigation));let ir=ze||Ze;if(Rz.has(ge.response.status)&&ir&&Ts(ir.formMethod))await de(Xe,nt,{submission:{...ir,formAction:Oe},preventScrollReset:et||I,enableViewTransition:we?W:void 0});else{let Wt=kv(nt,ze);await de(Xe,nt,{overrideNavigation:Wt,fetcherSubmission:Ze,preventScrollReset:et||I,enableViewTransition:we?W:void 0})}}async function pe(ce,ge,we,ze,Ze,et){let at,Oe={};try{at=await Uz(f,ce,ge,we,ze,Ze,et,i,n)}catch(nt){return ze.forEach(Xe=>{Oe[Xe.route.id]={type:"error",error:nt}}),Oe}for(let[nt,Xe]of Object.entries(at))if(Zz(Xe)){let jt=Xe.result;Oe[nt]={type:"redirect",response:Hz(jt,we,nt,Ze,c)}}else Oe[nt]=await qz(Xe);return Oe}async function ne(ce,ge,we,ze,Ze){let et=pe("loader",ce,Ze,we,ge,null),at=Promise.all(ze.map(async Xe=>{if(Xe.matches&&Xe.match&&Xe.controller){let Ct=(await pe("loader",ce,mu(e.history,Xe.path,Xe.controller.signal),[Xe.match],Xe.matches,Xe.key))[Xe.match.route.id];return{[Xe.key]:Ct}}else return Promise.resolve({[Xe.key]:{type:"error",error:ts(404,{pathname:Xe.path})}})})),Oe=await et,nt=(await at).reduce((Xe,jt)=>Object.assign(Xe,jt),{});return{loaderResults:Oe,fetcherResults:nt}}function je(){X=!0,G.forEach((ce,ge)=>{F.has(ge)&&Z.add(ge),Nt(ge)})}function Ae(ce,ge,we={}){E.fetchers.set(ce,ge),xe({fetchers:new Map(E.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function Pe(ce,ge,we,ze={}){let Ze=ic(E.matches,ge);pt(ce),xe({errors:{[Ze.route.id]:we},fetchers:new Map(E.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function Le(ce){return Y.set(ce,(Y.get(ce)||0)+1),oe.has(ce)&&oe.delete(ce),E.fetchers.get(ce)||Iz}function pt(ce){let ge=E.fetchers.get(ce);F.has(ce)&&!(ge&&ge.state==="loading"&&ie.has(ce))&&Nt(ce),G.delete(ce),ie.delete(ce),se.delete(ce),oe.delete(ce),Z.delete(ce),E.fetchers.delete(ce)}function Et(ce){let ge=(Y.get(ce)||0)-1;ge<=0?(Y.delete(ce),oe.add(ce)):Y.set(ce,ge),xe({fetchers:new Map(E.fetchers)})}function Nt(ce){let ge=F.get(ce);ge&&(ge.abort(),F.delete(ce))}function Ht(ce){for(let ge of ce){let we=Le(ge),ze=Qo(we.data);E.fetchers.set(ge,ze)}}function wr(){let ce=[],ge=!1;for(let we of se){let ze=E.fetchers.get(we);$t(ze,`Expected fetcher: ${we}`),ze.state==="loading"&&(se.delete(we),ce.push(we),ge=!0)}return Ht(ce),ge}function dn(ce){let ge=[];for(let[we,ze]of ie)if(ze<ce){let Ze=E.fetchers.get(we);$t(Ze,`Expected fetcher: ${we}`),Ze.state==="loading"&&(Nt(we),ie.delete(we),ge.push(we))}return Ht(ge),ge.length>0}function us(ce,ge){let we=E.blockers.get(ce)||vf;return _e.get(ce)!==ge&&_e.set(ce,ge),we}function ni(ce){E.blockers.delete(ce),_e.delete(ce)}function fn(ce,ge){let we=E.blockers.get(ce)||vf;$t(we.state==="unblocked"&&ge.state==="blocked"||we.state==="blocked"&&ge.state==="blocked"||we.state==="blocked"&&ge.state==="proceeding"||we.state==="blocked"&&ge.state==="unblocked"||we.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${we.state} -> ${ge.state}`);let ze=new Map(E.blockers);ze.set(ce,ge),xe({blockers:ze})}function Vn({currentLocation:ce,nextLocation:ge,historyAction:we}){if(_e.size===0)return;_e.size>1&&xn(!1,"A router only supports one blocker at a time");let ze=Array.from(_e.entries()),[Ze,et]=ze[ze.length-1],at=E.blockers.get(Ze);if(!(at&&at.state==="proceeding")&&et({currentLocation:ce,nextLocation:ge,historyAction:we}))return Ze}function hn(ce){let ge=ts(404,{pathname:ce}),we=o||s,{matches:ze,route:Ze}=NT(we);return{notFoundMatches:ze,route:Ze,error:ge}}function Ks(ce,ge,we){if(v=ce,S=ge,j=we||null,!_&&E.navigation===Nv){_=!0;let ze=Gs(E.location,E.matches);ze!=null&&xe({restoreScrollPosition:ze})}return()=>{v=null,S=null,j=null}}function ii(ce,ge){return j&&j(ce,ge.map(ze=>fz(ze,E.loaderData)))||ce.key}function si(ce,ge){if(v&&S){let we=ii(ce,ge);v[we]=S()}}function Gs(ce,ge){if(v){let we=ii(ce,ge),ze=v[we];if(typeof ze=="number")return ze}return null}function bt(ce,ge,we){if(h)if(ce){if(Object.keys(ce[0].params).length>0)return{active:!0,matches:Cg(ge,we,c,!0)}}else return{active:!0,matches:Cg(ge,we,c,!0)||[]};return{active:!1,matches:null}}async function nr(ce,ge,we){if(!h)return{type:"success",matches:ce};let ze=ce;for(;;){let Ze=o==null,et=o||s,at=i;try{await h({path:ge,matches:ze,patch:(Xe,jt)=>{we.aborted||vT(Xe,jt,et,at,n)}})}catch(Xe){return{type:"error",error:Xe,partialMatches:ze}}finally{Ze&&!we.aborted&&(s=[...s])}if(we.aborted)return{type:"aborted"};let Oe=il(et,ge,c);if(Oe)return{type:"success",matches:Oe};let nt=Cg(et,ge,c,!0);if(!nt||ze.length===nt.length&&ze.every((Xe,jt)=>Xe.route.id===nt[jt].route.id))return{type:"success",matches:null};ze=nt}}function _r(ce){i={},o=Fg(ce,n,void 0,i)}function Ur(ce,ge){let we=o==null;vT(ce,ge,o||s,i,n),we&&(s=[...s],xe({}))}return A={get basename(){return c},get future(){return m},get state(){return E},get routes(){return s},get window(){return t},initialize:Be,subscribe:ee,enableScrollRestoration:Ks,navigate:te,fetch:he,revalidate:ue,createHref:ce=>e.history.createHref(ce),encodeLocation:ce=>e.history.encodeLocation(ce),getFetcher:Le,deleteFetcher:Et,dispose:ye,getBlocker:us,deleteBlocker:ni,patchRoutes:Ur,_internalFetchControllers:F,_internalSetRoutes:_r},A}function $z(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function aj(e,t,r,n,i,s){let o,c;if(i){o=[];for(let h of t)if(o.push(h),h.route.id===i){c=h;break}}else o=t,c=t[t.length-1];let f=bS(n||".",vS(o),Ws(e.pathname,r)||e.pathname,s==="path");if(n==null&&(f.search=e.search,f.hash=e.hash),(n==null||n===""||n===".")&&c){let h=_S(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(f.search),p=m.getAll("index");m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let x=m.toString();f.search=x?`?${x}`:""}}return r!=="/"&&(f.pathname=f.pathname==="/"?r:ya([r,f.pathname])),pl(f)}function mT(e,t,r){if(!r||!$z(r))return{path:t};if(r.formMethod&&!Yz(r.formMethod))return{path:t,error:ts(405,{method:r.formMethod})};let n=()=>({path:t,error:ts(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),o=aI(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ts(s))return n();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,[v,j])=>`${x}${v}=${j}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Ts(s))return n();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return n()}}}$t(typeof FormData=="function","FormData is not available in this environment");let c,f;if(r.formData)c=lj(r.formData),f=r.formData;else if(r.body instanceof FormData)c=lj(r.body),f=r.body;else if(r.body instanceof URLSearchParams)c=r.body,f=wT(c);else if(r.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(r.body),f=wT(c)}catch{return n()}let h={formMethod:s,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ts(h.formMethod))return{path:t,submission:h};let m=yl(t);return e&&m.search&&_S(m.search)&&c.append("index",""),m.search=`?${c}`,{path:pl(m),submission:h}}function gT(e,t,r=!1){let n=e.findIndex(i=>i.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function yT(e,t,r,n,i,s,o,c,f,h,m,p,x,v){let j=v?Mi(v[1])?v[1].error:v[1].data:void 0,S=e.createURL(t.location),_=e.createURL(i),N=r;s&&t.errors?N=gT(r,Object.keys(t.errors)[0],!0):v&&Mi(v[1])&&(N=gT(r,v[0]));let k=v?v[1].statusCode:void 0,C=k&&k>=400,R=N.filter((E,$)=>{let{route:I}=E;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return oj(I,t.loaderData,t.errors);if(zz(t.loaderData,t.matches[$],E))return!0;let D=t.matches[$],W=E;return xT(E,{currentUrl:S,currentParams:D.params,nextUrl:_,nextParams:W.params,...n,actionResult:j,actionStatus:k,defaultShouldRevalidate:C?!1:o||S.pathname+S.search===_.pathname+_.search||S.search!==_.search||Wz(D,W)})}),A=[];return h.forEach((E,$)=>{if(s||!r.some(q=>q.route.id===E.routeId)||f.has($))return;let I=il(p,E.path,x);if(!I){A.push({key:$,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let D=t.fetchers.get($),W=Bf(I,E.path),B=!1;m.has($)?B=!1:c.has($)?(c.delete($),B=!0):D&&D.state!=="idle"&&D.data===void 0?B=o:B=xT(W,{currentUrl:S,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:r[r.length-1].params,...n,actionResult:j,actionStatus:k,defaultShouldRevalidate:C?!1:o}),B&&A.push({key:$,routeId:E.routeId,path:E.path,matches:I,match:W,controller:new AbortController})}),[R,A]}function oj(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function zz(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function Wz(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function xT(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function vT(e,t,r,n,i){let s;if(e){let f=n[e];$t(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),s=f.children}else s=r;let o=t.filter(f=>!s.some(h=>sI(f,h))),c=Fg(o,i,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...c)}function sI(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(s=>sI(r,s))}):!1}async function Bz(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];$t(i,"No route found in manifest");let s={};for(let o in n){let f=i[o]!==void 0&&o!=="hasErrorBoundary";xn(!f,`Route "${i.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!f&&!uz.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,{...t(i),lazy:void 0})}async function Fz({matches:e}){let t=e.filter(n=>n.shouldLoad);return(await Promise.all(t.map(n=>n.resolve()))).reduce((n,i,s)=>Object.assign(n,{[t[s].route.id]:i}),{})}async function Uz(e,t,r,n,i,s,o,c,f,h){let m=s.map(v=>v.route.lazy?Bz(v.route,f,c):void 0),p=s.map((v,j)=>{let S=m[j],_=i.some(k=>k.route.id===v.route.id);return{...v,shouldLoad:_,resolve:async k=>(k&&n.method==="GET"&&(v.route.lazy||v.route.loader)&&(_=!0),_?Vz(t,n,v,S,k,h):Promise.resolve({type:"data",result:void 0}))}}),x=await e({matches:p,request:n,params:s[0].params,fetcherKey:o,context:h});try{await Promise.all(m)}catch{}return x}async function Vz(e,t,r,n,i,s){let o,c,f=h=>{let m,p=new Promise((j,S)=>m=S);c=()=>m(),t.signal.addEventListener("abort",c);let x=j=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${r.route.id}]`)):h({request:t,params:r.params,context:s},...j!==void 0?[j]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(S=>x(S)):x())}}catch(j){return{type:"error",result:j}}})();return Promise.race([v,p])};try{let h=r.route[e];if(n)if(h){let m,[p]=await Promise.all([f(h).catch(x=>{m=x}),n]);if(m!==void 0)throw m;o=p}else if(await n,h=r.route[e],h)o=await f(h);else if(e==="action"){let m=new URL(t.url),p=m.pathname+m.search;throw ts(405,{method:t.method,pathname:p,routeId:r.route.id})}else return{type:"data",result:void 0};else if(h)o=await f(h);else{let m=new URL(t.url),p=m.pathname+m.search;throw ts(404,{pathname:p})}}catch(h){return{type:"error",result:h}}finally{c&&t.signal.removeEventListener("abort",c)}return o}async function qz(e){var n,i,s,o,c,f;let{result:t,type:r}=e;if(oI(t)){let h;try{let m=t.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?t.body==null?h=null:h=await t.json():h=await t.text()}catch(m){return{type:"error",error:m}}return r==="error"?{type:"error",error:new Vg(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return r==="error"?kT(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Vg(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:Xu(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Xu(t)?t.status:void 0}:kT(t)?{type:"data",data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Hz(e,t,r,n,i){let s=e.headers.get("Location");if($t(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!wS.test(s)){let o=n.slice(0,n.findIndex(c=>c.route.id===r)+1);s=aj(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function bT(e,t,r){if(wS.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=Ws(i.pathname,r)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function mu(e,t,r,n){let i=e.createURL(aI(t)).toString(),s={signal:r};if(n&&Ts(n.formMethod)){let{formMethod:o,formEncType:c}=n;s.method=o.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(n.json)):c==="text/plain"?s.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?s.body=lj(n.formData):s.body=n.formData}return new Request(i,s)}function lj(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function wT(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Kz(e,t,r,n=!1,i=!1){let s={},o=null,c,f=!1,h={},m=r&&Mi(r[1])?r[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let x=p.route.id,v=t[x];if($t(!lc(v),"Cannot handle redirect results in processLoaderData"),Mi(v)){let j=v.error;if(m!==void 0&&(j=m,m=void 0),o=o||{},i)o[x]=j;else{let S=ic(e,x);o[S.route.id]==null&&(o[S.route.id]=j)}n||(s[x]=iI),f||(f=!0,c=Xu(v.error)?v.error.status:500),v.headers&&(h[x]=v.headers)}else s[x]=v.data,v.statusCode&&v.statusCode!==200&&!f&&(c=v.statusCode),v.headers&&(h[x]=v.headers)}),m!==void 0&&r&&(o={[r[0]]:m},s[r[0]]=void 0),{loaderData:s,errors:o,statusCode:c||200,loaderHeaders:h}}function _T(e,t,r,n,i,s){let{loaderData:o,errors:c}=Kz(t,r,n);return i.forEach(f=>{let{key:h,match:m,controller:p}=f,x=s[h];if($t(x,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Mi(x)){let v=ic(e.matches,m==null?void 0:m.route.id);c&&c[v.route.id]||(c={...c,[v.route.id]:x.error}),e.fetchers.delete(h)}else if(lc(x))$t(!1,"Unhandled fetcher revalidation redirect");else{let v=Qo(x.data);e.fetchers.set(h,v)}}),{loaderData:o,errors:c}}function jT(e,t,r,n){let i=Object.entries(t).filter(([,s])=>s!==iI).reduce((s,[o,c])=>(s[o]=c,s),{});for(let s of r){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),n&&n.hasOwnProperty(o))break}return i}function ST(e){return e?Mi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ic(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function NT(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ts(e,{pathname:t,routeId:r,method:n,type:i,message:s}={}){let o="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(o="Bad Request",n&&t&&r?c=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):e===403?(o="Forbidden",c=`Route "${r}" does not match URL "${t}"`):e===404?(o="Not Found",c=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",n&&t&&r?c=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(c=`Invalid request method "${n.toUpperCase()}"`)),new Vg(e||500,o,new Error(c),!0)}function Zm(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(lc(i))return{key:n,result:i}}}function aI(e){let t=typeof e=="string"?yl(e):e;return pl({...t,hash:""})}function Gz(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Zz(e){return oI(e.result)&&Mz.has(e.result.status)}function Mi(e){return e.type==="error"}function lc(e){return(e&&e.type)==="redirect"}function kT(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function oI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Yz(e){return Oz.has(e.toUpperCase())}function Ts(e){return Cz.has(e.toUpperCase())}function _S(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Bf(e,t){let r=typeof t=="string"?yl(t).search:t.search;if(e[e.length-1].route.index&&_S(r||""))return e[e.length-1];let n=tI(e);return n[n.length-1]}function PT(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:o}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function kv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xz(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function bf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Jz(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Qo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Qz(e,t){try{let r=e.sessionStorage.getItem(nI);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function eW(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(nI,JSON.stringify(r))}catch(n){xn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function tW(){let e,t,r=new Promise((n,i)=>{e=async s=>{n(s);try{await r}catch{}},t=async s=>{i(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Pc=O.createContext(null);Pc.displayName="DataRouter";var pp=O.createContext(null);pp.displayName="DataRouterState";var jS=O.createContext({isTransitioning:!1});jS.displayName="ViewTransition";var lI=O.createContext(new Map);lI.displayName="Fetchers";var rW=O.createContext(null);rW.displayName="Await";var Na=O.createContext(null);Na.displayName="Navigation";var lx=O.createContext(null);lx.displayName="Location";var Vs=O.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var SS=O.createContext(null);SS.displayName="RouteError";function nW(e,{relative:t}={}){$t(mp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(Na),{hash:i,pathname:s,search:o}=gp(e,{relative:t}),c=s;return r!=="/"&&(c=s==="/"?r:ya([r,s])),n.createHref({pathname:c,search:o,hash:i})}function mp(){return O.useContext(lx)!=null}function ka(){return $t(mp(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(lx).location}var cI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uI(e){O.useContext(Na).static||O.useLayoutEffect(e)}function Fr(){let{isDataRoute:e}=O.useContext(Vs);return e?yW():iW()}function iW(){$t(mp(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Pc),{basename:t,navigator:r}=O.useContext(Na),{matches:n}=O.useContext(Vs),{pathname:i}=ka(),s=JSON.stringify(vS(n)),o=O.useRef(!1);return uI(()=>{o.current=!0}),O.useCallback((f,h={})=>{if(xn(o.current,cI),!o.current)return;if(typeof f=="number"){r.go(f);return}let m=bS(f,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ya([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,s,i,e])}var sW=O.createContext(null);function aW(e){let t=O.useContext(Vs).outlet;return t&&O.createElement(sW.Provider,{value:e},t)}function NS(){let{matches:e}=O.useContext(Vs),t=e[e.length-1];return t?t.params:{}}function gp(e,{relative:t}={}){let{matches:r}=O.useContext(Vs),{pathname:n}=ka(),i=JSON.stringify(vS(r));return O.useMemo(()=>bS(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function oW(e,t,r,n){$t(mp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=O.useContext(Na),{matches:o}=O.useContext(Vs),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let k=p&&p.path||"";fI(h,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=ka(),v;v=x;let j=v.pathname||"/",S=j;if(m!=="/"){let k=m.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=!s&&r&&r.matches&&r.matches.length>0?r.matches:il(e,{pathname:S});return xn(p||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),xn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fW(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:ya([m,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ya([m,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,r,n)}function lW(){let e=dI(),t=Xu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,o)}var cW=O.createElement(lW,null),uW=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Vs.Provider,{value:this.props.routeContext},O.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dW({routeContext:e,match:t,children:r}){let n=O.useContext(Pc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Vs.Provider,{value:e},r)}function fW(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let f=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);$t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let o=!1,c=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:p}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let p,x=!1,v=null,j=null;r&&(p=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||cW,o&&(c<0&&m===0?(fI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):c===m&&(x=!0,j=h.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,m+1)),_=()=>{let N;return p?N=v:x?N=j:h.route.Component?N=O.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,O.createElement(dW,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?O.createElement(uW,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function kS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hW(e){let t=O.useContext(Pc);return $t(t,kS(e)),t}function pW(e){let t=O.useContext(pp);return $t(t,kS(e)),t}function mW(e){let t=O.useContext(Vs);return $t(t,kS(e)),t}function PS(e){let t=mW(e),r=t.matches[t.matches.length-1];return $t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function gW(){return PS("useRouteId")}function dI(){var n;let e=O.useContext(SS),t=pW("useRouteError"),r=PS("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function yW(){let{router:e}=hW("useNavigate"),t=PS("useNavigate"),r=O.useRef(!1);return uI(()=>{r.current=!0}),O.useCallback(async(i,s={})=>{xn(r.current,cI),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var TT={};function fI(e,t,r){!t&&!TT[e]&&(TT[e]=!0,xn(!1,r))}var ET={};function CT(e,t){!e&&!ET[t]&&(ET[t]=!0,console.warn(t))}function xW(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&xn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:O.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&xn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:O.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&xn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:O.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var vW=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function AT({router:e,flushSync:t}){let[r,n]=O.useState(e.state),[i,s]=O.useState(),[o,c]=O.useState({isTransitioning:!1}),[f,h]=O.useState(),[m,p]=O.useState(),[x,v]=O.useState(),j=O.useRef(new Map),S=O.useCallback((C,{deletedFetchers:R,flushSync:A,viewTransitionOpts:E})=>{C.fetchers.forEach((I,D)=>{I.data!==void 0&&j.current.set(D,I.data)}),R.forEach(I=>j.current.delete(I)),CT(A===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(CT(E==null||$,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!$){t&&A?t(()=>n(C)):O.startTransition(()=>n(C));return}if(t&&A){t(()=>{m&&(f&&f.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let I=e.window.document.startViewTransition(()=>{t(()=>n(C))});I.finished.finally(()=>{t(()=>{h(void 0),p(void 0),s(void 0),c({isTransitioning:!1})})}),t(()=>p(I));return}m?(f&&f.resolve(),m.skipTransition(),v({state:C,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(s(C),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,m,f]);O.useLayoutEffect(()=>e.subscribe(S),[e,S]),O.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new vW)},[o]),O.useEffect(()=>{if(f&&i&&e.window){let C=i,R=f.promise,A=e.window.document.startViewTransition(async()=>{O.startTransition(()=>n(C)),await R});A.finished.finally(()=>{h(void 0),p(void 0),s(void 0),c({isTransitioning:!1})}),p(A)}},[i,f,e.window]),O.useEffect(()=>{f&&i&&r.location.key===i.location.key&&f.resolve()},[f,m,r.location,i]),O.useEffect(()=>{!o.isTransitioning&&x&&(s(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),v(void 0))},[o.isTransitioning,x]);let _=O.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:C=>e.navigate(C),push:(C,R,A)=>e.navigate(C,{state:R,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(C,R,A)=>e.navigate(C,{replace:!0,state:R,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[e]),N=e.basename||"/",k=O.useMemo(()=>({router:e,navigator:_,static:!1,basename:N}),[e,_,N]);return O.createElement(O.Fragment,null,O.createElement(Pc.Provider,{value:k},O.createElement(pp.Provider,{value:r},O.createElement(lI.Provider,{value:j.current},O.createElement(jS.Provider,{value:o},O.createElement(_W,{basename:N,location:r.location,navigationType:r.historyAction,navigator:_},O.createElement(bW,{routes:e.routes,future:e.future,state:r})))))),null)}var bW=O.memo(wW);function wW({routes:e,future:t,state:r}){return oW(e,void 0,r,t)}function OT(e){return aW(e.context)}function _W({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){$t(!mp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=yl(r));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:x="default"}=r,v=O.useMemo(()=>{let j=Ws(f,o);return j==null?null:{location:{pathname:j,search:h,hash:m,state:p,key:x},navigationType:n}},[o,f,h,m,p,x,n]);return xn(v!=null,`<Router basename="${o}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:O.createElement(Na.Provider,{value:c},O.createElement(lx.Provider,{children:t,value:v}))}var Ag="get",Og="application/x-www-form-urlencoded";function cx(e){return e!=null&&typeof e.tagName=="string"}function jW(e){return cx(e)&&e.tagName.toLowerCase()==="button"}function SW(e){return cx(e)&&e.tagName.toLowerCase()==="form"}function NW(e){return cx(e)&&e.tagName.toLowerCase()==="input"}function kW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PW(e,t){return e.button===0&&(!t||t==="_self")&&!kW(e)}function cj(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function TW(e,t){let r=cj(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var Ym=null;function EW(){if(Ym===null)try{new FormData(document.createElement("form"),0),Ym=!1}catch{Ym=!0}return Ym}var CW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pv(e){return e!=null&&!CW.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Og}"`),null):e}function AW(e,t){let r,n,i,s,o;if(SW(e)){let c=e.getAttribute("action");n=c?Ws(c,t):null,r=e.getAttribute("method")||Ag,i=Pv(e.getAttribute("enctype"))||Og,s=new FormData(e)}else if(jW(e)||NW(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(n=f?Ws(f,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Ag,i=Pv(e.getAttribute("formenctype"))||Pv(c.getAttribute("enctype"))||Og,s=new FormData(c,e),!EW()){let{name:h,type:m,value:p}=e;if(m==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,p)}}else{if(cx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ag,n=null,i=Og,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}function TS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function OW(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function RW(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await OW(s,r);return o.links?o.links():[]}return[]}));return $W(n.flat(1).filter(MW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MT(e,t,r,n,i,s){let o=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,c=(f,h)=>{var m;return r[h].pathname!==f.pathname||((m=r[h].route.path)==null?void 0:m.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>o(f,h)||c(f,h)):s==="data"?t.filter((f,h)=>{var p;let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function IW(e,t){return LW(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function LW(e){return[...new Set(e)]}function DW(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function $W(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(DW(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function zW(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WW(){let e=O.useContext(Pc);return TS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function BW(){let e=O.useContext(pp);return TS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ES=O.createContext(void 0);ES.displayName="FrameworkContext";function hI(){let e=O.useContext(ES);return TS(e,"You must render this element inside a <HydratedRouter> element"),e}function FW(e,t){let r=O.useContext(ES),[n,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=t,x=O.useRef(null);O.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=N=>{N.forEach(k=>{o(k.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[e]),O.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{i(!0)},j=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,x,{}]:[s,x,{onFocus:wf(c,v),onBlur:wf(f,j),onMouseEnter:wf(h,v),onMouseLeave:wf(m,j),onTouchStart:wf(p,v)}]:[!1,x,{}]}function wf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function UW({page:e,...t}){let{router:r}=WW(),n=O.useMemo(()=>il(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?O.createElement(qW,{page:e,matches:n,...t}):null}function VW(e){let{manifest:t,routeModules:r}=hI(),[n,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return RW(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function qW({page:e,matches:t,...r}){let n=ka(),{manifest:i,routeModules:s}=hI(),{loaderData:o,matches:c}=BW(),f=O.useMemo(()=>MT(e,t,c,i,n,"data"),[e,t,c,i,n]),h=O.useMemo(()=>MT(e,t,c,i,n,"assets"),[e,t,c,i,n]),m=O.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,j=!1;if(t.forEach(_=>{var k;let N=i.routes[_.route.id];!N||!N.hasLoader||(!f.some(C=>C.route.id===_.route.id)&&_.route.id in o&&((k=s[_.route.id])!=null&&k.shouldRevalidate)||N.hasClientLoader?j=!0:v.add(_.route.id))}),v.size===0)return[];let S=zW(e);return j&&v.size>0&&S.searchParams.set("_routes",t.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[o,n,i,f,t,e,s]),p=O.useMemo(()=>IW(h,i),[h,i]),x=VW(h);return O.createElement(O.Fragment,null,m.map(v=>O.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>O.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:j})=>O.createElement("link",{key:v,...j})))}function HW(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var pI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pI&&(window.__reactRouterVersion="7.1.5")}catch{}function mI(e,t){return Dz({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:oz({window:t==null?void 0:t.window}),hydrationData:KW(),routes:e,mapRouteProperties:xW,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function KW(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:GW(e.errors)}),e}function GW(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new Vg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}var gI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yI=O.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:c,target:f,to:h,preventScrollReset:m,viewTransition:p,...x},v){let{basename:j}=O.useContext(Na),S=typeof h=="string"&&gI.test(h),_,N=!1;if(typeof h=="string"&&S&&(_=h,pI))try{let D=new URL(window.location.href),W=h.startsWith("//")?new URL(D.protocol+h):new URL(h),B=Ws(W.pathname,j);W.origin===D.origin&&B!=null?h=B+W.search+W.hash:N=!0}catch{xn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=nW(h,{relative:i}),[C,R,A]=FW(n,x),E=JW(h,{replace:o,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:p});function $(D){t&&t(D),D.defaultPrevented||E(D)}let I=O.createElement("a",{...x,...A,href:_||k,onClick:N||s?t:$,ref:HW(v,R),target:f,"data-discover":!S&&r==="render"?"true":void 0});return C&&!S?O.createElement(O.Fragment,null,I,O.createElement(UW,{page:k})):I});yI.displayName="Link";var ZW=O.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:c,children:f,...h},m){let p=gp(o,{relative:h.relative}),x=ka(),v=O.useContext(pp),{navigator:j,basename:S}=O.useContext(Na),_=v!=null&&nB(p)&&c===!0,N=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,k=x.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(k=k.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&S&&(C=Ws(C,S)||C);const R=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=k===N||!i&&k.startsWith(N)&&k.charAt(R)==="/",E=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),$={isActive:A,isPending:E,isTransitioning:_},I=A?t:void 0,D;typeof n=="function"?D=n($):D=[n,A?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s($):s;return O.createElement(yI,{...h,"aria-current":I,className:D,ref:m,style:W,to:o,viewTransition:c},typeof f=="function"?f($):f)});ZW.displayName="NavLink";var YW=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=Ag,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:p,...x},v)=>{let j=tB(),S=rB(c,{relative:h}),_=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&gI.test(c),k=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let R=C.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||o;j(R||C.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:p})};return O.createElement("form",{ref:v,method:_,action:S,onSubmit:n?f:k,...x,"data-discover":!N&&e==="render"?"true":void 0})});YW.displayName="Form";function XW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xI(e){let t=O.useContext(Pc);return $t(t,XW(e)),t}function JW(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=Fr(),f=ka(),h=gp(e,{relative:s});return O.useCallback(m=>{if(PW(m,t)){m.preventDefault();let p=r!==void 0?r:pl(f)===pl(h);c(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[f,c,h,r,n,t,e,i,s,o])}function vI(e){xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(cj(e)),r=O.useRef(!1),n=ka(),i=O.useMemo(()=>TW(n.search,r.current?null:t.current),[n.search]),s=Fr(),o=O.useCallback((c,f)=>{const h=cj(typeof c=="function"?c(i):c);r.current=!0,s("?"+h,f)},[s,i]);return[i,o]}var QW=0,eB=()=>`__${String(++QW)}__`;function tB(){let{router:e}=xI("useSubmit"),{basename:t}=O.useContext(Na),r=gW();return O.useCallback(async(n,i={})=>{let{action:s,method:o,encType:c,formData:f,body:h}=AW(n,t);if(i.navigate===!1){let m=i.fetcherKey||eB();await e.fetch(m,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function rB(e,{relative:t}={}){let{basename:r}=O.useContext(Na),n=O.useContext(Vs);$t(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...gp(e||".",{relative:t})},o=ka();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ya([r,s.pathname])),pl(s)}function nB(e,t={}){let r=O.useContext(jS);$t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xI("useViewTransitionState"),i=gp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Ws(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ws(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ug(i.pathname,o)!=null||Ug(i.pathname,s)!=null}new TextEncoder;var iB=JR();const sB=rr(iB);function aB(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const oB=e=>{switch(e){case"success":return uB;case"info":return fB;case"warning":return dB;case"error":return hB;default:return null}},lB=Array(12).fill(0),cB=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},lB.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uB=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dB=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fB=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hB=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pB=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mB=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let uj=1;class gB{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:uj++,o=this.toasts.find(f=>f.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(f=>f.id===s?(this.publish({...f,...t,id:s,title:n}),{...f,...t,id:s,dismissible:c,title:n}):f):this.addToast({title:n,...i,dismissible:c,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,o;const c=i.then(async h=>{if(o=["resolve",h],re.isValidElement(h))s=!1,this.create({id:n,type:"default",message:h});else if(xB(h)&&!h.ok){s=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,j=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...j})}else if(h instanceof Error){s=!1;const p=typeof r.error=="function"?await r.error(h):r.error,x=typeof r.description=="function"?await r.description(h):r.description,j=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...j})}else if(r.success!==void 0){s=!1;const p=typeof r.success=="function"?await r.success(h):r.success,x=typeof r.description=="function"?await r.description(h):r.description,j=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:x,...j})}}).catch(async h=>{if(o=["reject",h],r.error!==void 0){s=!1;const m=typeof r.error=="function"?await r.error(h):r.error,p=typeof r.description=="function"?await r.description(h):r.description,v=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||uj++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const gi=new gB,yB=(e,t)=>{const r=(t==null?void 0:t.id)||uj++;return gi.addToast({title:e,...t,id:r}),r},xB=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",vB=yB,bB=()=>gi.toasts,wB=()=>gi.getActiveToasts(),_f=Object.assign(vB,{success:gi.success,info:gi.info,warning:gi.warning,error:gi.error,custom:gi.custom,message:gi.message,promise:gi.promise,dismiss:gi.dismiss,loading:gi.loading},{getHistory:bB,getToasts:wB});aB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Xm(e){return e.label!==void 0}const _B=3,jB="24px",SB="16px",RT=4e3,NB=356,kB=14,PB=45,TB=200;function ua(...e){return e.filter(Boolean).join(" ")}function EB(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const CB=e=>{var t,r,n,i,s,o,c,f,h;const{invert:m,toast:p,unstyled:x,interacting:v,setHeights:j,visibleToasts:S,heights:_,index:N,toasts:k,expanded:C,removeToast:R,defaultRichColors:A,closeButton:E,style:$,cancelButtonStyle:I,actionButtonStyle:D,className:W="",descriptionClassName:B="",duration:q,position:J,gap:X,expandByDefault:Z,classNames:F,icons:K,closeButtonAriaLabel:U="Close toast"}=e,[ie,se]=re.useState(null),[G,Y]=re.useState(null),[oe,_e]=re.useState(!1),[Ce,Ne]=re.useState(!1),[Be,ye]=re.useState(!1),[ee,xe]=re.useState(!1),[ke,te]=re.useState(!1),[ue,de]=re.useState(0),[Re,Me]=re.useState(0),Ye=re.useRef(p.duration||q||RT),qe=re.useRef(null),he=re.useRef(null),Fe=N===0,Je=N+1<=S,Q=p.type,pe=p.dismissible!==!1,ne=p.className||"",je=p.descriptionClassName||"",Ae=re.useMemo(()=>_.findIndex(bt=>bt.toastId===p.id)||0,[_,p.id]),Pe=re.useMemo(()=>{var bt;return(bt=p.closeButton)!=null?bt:E},[p.closeButton,E]),Le=re.useMemo(()=>p.duration||q||RT,[p.duration,q]),pt=re.useRef(0),Et=re.useRef(0),Nt=re.useRef(0),Ht=re.useRef(null),[wr,dn]=J.split("-"),us=re.useMemo(()=>_.reduce((bt,nr,_r)=>_r>=Ae?bt:bt+nr.height,0),[_,Ae]),ni=mB(),fn=p.invert||m,Vn=Q==="loading";Et.current=re.useMemo(()=>Ae*X+us,[Ae,us]),re.useEffect(()=>{Ye.current=Le},[Le]),re.useEffect(()=>{_e(!0)},[]),re.useEffect(()=>{const bt=he.current;if(bt){const nr=bt.getBoundingClientRect().height;return Me(nr),j(_r=>[{toastId:p.id,height:nr,position:p.position},..._r]),()=>j(_r=>_r.filter(Ur=>Ur.toastId!==p.id))}},[j,p.id]),re.useLayoutEffect(()=>{if(!oe)return;const bt=he.current,nr=bt.style.height;bt.style.height="auto";const _r=bt.getBoundingClientRect().height;bt.style.height=nr,Me(_r),j(Ur=>Ur.find(ge=>ge.toastId===p.id)?Ur.map(ge=>ge.toastId===p.id?{...ge,height:_r}:ge):[{toastId:p.id,height:_r,position:p.position},...Ur])},[oe,p.title,p.description,j,p.id]);const hn=re.useCallback(()=>{Ne(!0),de(Et.current),j(bt=>bt.filter(nr=>nr.toastId!==p.id)),setTimeout(()=>{R(p)},TB)},[p,R,j,Et]);re.useEffect(()=>{if(p.promise&&Q==="loading"||p.duration===1/0||p.type==="loading")return;let bt;return C||v||ni?(()=>{if(Nt.current<pt.current){const Ur=new Date().getTime()-pt.current;Ye.current=Ye.current-Ur}Nt.current=new Date().getTime()})():(()=>{Ye.current!==1/0&&(pt.current=new Date().getTime(),bt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),hn()},Ye.current))})(),()=>clearTimeout(bt)},[C,v,p,Q,ni,hn]),re.useEffect(()=>{p.delete&&hn()},[hn,p.delete]);function Ks(){var bt;if(K!=null&&K.loading){var nr;return re.createElement("div",{className:ua(F==null?void 0:F.loader,p==null||(nr=p.classNames)==null?void 0:nr.loader,"sonner-loader"),"data-visible":Q==="loading"},K.loading)}return re.createElement(cB,{className:ua(F==null?void 0:F.loader,p==null||(bt=p.classNames)==null?void 0:bt.loader),visible:Q==="loading"})}const ii=p.icon||(K==null?void 0:K[Q])||oB(Q);var si,Gs;return re.createElement("li",{tabIndex:0,ref:he,className:ua(W,ne,F==null?void 0:F.toast,p==null||(t=p.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Q],p==null||(r=p.classNames)==null?void 0:r[Q]),"data-sonner-toast":"","data-rich-colors":(si=p.richColors)!=null?si:A,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":oe,"data-promise":!!p.promise,"data-swiped":ke,"data-removed":Ce,"data-visible":Je,"data-y-position":wr,"data-x-position":dn,"data-index":N,"data-front":Fe,"data-swiping":Be,"data-dismissible":pe,"data-type":Q,"data-invert":fn,"data-swipe-out":ee,"data-swipe-direction":G,"data-expanded":!!(C||Z&&oe),style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${Ce?ue:Et.current}px`,"--initial-height":Z?"auto":`${Re}px`,...$,...p.style},onDragEnd:()=>{ye(!1),se(null),Ht.current=null},onPointerDown:bt=>{Vn||!pe||(qe.current=new Date,de(Et.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(ye(!0),Ht.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,nr,_r;if(ee||!pe)return;Ht.current=null;const Ur=Number(((bt=he.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ce=Number(((nr=he.current)==null?void 0:nr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ge=new Date().getTime()-((_r=qe.current)==null?void 0:_r.getTime()),we=ie==="x"?Ur:ce,ze=Math.abs(we)/ge;if(Math.abs(we)>=PB||ze>.11){de(Et.current),p.onDismiss==null||p.onDismiss.call(p,p),Y(ie==="x"?Ur>0?"right":"left":ce>0?"down":"up"),hn(),xe(!0);return}else{var Ze,et;(Ze=he.current)==null||Ze.style.setProperty("--swipe-amount-x","0px"),(et=he.current)==null||et.style.setProperty("--swipe-amount-y","0px")}te(!1),ye(!1),se(null)},onPointerMove:bt=>{var nr,_r,Ur;if(!Ht.current||!pe||((nr=window.getSelection())==null?void 0:nr.toString().length)>0)return;const ge=bt.clientY-Ht.current.y,we=bt.clientX-Ht.current.x;var ze;const Ze=(ze=e.swipeDirections)!=null?ze:EB(J);!ie&&(Math.abs(we)>1||Math.abs(ge)>1)&&se(Math.abs(we)>Math.abs(ge)?"x":"y");let et={x:0,y:0};const at=Oe=>1/(1.5+Math.abs(Oe)/20);if(ie==="y"){if(Ze.includes("top")||Ze.includes("bottom"))if(Ze.includes("top")&&ge<0||Ze.includes("bottom")&&ge>0)et.y=ge;else{const Oe=ge*at(ge);et.y=Math.abs(Oe)<Math.abs(ge)?Oe:ge}}else if(ie==="x"&&(Ze.includes("left")||Ze.includes("right")))if(Ze.includes("left")&&we<0||Ze.includes("right")&&we>0)et.x=we;else{const Oe=we*at(we);et.x=Math.abs(Oe)<Math.abs(we)?Oe:we}(Math.abs(et.x)>0||Math.abs(et.y)>0)&&te(!0),(_r=he.current)==null||_r.style.setProperty("--swipe-amount-x",`${et.x}px`),(Ur=he.current)==null||Ur.style.setProperty("--swipe-amount-y",`${et.y}px`)}},Pe&&!p.jsx&&Q!=="loading"?re.createElement("button",{"aria-label":U,"data-disabled":Vn,"data-close-button":!0,onClick:Vn||!pe?()=>{}:()=>{hn(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ua(F==null?void 0:F.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(Gs=K==null?void 0:K.close)!=null?Gs:pB):null,(Q||p.icon||p.promise)&&p.icon!==null&&((K==null?void 0:K[Q])!==null||p.icon)?re.createElement("div",{"data-icon":"",className:ua(F==null?void 0:F.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ks():null,p.type!=="loading"?ii:null):null,re.createElement("div",{"data-content":"",className:ua(F==null?void 0:F.content,p==null||(s=p.classNames)==null?void 0:s.content)},re.createElement("div",{"data-title":"",className:ua(F==null?void 0:F.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?re.createElement("div",{"data-description":"",className:ua(B,je,F==null?void 0:F.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),re.isValidElement(p.cancel)?p.cancel:p.cancel&&Xm(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:bt=>{Xm(p.cancel)&&pe&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,bt),hn())},className:ua(F==null?void 0:F.cancelButton,p==null||(f=p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,re.isValidElement(p.action)?p.action:p.action&&Xm(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:bt=>{Xm(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,bt),!bt.defaultPrevented&&hn())},className:ua(F==null?void 0:F.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function IT(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function AB(e,t){const r={};return[e,t].forEach((n,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",c=s?SB:jB;function f(h){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=c:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(c)}),r}const OB=re.forwardRef(function(t,r){const{invert:n,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:f,offset:h,mobileOffset:m,theme:p="light",richColors:x,duration:v,style:j,visibleToasts:S=_B,toastOptions:_,dir:N=IT(),gap:k=kB,icons:C,containerAriaLabel:R="Notifications"}=t,[A,E]=re.useState([]),$=re.useMemo(()=>Array.from(new Set([i].concat(A.filter(G=>G.position).map(G=>G.position)))),[A,i]),[I,D]=re.useState([]),[W,B]=re.useState(!1),[q,J]=re.useState(!1),[X,Z]=re.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=re.useRef(null),K=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=re.useRef(null),ie=re.useRef(!1),se=re.useCallback(G=>{E(Y=>{var oe;return(oe=Y.find(_e=>_e.id===G.id))!=null&&oe.delete||gi.dismiss(G.id),Y.filter(({id:_e})=>_e!==G.id)})},[]);return re.useEffect(()=>gi.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{E(Y=>Y.map(oe=>oe.id===G.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{sB.flushSync(()=>{E(Y=>{const oe=Y.findIndex(_e=>_e.id===G.id);return oe!==-1?[...Y.slice(0,oe),{...Y[oe],...G},...Y.slice(oe+1)]:[G,...Y]})})})}),[A]),re.useEffect(()=>{if(p!=="system"){Z(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Y})=>{Z(Y?"dark":"light")})}catch{G.addListener(({matches:oe})=>{try{Z(oe?"dark":"light")}catch(_e){console.error(_e)}})}},[p]),re.useEffect(()=>{A.length<=1&&B(!1)},[A]),re.useEffect(()=>{const G=Y=>{var oe;if(s.every(Ne=>Y[Ne]||Y.code===Ne)){var Ce;B(!0),(Ce=F.current)==null||Ce.focus()}Y.code==="Escape"&&(document.activeElement===F.current||(oe=F.current)!=null&&oe.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),re.useEffect(()=>{if(F.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ie.current=!1)}},[F.current]),re.createElement("section",{ref:r,"aria-label":`${R} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((G,Y)=>{var oe;const[_e,Ce]=G.split("-");return A.length?re.createElement("ol",{key:G,dir:N==="auto"?IT():N,tabIndex:-1,ref:F,className:f,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":_e,"data-lifted":W&&A.length>1&&!o,"data-x-position":Ce,style:{"--front-toast-height":`${((oe=I[0])==null?void 0:oe.height)||0}px`,"--width":`${NB}px`,"--gap":`${k}px`,...j,...AB(h,m)},onBlur:Ne=>{ie.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(ie.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,U.current=Ne.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{q||B(!1)},onDragEnd:()=>B(!1),onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},A.filter(Ne=>!Ne.position&&Y===0||Ne.position===G).map((Ne,Be)=>{var ye,ee;return re.createElement(CB,{key:Ne.id,icons:C,index:Be,toast:Ne,defaultRichColors:x,duration:(ye=_==null?void 0:_.duration)!=null?ye:v,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ee=_==null?void 0:_.closeButton)!=null?ee:c,interacting:q,position:G,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:se,toasts:A.filter(xe=>xe.position==Ne.position),heights:I.filter(xe=>xe.position==Ne.position),setHeights:D,expandByDefault:o,gap:k,expanded:W,swipeDirections:t.swipeDirections})})):null}))});var yp=e=>e.type==="checkbox",cc=e=>e instanceof Date,Qn=e=>e==null;const bI=e=>typeof e=="object";var Wr=e=>!Qn(e)&&!Array.isArray(e)&&bI(e)&&!cc(e),MB=e=>Wr(e)&&e.target?yp(e.target)?e.target.checked:e.target.value:e,RB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IB=(e,t)=>e.has(RB(t)),LB=e=>{const t=e.constructor&&e.constructor.prototype;return Wr(t)&&t.hasOwnProperty("isPrototypeOf")},CS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(CS&&(e instanceof Blob||n))&&(r||Wr(e)))if(t=r?[]:{},!r&&!LB(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Dn(e[i]));else return e;return t}var ux=e=>Array.isArray(e)?e.filter(Boolean):[],Yr=e=>e===void 0,ut=(e,t,r)=>{if(!t||!Wr(e))return r;const n=ux(t.split(/[,[\].]+?/)).reduce((i,s)=>Qn(i)?i:i[s],e);return Yr(n)||n===e?Yr(e[t])?r:e[t]:n},fa=e=>typeof e=="boolean",AS=e=>/^\w*$/.test(e),wI=e=>ux(e.replace(/["|']|\]/g,"").split(/\.|\[/)),yr=(e,t,r)=>{let n=-1;const i=AS(t)?[t]:wI(t),s=i.length,o=s-1;for(;++n<s;){const c=i[n];let f=r;if(n!==o){const h=e[c];f=Wr(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=f,e=e[c]}};const LT={BLUR:"blur",FOCUS_OUT:"focusout"},Ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ga={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};re.createContext(null);var DB=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Ms.all&&(t._proxyFormState[o]=!n||Ms.all),e[o]}});return i},ma=e=>typeof e=="string",$B=(e,t,r,n,i)=>ma(e)?(n&&t.watch.add(e),ut(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),ut(r,s))):(n&&(t.watchAll=!0),r),zB=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Yf=e=>Array.isArray(e)?e:[e],DT=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},dj=e=>Qn(e)||!bI(e);function sl(e,t){if(dj(e)||dj(t))return e===t;if(cc(e)&&cc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(cc(s)&&cc(o)||Wr(s)&&Wr(o)||Array.isArray(s)&&Array.isArray(o)?!sl(s,o):s!==o)return!1}}return!0}var Jn=e=>Wr(e)&&!Object.keys(e).length,OS=e=>e.type==="file",Rs=e=>typeof e=="function",qg=e=>{if(!CS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_I=e=>e.type==="select-multiple",MS=e=>e.type==="radio",WB=e=>MS(e)||yp(e),Tv=e=>qg(e)&&e.isConnected;function BB(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Yr(e)?n++:e[t[n++]];return e}function FB(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yr(e[t]))return!1;return!0}function sn(e,t){const r=Array.isArray(t)?t:AS(t)?[t]:wI(t),n=r.length===1?e:BB(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Wr(n)&&Jn(n)||Array.isArray(n)&&FB(n))&&sn(e,r.slice(0,-1)),e}var jI=e=>{for(const t in e)if(Rs(e[t]))return!0;return!1};function Hg(e,t={}){const r=Array.isArray(e);if(Wr(e)||r)for(const n in e)Array.isArray(e[n])||Wr(e[n])&&!jI(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Hg(e[n],t[n])):Qn(e[n])||(t[n]=!0);return t}function SI(e,t,r){const n=Array.isArray(e);if(Wr(e)||n)for(const i in e)Array.isArray(e[i])||Wr(e[i])&&!jI(e[i])?Yr(t)||dj(r[i])?r[i]=Array.isArray(e[i])?Hg(e[i],[]):{...Hg(e[i])}:SI(e[i],Qn(t)?{}:t[i],r[i]):r[i]=!sl(e[i],t[i]);return r}var jf=(e,t)=>SI(e,t,Hg(t));const $T={value:!1,isValid:!1},zT={value:!0,isValid:!0};var NI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yr(e[0].attributes.value)?Yr(e[0].value)||e[0].value===""?zT:{value:e[0].value,isValid:!0}:zT:$T}return $T},kI=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Yr(e)?e:t?e===""?NaN:e&&+e:r&&ma(e)?new Date(e):n?n(e):e;const WT={isValid:!1,value:null};var PI=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,WT):WT;function BT(e){const t=e.ref;return OS(t)?t.files:MS(t)?PI(e.refs).value:_I(t)?[...t.selectedOptions].map(({value:r})=>r):yp(t)?NI(e.refs).value:kI(Yr(t.value)?e.ref.value:t.value,e)}var UB=(e,t,r,n)=>{const i={};for(const s of e){const o=ut(t,s);o&&yr(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Kg=e=>e instanceof RegExp,Sf=e=>Yr(e)?e:Kg(e)?e.source:Wr(e)?Kg(e.value)?e.value.source:e.value:e,FT=e=>({isOnSubmit:!e||e===Ms.onSubmit,isOnBlur:e===Ms.onBlur,isOnChange:e===Ms.onChange,isOnAll:e===Ms.all,isOnTouch:e===Ms.onTouched});const UT="AsyncFunction";var VB=e=>!!e&&!!e.validate&&!!(Rs(e.validate)&&e.validate.constructor.name===UT||Wr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===UT)),qB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),VT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xf=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=ut(e,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Xf(c,t))break}else if(Wr(c)&&Xf(c,t))break}}};function qT(e,t,r){const n=ut(e,r);if(n||AS(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ut(t,s),c=ut(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};i.pop()}return{name:r}}var HB=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Jn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Ms.all))},KB=(e,t,r)=>!e||!t||e===t||Yf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),GB=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,ZB=(e,t)=>!ux(ut(e,t)).length&&sn(e,t),YB=(e,t,r)=>{const n=Yf(ut(e,r));return yr(n,"root",t[r]),yr(e,r,n),e},Mg=e=>ma(e);function HT(e,t,r="validate"){if(Mg(e)||Array.isArray(e)&&e.every(Mg)||fa(e)&&!e)return{type:r,message:Mg(e)?e:"",ref:t}}var gu=e=>Wr(e)&&!Kg(e)?e:{value:e,message:""},KT=async(e,t,r,n,i,s)=>{const{ref:o,refs:c,required:f,maxLength:h,minLength:m,min:p,max:x,pattern:v,validate:j,name:S,valueAsNumber:_,mount:N}=e._f,k=ut(r,S);if(!N||t.has(S))return{};const C=c?c[0]:o,R=q=>{i&&C.reportValidity&&(C.setCustomValidity(fa(q)?"":q||""),C.reportValidity())},A={},E=MS(o),$=yp(o),I=E||$,D=(_||OS(o))&&Yr(o.value)&&Yr(k)||qg(o)&&o.value===""||k===""||Array.isArray(k)&&!k.length,W=zB.bind(null,S,n,A),B=(q,J,X,Z=Ga.maxLength,F=Ga.minLength)=>{const K=q?J:X;A[S]={type:q?Z:F,message:K,ref:o,...W(q?Z:F,K)}};if(s?!Array.isArray(k)||!k.length:f&&(!I&&(D||Qn(k))||fa(k)&&!k||$&&!NI(c).isValid||E&&!PI(c).isValid)){const{value:q,message:J}=Mg(f)?{value:!!f,message:f}:gu(f);if(q&&(A[S]={type:Ga.required,message:J,ref:C,...W(Ga.required,J)},!n))return R(J),A}if(!D&&(!Qn(p)||!Qn(x))){let q,J;const X=gu(x),Z=gu(p);if(!Qn(k)&&!isNaN(k)){const F=o.valueAsNumber||k&&+k;Qn(X.value)||(q=F>X.value),Qn(Z.value)||(J=F<Z.value)}else{const F=o.valueAsDate||new Date(k),K=se=>new Date(new Date().toDateString()+" "+se),U=o.type=="time",ie=o.type=="week";ma(X.value)&&k&&(q=U?K(k)>K(X.value):ie?k>X.value:F>new Date(X.value)),ma(Z.value)&&k&&(J=U?K(k)<K(Z.value):ie?k<Z.value:F<new Date(Z.value))}if((q||J)&&(B(!!q,X.message,Z.message,Ga.max,Ga.min),!n))return R(A[S].message),A}if((h||m)&&!D&&(ma(k)||s&&Array.isArray(k))){const q=gu(h),J=gu(m),X=!Qn(q.value)&&k.length>+q.value,Z=!Qn(J.value)&&k.length<+J.value;if((X||Z)&&(B(X,q.message,J.message),!n))return R(A[S].message),A}if(v&&!D&&ma(k)){const{value:q,message:J}=gu(v);if(Kg(q)&&!k.match(q)&&(A[S]={type:Ga.pattern,message:J,ref:o,...W(Ga.pattern,J)},!n))return R(J),A}if(j){if(Rs(j)){const q=await j(k,r),J=HT(q,C);if(J&&(A[S]={...J,...W(Ga.validate,J.message)},!n))return R(J.message),A}else if(Wr(j)){let q={};for(const J in j){if(!Jn(q)&&!n)break;const X=HT(await j[J](k,r),C,J);X&&(q={...X,...W(J,X.message)},R(X.message),n&&(A[S]=q))}if(!Jn(q)&&(A[S]={ref:C,...q},!n))return A}}return R(!0),A};const XB={mode:Ms.onSubmit,reValidateMode:Ms.onChange,shouldFocusError:!0};function JB(e={}){let t={...XB,...e},r={submitCount:0,isDirty:!1,isLoading:Rs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=Wr(t.defaultValues)||Wr(t.values)?Dn(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Dn(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const x={array:DT(),state:DT()},v=FT(t.mode),j=FT(t.reValidateMode),S=t.criteriaMode===Ms.all,_=Q=>pe=>{clearTimeout(h),h=setTimeout(Q,pe)},N=async Q=>{if(!t.disabled&&(m.isValid||p.isValid||Q)){const pe=t.resolver?Jn((await D()).errors):await B(n,!0);pe!==r.isValid&&x.state.next({isValid:pe})}},k=(Q,pe)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((Q||Array.from(c.mount)).forEach(ne=>{ne&&(pe?yr(r.validatingFields,ne,pe):sn(r.validatingFields,ne))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Jn(r.validatingFields)}))},C=(Q,pe=[],ne,je,Ae=!0,Pe=!0)=>{if(je&&ne&&!t.disabled){if(o.action=!0,Pe&&Array.isArray(ut(n,Q))){const Le=ne(ut(n,Q),je.argA,je.argB);Ae&&yr(n,Q,Le)}if(Pe&&Array.isArray(ut(r.errors,Q))){const Le=ne(ut(r.errors,Q),je.argA,je.argB);Ae&&yr(r.errors,Q,Le),ZB(r.errors,Q)}if((m.touchedFields||p.touchedFields)&&Pe&&Array.isArray(ut(r.touchedFields,Q))){const Le=ne(ut(r.touchedFields,Q),je.argA,je.argB);Ae&&yr(r.touchedFields,Q,Le)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=jf(i,s)),x.state.next({name:Q,isDirty:J(Q,pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yr(s,Q,pe)},R=(Q,pe)=>{yr(r.errors,Q,pe),x.state.next({errors:r.errors})},A=Q=>{r.errors=Q,x.state.next({errors:r.errors,isValid:!1})},E=(Q,pe,ne,je)=>{const Ae=ut(n,Q);if(Ae){const Pe=ut(s,Q,Yr(ne)?ut(i,Q):ne);Yr(Pe)||je&&je.defaultChecked||pe?yr(s,Q,pe?Pe:BT(Ae._f)):F(Q,Pe),o.mount&&N()}},$=(Q,pe,ne,je,Ae)=>{let Pe=!1,Le=!1;const pt={name:Q};if(!t.disabled){if(!ne||je){(m.isDirty||p.isDirty)&&(Le=r.isDirty,r.isDirty=pt.isDirty=J(),Pe=Le!==pt.isDirty);const Et=sl(ut(i,Q),pe);Le=!!ut(r.dirtyFields,Q),Et?sn(r.dirtyFields,Q):yr(r.dirtyFields,Q,!0),pt.dirtyFields=r.dirtyFields,Pe=Pe||(m.dirtyFields||p.dirtyFields)&&Le!==!Et}if(ne){const Et=ut(r.touchedFields,Q);Et||(yr(r.touchedFields,Q,ne),pt.touchedFields=r.touchedFields,Pe=Pe||(m.touchedFields||p.touchedFields)&&Et!==ne)}Pe&&Ae&&x.state.next(pt)}return Pe?pt:{}},I=(Q,pe,ne,je)=>{const Ae=ut(r.errors,Q),Pe=(m.isValid||p.isValid)&&fa(pe)&&r.isValid!==pe;if(t.delayError&&ne?(f=_(()=>R(Q,ne)),f(t.delayError)):(clearTimeout(h),f=null,ne?yr(r.errors,Q,ne):sn(r.errors,Q)),(ne?!sl(Ae,ne):Ae)||!Jn(je)||Pe){const Le={...je,...Pe&&fa(pe)?{isValid:pe}:{},errors:r.errors,name:Q};r={...r,...Le},x.state.next(Le)}},D=async Q=>{k(Q,!0);const pe=await t.resolver(s,t.context,UB(Q||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return k(Q),pe},W=async Q=>{const{errors:pe}=await D(Q);if(Q)for(const ne of Q){const je=ut(pe,ne);je?yr(r.errors,ne,je):sn(r.errors,ne)}else r.errors=pe;return pe},B=async(Q,pe,ne={valid:!0})=>{for(const je in Q){const Ae=Q[je];if(Ae){const{_f:Pe,...Le}=Ae;if(Pe){const pt=c.array.has(Pe.name),Et=Ae._f&&VB(Ae._f);Et&&m.validatingFields&&k([je],!0);const Nt=await KT(Ae,c.disabled,s,S,t.shouldUseNativeValidation&&!pe,pt);if(Et&&m.validatingFields&&k([je]),Nt[Pe.name]&&(ne.valid=!1,pe))break;!pe&&(ut(Nt,Pe.name)?pt?YB(r.errors,Nt,Pe.name):yr(r.errors,Pe.name,Nt[Pe.name]):sn(r.errors,Pe.name))}!Jn(Le)&&await B(Le,pe,ne)}}return ne.valid},q=()=>{for(const Q of c.unMount){const pe=ut(n,Q);pe&&(pe._f.refs?pe._f.refs.every(ne=>!Tv(ne)):!Tv(pe._f.ref))&&ee(Q)}c.unMount=new Set},J=(Q,pe)=>!t.disabled&&(Q&&pe&&yr(s,Q,pe),!sl(Y(),i)),X=(Q,pe,ne)=>$B(Q,c,{...o.mount?s:Yr(pe)?i:ma(Q)?{[Q]:pe}:pe},ne,pe),Z=Q=>ux(ut(o.mount?s:i,Q,t.shouldUnregister?ut(i,Q,[]):[])),F=(Q,pe,ne={})=>{const je=ut(n,Q);let Ae=pe;if(je){const Pe=je._f;Pe&&(!Pe.disabled&&yr(s,Q,kI(pe,Pe)),Ae=qg(Pe.ref)&&Qn(pe)?"":pe,_I(Pe.ref)?[...Pe.ref.options].forEach(Le=>Le.selected=Ae.includes(Le.value)):Pe.refs?yp(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach(Le=>(!Le.defaultChecked||!Le.disabled)&&(Le.checked=Array.isArray(Ae)?!!Ae.find(pt=>pt===Le.value):Ae===Le.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!Ae):Pe.refs.forEach(Le=>Le.checked=Le.value===Ae):OS(Pe.ref)?Pe.ref.value="":(Pe.ref.value=Ae,Pe.ref.type||x.state.next({name:Q,values:Dn(s)})))}(ne.shouldDirty||ne.shouldTouch)&&$(Q,Ae,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&G(Q)},K=(Q,pe,ne)=>{for(const je in pe){const Ae=pe[je],Pe=`${Q}.${je}`,Le=ut(n,Pe);(c.array.has(Q)||Wr(Ae)||Le&&!Le._f)&&!cc(Ae)?K(Pe,Ae,ne):F(Pe,Ae,ne)}},U=(Q,pe,ne={})=>{const je=ut(n,Q),Ae=c.array.has(Q),Pe=Dn(pe);yr(s,Q,Pe),Ae?(x.array.next({name:Q,values:Dn(s)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&ne.shouldDirty&&x.state.next({name:Q,dirtyFields:jf(i,s),isDirty:J(Q,Pe)})):je&&!je._f&&!Qn(Pe)?K(Q,Pe,ne):F(Q,Pe,ne),VT(Q,c)&&x.state.next({...r}),x.state.next({name:o.mount?Q:void 0,values:Dn(s)})},ie=async Q=>{o.mount=!0;const pe=Q.target;let ne=pe.name,je=!0;const Ae=ut(n,ne),Pe=Le=>{je=Number.isNaN(Le)||cc(Le)&&isNaN(Le.getTime())||sl(Le,ut(s,ne,Le))};if(Ae){let Le,pt;const Et=pe.type?BT(Ae._f):MB(Q),Nt=Q.type===LT.BLUR||Q.type===LT.FOCUS_OUT,Ht=!qB(Ae._f)&&!t.resolver&&!ut(r.errors,ne)&&!Ae._f.deps||GB(Nt,ut(r.touchedFields,ne),r.isSubmitted,j,v),wr=VT(ne,c,Nt);yr(s,ne,Et),Nt?(Ae._f.onBlur&&Ae._f.onBlur(Q),f&&f(0)):Ae._f.onChange&&Ae._f.onChange(Q);const dn=$(ne,Et,Nt),us=!Jn(dn)||wr;if(!Nt&&x.state.next({name:ne,type:Q.type,values:Dn(s)}),Ht)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Nt&&N():Nt||N()),us&&x.state.next({name:ne,...wr?{}:dn});if(!Nt&&wr&&x.state.next({...r}),t.resolver){const{errors:ni}=await D([ne]);if(Pe(Et),je){const fn=qT(r.errors,n,ne),Vn=qT(ni,n,fn.name||ne);Le=Vn.error,ne=Vn.name,pt=Jn(ni)}}else k([ne],!0),Le=(await KT(Ae,c.disabled,s,S,t.shouldUseNativeValidation))[ne],k([ne]),Pe(Et),je&&(Le?pt=!1:(m.isValid||p.isValid)&&(pt=await B(n,!0)));je&&(Ae._f.deps&&G(Ae._f.deps),I(ne,pt,Le,dn))}},se=(Q,pe)=>{if(ut(r.errors,pe)&&Q.focus)return Q.focus(),1},G=async(Q,pe={})=>{let ne,je;const Ae=Yf(Q);if(t.resolver){const Pe=await W(Yr(Q)?Q:Ae);ne=Jn(Pe),je=Q?!Ae.some(Le=>ut(Pe,Le)):ne}else Q?(je=(await Promise.all(Ae.map(async Pe=>{const Le=ut(n,Pe);return await B(Le&&Le._f?{[Pe]:Le}:Le)}))).every(Boolean),!(!je&&!r.isValid)&&N()):je=ne=await B(n);return x.state.next({...!ma(Q)||(m.isValid||p.isValid)&&ne!==r.isValid?{}:{name:Q},...t.resolver||!Q?{isValid:ne}:{},errors:r.errors}),pe.shouldFocus&&!je&&Xf(n,se,Q?Ae:c.mount),je},Y=Q=>{const pe={...o.mount?s:i};return Yr(Q)?pe:ma(Q)?ut(pe,Q):Q.map(ne=>ut(pe,ne))},oe=(Q,pe)=>({invalid:!!ut((pe||r).errors,Q),isDirty:!!ut((pe||r).dirtyFields,Q),error:ut((pe||r).errors,Q),isValidating:!!ut(r.validatingFields,Q),isTouched:!!ut((pe||r).touchedFields,Q)}),_e=Q=>{Q&&Yf(Q).forEach(pe=>sn(r.errors,pe)),x.state.next({errors:Q?r.errors:{}})},Ce=(Q,pe,ne)=>{const je=(ut(n,Q,{_f:{}})._f||{}).ref,Ae=ut(r.errors,Q)||{},{ref:Pe,message:Le,type:pt,...Et}=Ae;yr(r.errors,Q,{...Et,...pe,ref:je}),x.state.next({name:Q,errors:r.errors,isValid:!1}),ne&&ne.shouldFocus&&je&&je.focus&&je.focus()},Ne=(Q,pe)=>Rs(Q)?x.state.subscribe({next:ne=>Q(X(void 0,pe),ne)}):X(Q,pe,!0),Be=Q=>x.state.subscribe({next:pe=>{KB(Q.name,pe.name,Q.exact)&&HB(pe,Q.formState||m,he,Q.reRenderRoot)&&Q.callback({values:{...s},...r,...pe})}}).unsubscribe,ye=Q=>(o.mount=!0,p={...p,...Q.formState},Be({...Q,formState:p})),ee=(Q,pe={})=>{for(const ne of Q?Yf(Q):c.mount)c.mount.delete(ne),c.array.delete(ne),pe.keepValue||(sn(n,ne),sn(s,ne)),!pe.keepError&&sn(r.errors,ne),!pe.keepDirty&&sn(r.dirtyFields,ne),!pe.keepTouched&&sn(r.touchedFields,ne),!pe.keepIsValidating&&sn(r.validatingFields,ne),!t.shouldUnregister&&!pe.keepDefaultValue&&sn(i,ne);x.state.next({values:Dn(s)}),x.state.next({...r,...pe.keepDirty?{isDirty:J()}:{}}),!pe.keepIsValid&&N()},xe=({disabled:Q,name:pe})=>{(fa(Q)&&o.mount||Q||c.disabled.has(pe))&&(Q?c.disabled.add(pe):c.disabled.delete(pe))},ke=(Q,pe={})=>{let ne=ut(n,Q);const je=fa(pe.disabled)||fa(t.disabled);return yr(n,Q,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:Q}},name:Q,mount:!0,...pe}}),c.mount.add(Q),ne?xe({disabled:fa(pe.disabled)?pe.disabled:t.disabled,name:Q}):E(Q,!0,pe.value),{...je?{disabled:pe.disabled||t.disabled}:{},...t.progressive?{required:!!pe.required,min:Sf(pe.min),max:Sf(pe.max),minLength:Sf(pe.minLength),maxLength:Sf(pe.maxLength),pattern:Sf(pe.pattern)}:{},name:Q,onChange:ie,onBlur:ie,ref:Ae=>{if(Ae){ke(Q,pe),ne=ut(n,Q);const Pe=Yr(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,Le=WB(Pe),pt=ne._f.refs||[];if(Le?pt.find(Et=>Et===Pe):Pe===ne._f.ref)return;yr(n,Q,{_f:{...ne._f,...Le?{refs:[...pt.filter(Tv),Pe,...Array.isArray(ut(i,Q))?[{}]:[]],ref:{type:Pe.type,name:Q}}:{ref:Pe}}}),E(Q,!1,void 0,Pe)}else ne=ut(n,Q,{}),ne._f&&(ne._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(IB(c.array,Q)&&o.action)&&c.unMount.add(Q)}}},te=()=>t.shouldFocusError&&Xf(n,se,c.mount),ue=Q=>{fa(Q)&&(x.state.next({disabled:Q}),Xf(n,(pe,ne)=>{const je=ut(n,ne);je&&(pe.disabled=je._f.disabled||Q,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ae=>{Ae.disabled=je._f.disabled||Q}))},0,!1))},de=(Q,pe)=>async ne=>{let je;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let Ae=Dn(s);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:Le}=await D();r.errors=Pe,Ae=Le}else await B(n);if(c.disabled.size)for(const Pe of c.disabled)yr(Ae,Pe,void 0);if(sn(r.errors,"root"),Jn(r.errors)){x.state.next({errors:{}});try{await Q(Ae,ne)}catch(Pe){je=Pe}}else pe&&await pe({...r.errors},ne),te(),setTimeout(te);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jn(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},Re=(Q,pe={})=>{ut(n,Q)&&(Yr(pe.defaultValue)?U(Q,Dn(ut(i,Q))):(U(Q,pe.defaultValue),yr(i,Q,Dn(pe.defaultValue))),pe.keepTouched||sn(r.touchedFields,Q),pe.keepDirty||(sn(r.dirtyFields,Q),r.isDirty=pe.defaultValue?J(Q,Dn(ut(i,Q))):J()),pe.keepError||(sn(r.errors,Q),m.isValid&&N()),x.state.next({...r}))},Me=(Q,pe={})=>{const ne=Q?Dn(Q):i,je=Dn(ne),Ae=Jn(Q),Pe=Ae?i:je;if(pe.keepDefaultValues||(i=ne),!pe.keepValues){if(pe.keepDirtyValues){const Le=new Set([...c.mount,...Object.keys(jf(i,s))]);for(const pt of Array.from(Le))ut(r.dirtyFields,pt)?yr(Pe,pt,ut(s,pt)):U(pt,ut(Pe,pt))}else{if(CS&&Yr(Q))for(const Le of c.mount){const pt=ut(n,Le);if(pt&&pt._f){const Et=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(qg(Et)){const Nt=Et.closest("form");if(Nt){Nt.reset();break}}}}for(const Le of c.mount)U(Le,ut(Pe,Le))}s=Dn(Pe),x.array.next({values:{...Pe}}),x.state.next({values:{...Pe}})}c={mount:pe.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,o.watch=!!t.shouldUnregister,x.state.next({submitCount:pe.keepSubmitCount?r.submitCount:0,isDirty:Ae?!1:pe.keepDirty?r.isDirty:!!(pe.keepDefaultValues&&!sl(Q,i)),isSubmitted:pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ae?{}:pe.keepDirtyValues?pe.keepDefaultValues&&s?jf(i,s):r.dirtyFields:pe.keepDefaultValues&&Q?jf(i,Q):pe.keepDirty?r.dirtyFields:{},touchedFields:pe.keepTouched?r.touchedFields:{},errors:pe.keepErrors?r.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(Q,pe)=>Me(Rs(Q)?Q(s):Q,pe),qe=(Q,pe={})=>{const ne=ut(n,Q),je=ne&&ne._f;if(je){const Ae=je.refs?je.refs[0]:je.ref;Ae.focus&&(Ae.focus(),pe.shouldSelect&&Rs(Ae.select)&&Ae.select())}},he=Q=>{r={...r,...Q}},Je={control:{register:ke,unregister:ee,getFieldState:oe,handleSubmit:de,setError:Ce,_subscribe:Be,_runSchema:D,_getWatch:X,_getDirty:J,_setValid:N,_setFieldArray:C,_setDisabledField:xe,_setErrors:A,_getFieldArray:Z,_reset:Me,_resetDefaultValues:()=>Rs(t.defaultValues)&&t.defaultValues().then(Q=>{Ye(Q,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:ue,_subjects:x,_proxyFormState:m,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(Q){o=Q},get _defaultValues(){return i},get _names(){return c},set _names(Q){c=Q},get _formState(){return r},get _options(){return t},set _options(Q){t={...t,...Q}}},subscribe:ye,trigger:G,register:ke,handleSubmit:de,watch:Ne,setValue:U,getValues:Y,reset:Ye,resetField:Re,clearErrors:_e,unregister:ee,setError:Ce,setFocus:qe,getFieldState:oe};return{...Je,formControl:Je}}function os(e={}){const t=re.useRef(void 0),r=re.useRef(void 0),[n,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:Rs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Rs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:JB(e),formState:n},e.formControl&&e.defaultValues&&!Rs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,re.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),re.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),re.useEffect(()=>{e.values&&!sl(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),re.useEffect(()=>{e.errors&&!Jn(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),re.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=DB(n,s),t.current}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),GT=e=>{const t=eF(e);return t.charAt(0).toUpperCase()+t.slice(1)},TI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},f)=>O.createElement("svg",{ref:f,...tF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TI("lucide",i),...c},[...o.map(([h,m])=>O.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const r=O.forwardRef(({className:n,...i},s)=>O.createElement(rF,{ref:s,iconNode:t,className:TI(`lucide-${QB(GT(e))}`,`lucide-${e}`,n),...i}));return r.displayName=GT(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],EI=$e("archive-restore",nF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],dl=$e("archive",iF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jf=$e("arrow-left",sF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],oF=$e("arrow-right-left",aF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wa=$e("arrow-right",lF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],CI=$e("banknote",cF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],RS=$e("bed-double",uF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZT=$e("bell",dF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hF=$e("book-open",fF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mF=$e("briefcase",pF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],yF=$e("bug",gF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],vF=$e("building-2",xF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Ju=$e("bus",bF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_c=$e("calendar-days",wF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xp=$e("calendar",_F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hh=$e("camera",jF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ro=$e("check",SF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IS=$e("chevron-down",NF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qs=$e("chevron-left",kF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xl=$e("chevron-right",PF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AI=$e("chevron-up",TF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ph=$e("circle-alert",EF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xr=$e("circle-check-big",CF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OI=$e("circle-check",AF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],MF=$e("circle-dot",OF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IF=$e("circle-help",RF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Qf=$e("circle-user",LF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$F=$e("circle-x",DF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Bs=$e("clock",zF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],BF=$e("cloud-off",WF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],UF=$e("cloud",FF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],qF=$e("coins",VF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mh=$e("compass",HF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],GF=$e("construction",KF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],MI=$e("copy",ZF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],RI=$e("dollar-sign",YF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Gg=$e("download",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],II=$e("ellipsis-vertical",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YT=$e("eye-off",QF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_a=$e("eye",eU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],LS=$e("file-spreadsheet",tU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Er=$e("file-text",rU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],kn=$e("folder-open",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DS=$e("funnel",iU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]],aU=$e("grape",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],lU=$e("grip-vertical",oU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],uU=$e("hash",cU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fU=$e("house",dU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],gh=$e("image-plus",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LI=$e("info",pU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],XT=$e("keyboard",mU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yU=$e("layers",gU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$S=$e("layout-dashboard",xU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yh=$e("layout-grid",vU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],fj=$e("layout-list",bU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Zg=$e("lightbulb",wU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=$e("loader-circle",_U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],JT=$e("log-in",jU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],NU=$e("log-out",SU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],hj=$e("mail",kU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qa=$e("map-pin",PU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],EU=$e("menu",TU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],AU=$e("message-square",CU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],QT=$e("microscope",OU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],RU=$e("move-right",MU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zS=$e("music",IU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],DI=$e("navigation",LU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fs=$e("package",DU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],zU=$e("paperclip",$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],$I=$e("party-popper",WU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jc=$e("pen",BU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xh=$e("pencil",FU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Yg=$e("phone",UU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$r=$e("plus",VU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zI=$e("printer",qU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],KU=$e("receipt",HU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ZU=$e("refresh-cw",GU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]],XU=$e("replace",YU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],QU=$e("rotate-ccw",JU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vp=$e("save",eV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],rV=$e("scan-line",tV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ho=$e("search",nV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WI=$e("settings",iV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],aV=$e("share-2",sV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],BI=$e("shield-alert",oV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eE=$e("shield-check",lV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pj=$e("shield",cV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],FI=$e("skip-forward",uV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],WS=$e("sparkles",dV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hV=$e("square-check-big",fV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dx=$e("star",pV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],UI=$e("sticky-note",mV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yV=$e("tag",gV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vV=$e("target",xV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Un=$e("trash-2",bV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],VI=$e("trending-up",wV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pn=$e("triangle-alert",_V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],tE=$e("undo-2",jV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Is=$e("upload",SV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vh=$e("user-plus",NV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PV=$e("user",kV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Pa=$e("users",TV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],fx=$e("utensils-crossed",EV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],AV=$e("wand-sparkles",CV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],MV=$e("wrench",OV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ir=$e("x",RV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],LV=$e("zap",IV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$V=$e("zoom-in",DV),BS="mvmoewcvccgcrpbfgvxg",FS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12bW9ld2N2Y2NnY3JwYmZndnhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2NjY1MTAsImV4cCI6MjA4NzI0MjUxMH0.lhkAZUlBTRptzDycjaAPetDZHMTVJ2WXzCqo_s6VbGc",zV=`https://${BS}.supabase.co/functions/v1/make-server-0045c7fc`;async function ht(e,t){const r=`${zV}${e}`,n=(t==null?void 0:t.method)||"GET";try{const i=await fetch(r,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${FS}`,...t==null?void 0:t.headers}});if(!i.ok){const o=await i.json().catch(()=>({error:`HTTP ${i.status}`}));throw console.error(`API error [${n} ${e}]:`,o),new Error(o.error||`HTTP ${i.status}`)}return(await i.json()).data}catch(i){throw console.error(`API request failed [${n} ${e}]:`,i),i}}const zr={list:()=>ht("/suppliers"),get:e=>ht(`/suppliers/${encodeURIComponent(e)}`),create:e=>ht("/suppliers",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>ht(`/suppliers/${encodeURIComponent(e)}`,{method:"DELETE"}),bulkImport:e=>ht("/suppliers/bulk-import",{method:"POST",body:JSON.stringify({suppliers:e})}),bulkRollback:e=>ht("/suppliers/bulk-rollback",{method:"POST",body:JSON.stringify({supplierIds:e})}),archive:e=>ht(`/suppliers/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify({category:"",categoryColor:"#94a3b8"})})},Ev={list:e=>ht(`/suppliers/${encodeURIComponent(e)}/contacts`),create:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/contacts`,{method:"POST",body:JSON.stringify(t)}),delete:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/contacts/${encodeURIComponent(t)}`,{method:"DELETE"})},Fu={list:e=>ht(`/suppliers/${encodeURIComponent(e)}/products`),create:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/products`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>ht(`/suppliers/${encodeURIComponent(e)}/products/${encodeURIComponent(t)}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/products/${encodeURIComponent(t)}`,{method:"DELETE"}),uploadImage:(e,t,r)=>new Promise(async(n,i)=>{try{const s=new FileReader;s.onload=async()=>{try{const o=s.result,c=await ht(`/suppliers/${encodeURIComponent(e)}/products/${encodeURIComponent(t)}/images`,{method:"POST",body:JSON.stringify({base64:o,fileName:r.name,contentType:r.type})});n(c)}catch(o){i(o)}},s.onerror=()=>i(new Error("Failed to read file")),s.readAsDataURL(r)}catch(s){i(s)}}),deleteImage:(e,t,r)=>ht(`/suppliers/${encodeURIComponent(e)}/products/${encodeURIComponent(t)}/images/${encodeURIComponent(r)}`,{method:"DELETE"})},Uu={list:e=>ht(`/suppliers/${encodeURIComponent(e)}/documents`),create:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/documents`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>ht(`/suppliers/${encodeURIComponent(e)}/documents/${encodeURIComponent(t)}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>ht(`/suppliers/${encodeURIComponent(e)}/documents/${encodeURIComponent(t)}`,{method:"DELETE"})},Ii={list:()=>ht("/projects"),get:e=>ht(`/projects/${encodeURIComponent(e)}`),create:e=>ht("/projects",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>ht(`/projects/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>ht(`/projects/${encodeURIComponent(e)}`,{method:"DELETE"})},Jm={list:()=>ht("/clients"),get:e=>ht(`/clients/${encodeURIComponent(e)}`),create:e=>ht("/clients",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>ht(`/clients/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>ht(`/clients/${encodeURIComponent(e)}`,{method:"DELETE"})},WV={stats:()=>ht("/dashboard/stats")},al={list:e=>ht(`/projects/${encodeURIComponent(e)}/items`),create:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/items`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>ht(`/projects/${encodeURIComponent(e)}/items/${encodeURIComponent(t)}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/items/${encodeURIComponent(t)}`,{method:"DELETE"}),uploadImage:(e,t,r)=>new Promise(async(n,i)=>{try{const s=new FileReader;s.onload=async()=>{try{const o=s.result,c=await ht(`/projects/${encodeURIComponent(e)}/items/${encodeURIComponent(t)}/images`,{method:"POST",body:JSON.stringify({base64:o,fileName:r.name,contentType:r.type})});n(c)}catch(o){i(o)}},s.onerror=()=>i(new Error("Failed to read file")),s.readAsDataURL(r)}catch(s){i(s)}}),deleteImage:(e,t,r)=>ht(`/projects/${encodeURIComponent(e)}/items/${encodeURIComponent(t)}/images/${encodeURIComponent(r)}`,{method:"DELETE"})},BV={list:e=>ht(`/projects/${encodeURIComponent(e)}/timeline`),create:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/timeline`,{method:"POST",body:JSON.stringify(t)}),delete:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/timeline/${encodeURIComponent(t)}`,{method:"DELETE"})},rE={quote:e=>ht(`/public/quote/${encodeURIComponent(e)}`),approve:e=>ht(`/public/quote/${encodeURIComponent(e)}/approve`,{method:"POST"})},Xo={list:()=>ht("/kanban/tasks"),create:e=>ht("/kanban/tasks",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>ht(`/kanban/tasks/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>ht(`/kanban/tasks/${encodeURIComponent(e)}`,{method:"DELETE"}),seed:(e,t)=>ht("/kanban/seed",{method:"POST",body:JSON.stringify({tasks:e,version:t})}),bulkUpdate:e=>ht("/kanban/tasks-bulk",{method:"PUT",body:JSON.stringify({tasks:e})})},Qm={list:e=>ht(`/projects/${encodeURIComponent(e)}/documents`),create:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/documents`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>ht(`/projects/${encodeURIComponent(e)}/documents/${encodeURIComponent(t)}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>ht(`/projects/${encodeURIComponent(e)}/documents/${encodeURIComponent(t)}`,{method:"DELETE"})},eg={list:()=>ht("/calendar"),get:e=>ht(`/calendar/${encodeURIComponent(e)}`),create:e=>ht("/calendar",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>ht(`/calendar/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>ht(`/calendar/${encodeURIComponent(e)}`,{method:"DELETE"})};let tg=null;function FV(){return tg||(tg=ht("/seed",{method:"POST"}).then(e=>{e!=null&&e.skipped?console.log("[TravelPro] Data already seeded"):console.log("[TravelPro] Initial data seeded:",e)}).catch(e=>{console.error("[TravelPro] Seed failed:",e),tg=null})),tg}function UV(){const e=Fr(),[t,r]=O.useState(""),[n,i]=O.useState(!1),[s,o]=O.useState([]),[c,f]=O.useState(!1),h=O.useRef(null),m=O.useRef(null),p=O.useRef();O.useEffect(()=>{const S=_=>{h.current&&!h.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),O.useEffect(()=>{const S=_=>{var N,k;(_.metaKey||_.ctrlKey)&&_.key==="k"&&(_.preventDefault(),(N=m.current)==null||N.focus(),i(!0)),_.key==="Escape"&&(i(!1),(k=m.current)==null||k.blur())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[]);const x=O.useCallback(async S=>{if(!S.trim()){o([]);return}f(!0);try{const[_,N]=await Promise.all([zr.list(),Ii.list()]),k=S.toLowerCase(),C=[];N.forEach(R=>{var A,E,$,I;((A=R.name)!=null&&A.toLowerCase().includes(k)||(E=R.client)!=null&&E.toLowerCase().includes(k)||($=R.company)!=null&&$.toLowerCase().includes(k)||(I=R.id)!=null&&I.toLowerCase().includes(k))&&C.push({id:R.id,type:"project",title:R.name,subtitle:`${R.company}  ${R.participants}   ${R.status}`,icon:"",path:`/projects/${R.id}`})}),_.forEach(R=>{var A,E,$;((A=R.name)!=null&&A.toLowerCase().includes(k)||(E=R.category)!=null&&E.toLowerCase().includes(k)||($=R.region)!=null&&$.toLowerCase().includes(k))&&C.push({id:R.id,type:"supplier",title:R.name,subtitle:`${R.category}  ${R.region}  ${"".repeat(Math.round(R.rating))}`,icon:R.icon,path:`/suppliers/${R.id}`})}),o(C.slice(0,8))}catch(_){console.error("[GlobalSearch] Error:",_)}finally{f(!1)}},[]),v=S=>{r(S),n||i(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>x(S),250)},j=S=>{i(!1),r(""),o([]),e(S.path)};return a.jsxs("div",{ref:h,className:"w-full max-w-[448px] relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ho,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e] pointer-events-none z-10"}),a.jsx("input",{ref:m,type:"text",value:t,onChange:S=>v(S.target.value),onFocus:()=>{t.trim()&&i(!0)},placeholder:" ,   ... (K)",className:"w-full bg-[#f5f3f0] border-0 rounded-lg px-4 py-2 pr-10 text-[14px] text-[#181510] placeholder-[#6b7280] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30",autoComplete:"off"}),t&&a.jsx("button",{onClick:()=>{r(""),o([]),i(!1)},className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#b8a990] hover:text-[#181510]",children:a.jsx(Ir,{size:14})})]}),n&&(t.trim()||c)&&a.jsxs("div",{className:"absolute z-50 top-full mt-2 w-full bg-white border border-[#e7e1da] rounded-xl shadow-2xl overflow-hidden",children:[c&&a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsx(vt,{size:18,className:"animate-spin text-[#ff8c00]"})}),!c&&s.length===0&&t.trim()&&a.jsx("div",{className:"p-4 text-center",children:a.jsxs("p",{className:"text-[13px] text-[#8d785e]",children:['    "',t,'"']})}),!c&&s.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-3 pt-3 pb-1",children:a.jsxs("span",{className:"text-[11px] text-[#b8a990]",style:{fontWeight:600},children:[s.length," "]})}),s.map(S=>a.jsxs("button",{onClick:()=>j(S),className:"w-full flex items-center gap-3 px-4 py-3 text-right hover:bg-[#f5f3f0] transition-colors border-b border-[#f5f3f0] last:border-b-0",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#f5f3f0] flex items-center justify-center text-[16px] shrink-0",children:S.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[#181510] truncate",style:{fontWeight:600},children:S.title}),a.jsx("div",{className:"text-[11px] text-[#8d785e] truncate",children:S.subtitle})]}),a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full shrink-0 ${S.type==="project"?"bg-blue-50 text-blue-600":"bg-purple-50 text-purple-600"}`,style:{fontWeight:600},children:S.type==="project"?"":""})]},`${S.type}-${S.id}`))]})]})]})}function VV(e,t){const r=[];for(const n of e)n.status===" "&&r.push({id:`proj-pricing-${n.id}`,type:"warning",title:" ",message:`"${n.name}"       `,time:"",read:!1,path:`/projects/${n.id}`,icon:"project"}),n.status===""&&r.push({id:`proj-approved-${n.id}`,type:"success",title:" !",message:`"${n.name}"    ${n.company}`,time:"",read:!1,path:`/projects/${n.id}`,icon:"client"}),n.status===" "&&r.push({id:`proj-sent-${n.id}`,type:"info",title:" ",message:`  "${n.name}"     `,time:"",read:!0,path:`/projects/${n.id}`,icon:"project"});for(const n of t)n.verificationStatus==="pending"&&r.push({id:`sup-pending-${n.id}`,type:"alert",title:"  ",message:`${n.name}    . ${n.notes!=="-"?n.notes:""}`,time:"",read:!1,path:`/suppliers/${n.id}`,icon:"supplier"}),n.verificationStatus==="unverified"&&r.push({id:`sup-unverified-${n.id}`,type:"warning",title:"  ",message:`${n.name}  ${n.notes!=="-"?n.notes:" "}`,time:"",read:!0,path:`/suppliers/${n.id}`,icon:"document"});return r}const qV={project:kn,supplier:Pa,document:Er,client:Xr},HV={success:{bg:"bg-green-50",border:"border-green-200",dot:"bg-green-500"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",dot:"bg-yellow-500"},info:{bg:"bg-blue-50",border:"border-blue-200",dot:"bg-blue-500"},alert:{bg:"bg-red-50",border:"border-red-200",dot:"bg-red-500"}};function KV(){const e=Fr(),[t,r]=O.useState(!1),[n,i]=O.useState([]),[s,o]=O.useState(!1),c=O.useRef(null);O.useEffect(()=>{const v=j=>{c.current&&!c.current.contains(j.target)&&r(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const f=async()=>{if(!s)try{const[v,j]=await Promise.all([Ii.list(),zr.list()]);i(VV(v,j)),o(!0)}catch(v){console.error("[Notifications] Failed to load:",v)}},h=()=>{t||f(),r(!t)},m=()=>{i(v=>v.map(j=>({...j,read:!0})))},p=v=>{i(j=>j.map(S=>S.id===v.id?{...S,read:!0}:S)),v.path&&(e(v.path),r(!1))},x=n.filter(v=>!v.read).length;return a.jsxs("div",{ref:c,className:"relative",children:[a.jsxs("button",{onClick:h,className:`relative w-10 h-10 flex items-center justify-center rounded-lg hover:bg-[#f5f3f0] transition-colors ${t?"bg-[#f5f3f0] text-[#ff8c00]":"text-[#181510]"}`,children:[a.jsx(ZT,{size:20}),x>0&&a.jsx("span",{className:"absolute top-1.5 left-1.5 min-w-[18px] h-[18px] bg-[#ef4444] rounded-full border-2 border-white flex items-center justify-center text-[10px] text-white",style:{fontWeight:700},children:x>9?"9+":x})]}),t&&a.jsxs("div",{className:"absolute left-0 top-12 w-96 bg-white rounded-xl border border-[#e7e1da] shadow-2xl z-50 overflow-hidden",dir:"rtl",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#e7e1da] bg-[#fcfbf9]",children:[a.jsx("h3",{className:"text-[15px] text-[#181510]",style:{fontWeight:700},children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[x>0&&a.jsx("button",{onClick:m,className:"text-[11px] text-[#ff8c00]",style:{fontWeight:600},children:"  "}),a.jsx("button",{onClick:()=>r(!1),className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:16})})]})]}),a.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:n.length===0?a.jsxs("div",{className:"py-10 text-center",children:[a.jsx(ZT,{size:28,className:"mx-auto text-[#ddd6cb] mb-2"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  "})]}):n.map(v=>{const j=qV[v.icon],S=HV[v.type];return a.jsxs("button",{onClick:()=>p(v),className:`w-full text-right flex items-start gap-3 px-4 py-3.5 hover:bg-[#f5f3f0] transition-colors border-b border-[#f5f3f0] last:border-b-0 ${v.read?"":"bg-[#fffaf3]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-lg ${S.bg} flex items-center justify-center shrink-0 mt-0.5`,children:a.jsx(j,{size:16,className:`${v.type==="success"?"text-green-600":v.type==="warning"?"text-yellow-600":v.type==="info"?"text-blue-600":"text-red-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[!v.read&&a.jsx("span",{className:`w-2 h-2 rounded-full ${S.dot} shrink-0`}),a.jsx("span",{className:"text-[13px] text-[#181510] truncate",style:{fontWeight:v.read?400:600},children:v.title})]}),a.jsx("p",{className:"text-[12px] text-[#8d785e] mt-0.5 line-clamp-2",children:v.message}),a.jsx("span",{className:"text-[10px] text-[#c4b89a] mt-1 block",children:v.time})]})]},v.id)})})]})]})}const GV={"":{label:"",icon:$S,color:"#ff8c00"},projects:{label:"",icon:kn,color:"#3b82f6"},suppliers:{label:" ",icon:Pa,color:"#8b5cf6"},import:{label:" ",icon:LS,color:"#22c55e"},classify:{label:" ",icon:AV,color:"#ec4899"},scan:{label:" ",icon:rV,color:"#14b8a6"},archive:{label:"",icon:dl,color:"#94a3b8"},settings:{label:"",icon:WI,color:"#6b7280"},calendar:{label:"",icon:xp,color:"#f59e0b"},clients:{label:"",icon:Qf,color:"#06b6d4"},documents:{label:"",icon:Er,color:"#8d785e"},quote:{label:" ",icon:Er,color:"#ff8c00"}},ZV={"4829-24":{label:"   ",icon:kn,color:"#3b82f6"},"4830-24":{label:"  Q1",icon:kn,color:"#3b82f6"},"4831-24":{label:"   ",icon:kn,color:"#8b5cf6"},"4832-24":{label:"  ",icon:kn,color:"#22c55e"},"4833-24":{label:"  ",icon:kn,color:"#eab308"},1:{label:"  ",icon:Ju,color:"#3b82f6"},2:{label:"  ",icon:fx,color:"#22c55e"},3:{label:"  ",icon:kn,color:"#a855f7"},4:{label:"  - ",icon:kn,color:"#ec4899"},5:{label:"  ",icon:aU,color:"#7c3aed"},6:{label:" ",icon:Ju,color:"#0ea5e9"}};function YV(){const e=ka(),t=Fr();if(e.pathname==="/")return null;const r=e.pathname.split("/").filter(Boolean),n=[{label:"",path:"/",icon:$S,color:"#ff8c00"}];let i="";return r.forEach((s,o)=>{i+=`/${s}`;const c=GV[s]||ZV[s];if(c)n.push({label:c.label,path:i,icon:c.icon,color:c.color});else{const f=o>0?r[o-1]:"";f==="suppliers"?n.push({label:" ",path:i,icon:Pa,color:"#8b5cf6"}):f==="projects"?n.push({label:" ",path:i,icon:kn,color:"#3b82f6"}):n.push({label:`#${s}`,path:i,icon:Er,color:"#8d785e"})}}),a.jsx("div",{className:"px-4 lg:px-8 py-4 bg-[#f8f7f5]",children:a.jsx("div",{className:"flex items-center gap-2",children:n.map((s,o)=>{const c=o===n.length-1,f=s.icon;return a.jsxs("div",{className:"flex items-center gap-2",children:[o>0&&a.jsx(qs,{size:18,className:"text-[#c4b89a] mx-0.5"}),c?a.jsxs("span",{className:"inline-flex items-center gap-2.5 px-4 py-2 rounded-xl text-[15px]",style:{backgroundColor:s.color+"12",color:s.color,fontWeight:600},children:[a.jsx("span",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:s.color+"20"},children:a.jsx(f,{size:18})}),s.label]}):a.jsxs("button",{onClick:()=>t(s.path),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl text-[15px] text-[#8d785e] hover:bg-[#ece8e3] transition-all group",children:[a.jsx("span",{className:"w-7 h-7 rounded-lg flex items-center justify-center shrink-0 bg-[#ece8e3] group-hover:bg-[#e0d9ce] transition-colors",children:a.jsx(f,{size:16,className:"text-[#8d785e]"})}),s.label]})]},s.path)})})})}const XV={success:{icon:a.jsx(Xr,{size:28}),bg:"#f0fdf4",iconBg:"#22c55e",iconColor:"#fff",border:"#bbf7d0",textColor:"#15803d",subColor:"#4ade80"},error:{icon:a.jsx($F,{size:28}),bg:"#fef2f2",iconBg:"#ef4444",iconColor:"#fff",border:"#fecaca",textColor:"#b91c1c",subColor:"#f87171"},warning:{icon:a.jsx(Pn,{size:28}),bg:"#fff7ed",iconBg:"#ff8c00",iconColor:"#fff",border:"#fed7aa",textColor:"#9a3412",subColor:"#fb923c"},info:{icon:a.jsx(LI,{size:28}),bg:"#eff6ff",iconBg:"#3b82f6",iconColor:"#fff",border:"#bfdbfe",textColor:"#1d4ed8",subColor:"#60a5fa"},neutral:{icon:a.jsx(WS,{size:28}),bg:"#f8f7f5",iconBg:"#181510",iconColor:"#fff",border:"#e7e1da",textColor:"#181510",subColor:"#8d785e"}};function Nf({variant:e,message:t,description:r}){const n=XV[e];return a.jsxs("div",{className:"flex items-center gap-4 px-5 py-4 rounded-2xl shadow-lg min-w-[380px] font-['Assistant',sans-serif]",style:{background:n.bg,border:`1.5px solid ${n.border}`},dir:"rtl",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 shadow-sm",style:{backgroundColor:n.iconBg,color:n.iconColor},children:n.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[16px] truncate",style:{color:n.textColor,fontWeight:600},children:t}),r&&a.jsx("div",{className:"text-[13px] mt-1 truncate",style:{color:n.subColor},children:r})]})]})}const We={success(e,t){_f.custom(()=>a.jsx(Nf,{variant:"success",message:e,description:t}))},error(e,t){_f.custom(()=>a.jsx(Nf,{variant:"error",message:e,description:t}))},warning(e,t){_f.custom(()=>a.jsx(Nf,{variant:"warning",message:e,description:t}))},info(e,t){_f.custom(()=>a.jsx(Nf,{variant:"info",message:e,description:t}))},neutral(e,t){_f.custom(()=>a.jsx(Nf,{variant:"neutral",message:e,description:t}))}},nE={israeliPhone:/^05\d[-]?\d{7}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/},$n={required:e=>`${e}   `,minLength:(e,t)=>`${e}    ${t} `,maxLength:(e,t)=>`${e}     ${t} `,positiveNumber:e=>`${e}    `,maxNumber:(e,t)=>`${e}     ${t.toLocaleString()}`,israeliPhone:"    (: 05X-XXXXXXX)",email:"   "},Ft={required:e=>({required:$n.required(e)}),requiredMin:(e,t)=>({required:$n.required(e),minLength:{value:t,message:$n.minLength(e,t)}}),positiveInt:e=>({required:$n.required(e),validate:t=>{const r=parseInt(t,10);return isNaN(r)||r<=0?$n.positiveNumber(e):!0}}),optionalPositiveInt:e=>({validate:t=>{if(!t||t==="")return!0;const r=parseInt(t,10);return isNaN(r)||r<=0?$n.positiveNumber(e):!0}}),positivePrice:(e,t=1e7)=>({required:$n.required(e),validate:r=>{const n=parseFloat(r);return isNaN(n)||n<=0?$n.positiveNumber(e):n>t?$n.maxNumber(e,t):!0}}),israeliPhone:(e=!1)=>({...e?{required:$n.required("")}:{},validate:t=>!t||t.trim()===""?e?$n.required(""):!0:nE.israeliPhone.test(t.trim())||$n.israeliPhone}),email:(e=!1)=>({...e?{required:$n.required("")}:{},validate:t=>!t||t.trim()===""?e?$n.required(""):!0:nE.email.test(t.trim())||$n.email})},no="w-full border rounded-lg px-3 py-2.5 text-[14px] focus:outline-none focus:ring-2 transition-all";function JV(e,t){return e?`${no} border-red-400 focus:ring-red-200 focus:border-red-400 bg-red-50/30`:t?`${no} border-green-400 focus:ring-green-200 focus:border-green-400`:`${no} border-[#e7e1da] focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]`}const At=O.forwardRef(function({label:t,error:r,isDirty:n,children:i,className:s,...o},c){return a.jsxs("div",{className:s,children:[a.jsxs("label",{className:"text-[13px] text-[#8d785e] mb-1 flex items-center gap-1",style:{fontWeight:600},children:[t,o.required!==void 0&&o.required!==!1&&a.jsx("span",{className:"text-red-400 text-[11px]",children:"*"})]}),i||a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:c,...o,className:JV(r,n)}),r&&a.jsx(ph,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-red-400"}),!r&&n&&a.jsx(Xr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-green-500"})]}),r&&a.jsxs("p",{className:"text-[12px] text-red-500 mt-1 flex items-center gap-1",style:{fontWeight:500},children:[a.jsx(ph,{size:12}),r.message]})]})}),ao=O.forwardRef(function({label:t,error:r,isDirty:n,children:i,className:s,...o},c){const f=r?`${no} border-red-400 focus:ring-red-200 focus:border-red-400 bg-red-50/30 bg-white`:n?`${no} border-green-400 focus:ring-green-200 focus:border-green-400 bg-white`:`${no} border-[#e7e1da] focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-white`;return a.jsxs("div",{className:s,children:[a.jsx("label",{className:"text-[13px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:t}),a.jsx("select",{ref:c,...o,className:f,children:i}),r&&a.jsxs("p",{className:"text-[12px] text-red-500 mt-1 flex items-center gap-1",style:{fontWeight:500},children:[a.jsx(ph,{size:12}),r.message]})]})}),mj=O.forwardRef(function({label:t,error:r,isDirty:n,className:i,...s},o){const c=r?`${no} border-red-400 focus:ring-red-200 focus:border-red-400 bg-red-50/30 resize-none`:n?`${no} border-green-400 focus:ring-green-200 focus:border-green-400 resize-none`:`${no} border-[#e7e1da] focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] resize-none`;return a.jsxs("div",{className:i,children:[a.jsx("label",{className:"text-[13px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:t}),a.jsx("textarea",{ref:o,...s,className:c}),r&&a.jsxs("p",{className:"text-[12px] text-red-500 mt-1 flex items-center gap-1",style:{fontWeight:500},children:[a.jsx(ph,{size:12}),r.message]})]})});function hx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function QV(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(p){o(p)}}function f(m){try{h(n.throw(m))}catch(p){o(p)}}function h(m){m.done?s(m.value):i(m.value).then(c,f)}h((n=n.apply(e,t||[])).next())})}const e9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class US extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class t9 extends US{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iE extends US{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sE extends US{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gj||(gj={}));class r9{constructor(t,{headers:r={},customFetch:n,region:i=gj.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=e9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return QV(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:c,method:f,body:h,signal:m,timeout:p}=n;let x={},{region:v}=n;v||(v=this.region);const j=new URL(`${this.url}/${r}`);v&&v!=="any"&&(x["x-region"]=v,j.searchParams.set("forceFunctionRegion",v));let S;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(x["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(x["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let _=m;p&&(o=new AbortController,s=setTimeout(()=>o.abort(),p),m?(_=o.signal,m.addEventListener("abort",()=>o.abort())):_=o.signal);const N=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:S,signal:_}).catch(A=>{throw new t9(A)}),k=N.headers.get("x-relay-error");if(k&&k==="true")throw new iE(N);if(!N.ok)throw new sE(N);let C=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return C==="application/json"?R=yield N.json():C==="application/octet-stream"||C==="application/pdf"?R=yield N.blob():C==="text/event-stream"?R=N:C==="multipart/form-data"?R=yield N.formData():R=yield N.text(),{data:R,error:null,response:N}}catch(c){return{data:null,error:c,response:c instanceof sE||c instanceof iE?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var n9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},i9=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,c=null,f=null,h=s.status,m=s.statusText;if(s.ok){var p,x;if(r.method!=="HEAD"){var v;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?c=N:c=JSON.parse(N))}const S=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),_=(x=s.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");S&&_&&_.length>1&&(f=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var j;const S=await s.text();try{o=JSON.parse(S),Array.isArray(o)&&s.status===404&&(c=[],o=null,h=200,m="OK")}catch{s.status===404&&S===""?(h=204,m="No Content"):o={message:S}}if(o&&r.isMaybeSingle&&(!(o==null||(j=o.details)===null||j===void 0)&&j.includes("0 rows"))&&(o=null,h=200,m="OK"),o&&r.shouldThrowOnError)throw new n9(o)}return{error:o,data:c,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let c="",f="",h="";const m=s==null?void 0:s.cause;if(m){var p,x,v,j;const N=(p=m==null?void 0:m.message)!==null&&p!==void 0?p:"",k=(x=m==null?void 0:m.code)!==null&&x!==void 0?x:"";c=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,c+=`

Caused by: ${(j=m==null?void 0:m.name)!==null&&j!==void 0?j:"Error"}: ${N}`,k&&(c+=` (${k})`),m!=null&&m.stack&&(c+=`
${m.stack}`)}else{var S;c=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const _=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((m==null?void 0:m.name)==="HeadersOverflowError"||(m==null?void 0:m.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(f+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:c,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},s9=class extends i9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const aE=new RegExp("[,()]");var Tu=class extends s9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&aE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&aE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},a9=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:c,headers:f}=this.cloneRequestState();return c.searchParams.set("select",o),n&&f.append("Prefer",`count=${n}`),new Tu({method:i,url:c,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Tu({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:c,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",m.join(","))}}return new Tu({method:o,url:c,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Tu({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Tu({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function o9(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l9(e){var t=o9(e,"string");return bh(t)=="symbol"?t:t+""}function c9(e,t,r){return(t=l9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){c9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var u9=class qI{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const c=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const m=new AbortController,p=setTimeout(()=>m.abort(),s),x=h==null?void 0:h.signal;if(x){if(x.aborted)return clearTimeout(p),c(f,h);const v=()=>{clearTimeout(p),m.abort()};return x.addEventListener("abort",v,{once:!0}),c(f,rg(rg({},h),{},{signal:m.signal})).finally(()=>{clearTimeout(p),x.removeEventListener("abort",v)})}return c(f,rg(rg({},h),{},{signal:m.signal})).finally(()=>clearTimeout(p))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new a9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new qI(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let c;const f=new URL(`${this.url}/rpc/${t}`);let h;const m=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(m)),p=n&&Object.values(r).some(m);p?(c="POST",h=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([v,j])=>j!==void 0).map(([v,j])=>[v,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([v,j])=>{f.searchParams.append(v,j)})):(c="POST",h=r);const x=new Headers(this.headers);return p?x.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&x.set("Prefer",`count=${s}`),new Tu({method:c,url:f,headers:x,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class d9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const f9="2.97.0",h9=`realtime-js/${f9}`,p9="1.0.0",HI="2.0.0",lE=HI,yj=1e4,m9=1e3,g9=100;var rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rl||(rl={}));var an;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(an||(an={}));var Es;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Es||(Es={}));var xj;(function(e){e.websocket="websocket"})(xj||(xj={}));var sc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sc||(sc={}));class y9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,s;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+o.length+h.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+x);let j=new DataView(v),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,f.length),j.setUint8(S++,c.length),j.setUint8(S++,o.length),j.setUint8(S++,h.length),j.setUint8(S++,p.length),j.setUint8(S++,r),Array.from(f,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(c,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(o,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(p,N=>j.setUint8(S++,N.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,o,c,f]=n;return r({join_ref:i,ref:s,topic:o,event:c,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+i));f=f+i;const m=n.decode(t.slice(f,f+s));f=f+s;const p=n.decode(t.slice(f,f+o));f=f+o;const x=t.slice(f,t.byteLength),v=c===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,j={type:this.BROADCAST_EVENT,event:m,payload:v};return o>0&&(j.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class KI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fr||(fr={}));const cE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=x9(o,e,t,i),s),{}):{}},x9=(e,t,r,n)=>{const i=t.find(c=>c.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?GI(s,o):vj(o)},GI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _9(t,r)}switch(e){case fr.bool:return v9(t);case fr.float4:case fr.float8:case fr.int2:case fr.int4:case fr.int8:case fr.numeric:case fr.oid:return b9(t);case fr.json:case fr.jsonb:return w9(t);case fr.timestamp:return j9(t);case fr.abstime:case fr.date:case fr.daterange:case fr.int4range:case fr.int8range:case fr.money:case fr.reltime:case fr.text:case fr.time:case fr.timestamptz:case fr.timetz:case fr.tsrange:case fr.tstzrange:return vj(t);default:return vj(t)}},vj=e=>e,v9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>GI(t,c))}return e},j9=e=>typeof e=="string"?e.replace(" ","T"):e,ZI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cv{constructor(t,r,n={},i=yj){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uE||(uE={}));class eh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(f=>{this.state=eh.syncDiff(this.state,f,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=eh.syncDiff(this.state,i,s,o),c())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),c={},f={};return this.map(s,(h,m)=>{o[h]||(f[h]=m)}),this.map(o,(h,m)=>{const p=s[h];if(p){const x=m.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),j=m.filter(_=>v.indexOf(_.presence_ref)<0),S=p.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(c[h]=j),S.length>0&&(f[h]=S)}else c[h]=m}),this.syncDiff(s,{joins:c,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,f)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(f),m.length>0){const p=t[c].map(v=>v.presence_ref),x=m.filter(v=>p.indexOf(v.presence_ref)<0);t[c].unshift(...x)}n(c,m,f)}),this.map(o,(c,f)=>{let h=t[c];if(!h)return;const m=f.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=h,i(c,h,f),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dE||(dE={}));var th;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(th||(th={}));var Xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xa||(Xa={}));class Mu{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cv(this,Es.join,this.params,this.timeout),this.rejoinTimer=new KI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Es.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new eh(this),this.broadcastEndpointURL=ZI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==an.closed){const{config:{broadcast:o,presence:c,private:f}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[th.PRESENCE]&&this.bindings[th.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},x={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Xa.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Xa.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(Xa.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(j=S==null?void 0:S.length)!==null&&j!==void 0?j:0,N=[];for(let k=0;k<_;k++){const C=S[k],{filter:{event:R,schema:A,table:E,filter:$}}=C,I=v&&v[k];if(I&&I.event===R&&Mu.isFilterValueEqual(I.schema,A)&&Mu.isFilterValueEqual(I.table,E)&&Mu.isFilterValueEqual(I.filter,$))N.push(Object.assign(Object.assign({},C),{id:I.id}));else{this.unsubscribe(),this.state=an.errored,t==null||t(Xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Xa.SUBSCRIBED);return}}).receive("error",v=>{this.state=an.errored,t==null||t(Xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===an.joined&&t===th.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const h=await c.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=an.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Es.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Cv(this,Es.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=an.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>g9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:c,error:f,leave:h,join:m}=Es;if(n&&[c,f,h,m].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var j,S,_;return((j=v.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(S=v.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(x,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var j,S,_,N,k,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const R=v.id,A=(j=v.filter)===null||j===void 0?void 0:j.event;return R&&((S=r.ids)===null||S===void 0?void 0:S.includes(R))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const R=(k=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:S,table:_,commit_timestamp:N,type:k,errors:C}=j;x=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:N,eventType:k,new:{},old:{},errors:C}),this._getPayloadRecords(j))}v.callback(x,n)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Mu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Es.close,{},t)}_onError(t){this._on(Es.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cE(t.columns,t.old_record)),r}}const Av=()=>{},ng={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S9=[1e3,2e3,5e3,1e4],N9=1e4,k9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yj,this.transport=null,this.heartbeatIntervalMs=ng.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Av,this.ref=0,this.reconnectTimer=null,this.vsn=lE,this.logger=Av,this.conn=null,this.sendBuffer=[],this.serializer=new y9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xj.websocket}`,this.httpEndpoint=ZI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rl.connecting:return sc.Connecting;case rl.open:return sc.Open;case rl.closing:return sc.Closing;default:return sc.Closed}}isConnected(){return this.connectionState()===sc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Mu(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ng.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,c=o?`(${o})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${c}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===rl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rl.open||this.conn.readyState===rl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Es.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([k9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:h9};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Es.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new KI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ng.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,c,f,h,m,p,x,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yj,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ng.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Av,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:lE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(j=>S9[j-1]||N9),this.vsn){case p9:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:((j,S)=>S(JSON.stringify(j))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((j,S)=>S(JSON.parse(j)));break;case HI:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var wh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T9(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function E9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function C9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const c=T9(e.baseUrl,n,i),f=await E9(e.auth),h=await t(c,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...o},body:s?JSON.stringify(s):void 0}),m=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),x=p&&m?JSON.parse(m):m;if(!h.ok){const v=p?x:void 0,j=v==null?void 0:v.error;throw new wh((j==null?void 0:j.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:v})}return{status:h.status,headers:h.headers,data:x}}}}function ig(e){return e.join("")}var A9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ig(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ig(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ig(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ig(e.namespace)}`}),!0}catch(t){if(t instanceof wh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof wh&&r.status===409)return;throw r}}};function yu(e){return e.join("")}var O9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof wh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof wh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},M9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=C9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new A9(this.client,t),this.tableOps=new O9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},px=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function mx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sg=class extends px{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YI=class extends px{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const R9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),I9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bj=e=>{if(Array.isArray(e))return e.map(r=>bj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=bj(n)}),t},L9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function D9(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $9(e){var t=D9(e,"string");return _h(t)=="symbol"?t:t+""}function z9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const hE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},W9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new sg(hE(o),s,c,n))}).catch(()=>{if(n==="vectors"){const o=s+"";t(new sg(i.statusText||`HTTP ${s} error`,s,o,n))}else{const o=s+"";t(new sg(i.statusText||`HTTP ${s} error`,s,o,n))}});else{const o=s+"";t(new sg(i.statusText||`HTTP ${s} error`,s,o,n))}}else t(new YI(hE(e),e,n))},B9=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?xt(xt({},i),r):(I9(n)?(i.headers=xt({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),xt(xt({},i),r))};async function kf(e,t,r,n,i,s,o){return new Promise((c,f)=>{e(r,B9(t,n,i,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(o==="vectors"){const m=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>W9(h,f,n,o))})}function XI(e="storage"){return{get:async(t,r,n,i)=>kf(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>kf(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>kf(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>kf(t,"HEAD",r,xt(xt({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>kf(t,"DELETE",r,i,s,n,e)}}const F9=XI("storage"),{get:jh,post:Ps,put:wj,head:U9,remove:VS}=F9,Li=XI("vectors");var _d=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=R9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=xt(xt({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mx(r))return{data:null,error:r};throw r}}},V9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mx(t))return{data:null,error:t};throw t}}};let JI;JI=Symbol.toStringTag;var q9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[JI]="BlobDownloadBuilder",this.promise=null}asStream(){return new V9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mx(t))return{data:null,error:t};throw t}}};const H9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K9=class extends _d{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const o=xt(xt({},pE),n);let c=xt(xt({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const f=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),f&&s.append("metadata",i.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),f&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(f))):(s=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,f&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(c=xt(xt({},c),n.headers));const h=i._removeEmptyFolders(t),m=i._getFinalPath(h),p=await(e=="PUT"?wj:Ps)(i.fetch,`${i.url}/object/${m}`,s,xt({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:h,id:p.Id,fullPath:p.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),c=new URL(i.url+`/object/upload/sign/${o}`);return c.searchParams.set("token",t),i.handleOperation(async()=>{let f;const h=xt({upsert:pE.upsert},n),m=xt(xt({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:s,fullPath:(await wj(i.fetch,c.toString(),f,{headers:m})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=xt({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Ps(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),c=o.searchParams.get("token");if(!c)throw new px("No token returned by API");return{signedUrl:o.toString(),path:e,token:c}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ps(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ps(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await Ps(n.fetch,`${n.url}/object/sign/${i}`,xt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Ps(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>xt(xt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),c=()=>jh(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0},r);return new q9(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>bj(await jh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await U9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mx(n)&&n instanceof YI){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await VS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=xt(xt(xt({},H9),t),{},{prefix:e||""});return await Ps(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=xt({},e);return await Ps(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const G9="2.97.0",bp={"X-Client-Info":`storage-js/${G9}`};var Z9=class extends _d{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=xt(xt({},bp),t);super(s,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await jh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await jh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ps(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await wj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ps(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await VS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Y9=class extends _d{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=xt(xt({},bp),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ps(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await jh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await VS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!L9(e))throw new px("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new M9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(i,c),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},X9=class extends _d{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=xt(xt({},bp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Li.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Li.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},J9=class extends _d{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=xt(xt({},bp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Q9=class extends _d{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=xt(xt({},bp),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Li.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},eq=class extends Q9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},tq=class extends X9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new rq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rq=class extends J9{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,xt(xt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},nq=class extends Z9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new K9(this.url,this.headers,e,this.fetch)}get vectors(){return new eq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y9(this.url+"/iceberg",this.headers,this.fetch)}};const QI="2.97.0",Eu=30*1e3,_j=3,Ov=_j*Eu,iq="http://localhost:9999",sq="supabase.auth.token",aq={"X-Client-Info":`gotrue-js/${QI}`},jj="X-Supabase-Api-Version",eL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lq=600*1e3;class Sh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cq extends Sh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uq(e){return ft(e)&&e.name==="AuthApiError"}class ac extends Sh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class po extends Sh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ei extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mv(e){return ft(e)&&e.name==="AuthSessionMissingError"}class xu extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ag extends po{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class og extends po{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dq(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class mE extends po{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fq extends po{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sj extends po{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rv(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class gE extends po{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nj extends po{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yE=` 	
\r=`.split(""),hq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yE.length;t+=1)e[yE[t].charCodeAt(0)]=-2;for(let t=0;t<Xg.length;t+=1)e[Xg[t].charCodeAt(0)]=t;return e})();function xE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xg[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xg[n]),t.queuedBits-=6}}function tL(e,t,r){const n=hq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{gq(o,n,r)};for(let o=0;o<e.length;o+=1)tL(e.charCodeAt(o),i,s);return t.join("")}function pq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}pq(n,t)}}function gq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)tL(e.charCodeAt(i),r,n);return new Uint8Array(t)}function yq(e){const t=[];return mq(e,r=>t.push(r)),new Uint8Array(t)}function uc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>xE(i,r,n)),xE(null,r,n),t.join("")}function xq(e){return Math.round(Date.now()/1e3)+e}function vq(){return Symbol("auth-callback")}const jn=()=>typeof window<"u"&&typeof document<"u",Zl={tested:!1,writable:!1},rL=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zl.tested)return Zl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zl.tested=!0,Zl.writable=!0}catch{Zl.tested=!0,Zl.writable=!1}return Zl.writable};function bq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const nL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_n=async(e,t)=>{await e.removeItem(t)};class gx{constructor(){this.promise=new gx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gx.promiseConstructor=Promise;function lg(e){const t=e.split(".");if(t.length!==3)throw new Nj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oq.test(t[n]))throw new Nj("JWT not in base64url format");return{header:JSON.parse(vE(t[0])),payload:JSON.parse(vE(t[1])),signature:Vu(t[2]),raw:{header:t[0],payload:t[1]}}}async function _q(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jq(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Sq(e){return("0"+e.toString(16)).substr(-2)}function Nq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Sq).join("")}async function kq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Pq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(e,t,r=!1){const n=Nq();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cu(e,`${t}-code-verifier`,i);const s=await Pq(n);return[s,n===s?"plain":"s256"]}const Tq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Eq(e){const t=e.headers.get(jj);if(!t||!t.match(Tq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Cq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Aq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Oq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bu(e){if(!Oq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mq(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function bE(e){return JSON.parse(JSON.stringify(e))}const Ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rq=[502,503,504];async function wE(e){var t;if(!wq(e))throw new Sj(Ql(e),0);if(Rq.includes(e.status))throw new Sj(Ql(e),e.status);let r;try{r=await e.json()}catch(s){throw new ac(Ql(s),s)}let n;const i=Eq(e);if(i&&i.getTime()>=eL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gE(Ql(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ei}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new gE(Ql(r),e.status,r.weak_password.reasons);throw new cq(Ql(r),e.status||500,n)}const Iq=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function _t(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[jj]||(s[jj]=eL["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",f=await Lq(e,t,r+c,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function Lq(e,t,r,n,i,s){const o=Iq(t,n,i,s);let c;try{c=await e(r,Object.assign({},o))}catch(f){throw console.error(f),new Sj(Ql(f),0)}if(c.ok||await wE(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(f){await wE(f)}}function Ns(e){var t;let r=null;zq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _E(e){const t=Ns(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ol(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Dq(e){return{data:e,error:null}}function $q(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=hx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},o);return{data:{properties:c,user:f},error:null}}function jE(e){return e}function zq(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lv=["global","local","others"];class Wq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Lv[0]){if(Lv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lv.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ol})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hx(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$q,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ol})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,c,f;try{const h={nextPage:null,lastPage:0,total:0},m=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:jE});if(m.error)throw m.error;const p=await m.json(),x=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(f=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ft(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){bu(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ol})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bu(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ol})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bu(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ol})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bu(t.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bu(t.userId),bu(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,o,c,f;try{const h={nextPage:null,lastPage:0,total:0},m=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:jE});if(m.error)throw m.error;const p=await m.json(),x=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(f=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return v.length>0&&(v.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);h[`${_}Page`]=S}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(ft(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}}function SE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const wu={debug:!!(globalThis&&rL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NE extends iL{}async function Bq(e,t,r){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new NE(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function Fq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Uq(e){return parseInt(e,16)}function Vq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function qq(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:c,requestId:f,resources:h,scheme:m,uri:p,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=sL(e.address),j=m?`${m}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${j} wants you to sign in with your Ethereum account:
${v}

${S}`;let N=`URI: ${p}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),c&&(N+=`
Not Before: ${c.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let k=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);k+=`
- ${C}`}N+=k}return`${_}
${N}`}class Gr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Jg extends Gr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Hq({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Gr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(aL(o)){if(s.rp.id!==o)return new Gr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Gr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(aL(n)){if(r.rpId!==n)return new Gr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Gq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Zq=new Gq;function Yq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=hx(e,["challenge","user","excludeCredentials"]),s=Vu(t).buffer,o=Object.assign(Object.assign({},r),{id:Vu(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];c.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Vu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Xq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hx(e,["challenge","allowCredentials"]),i=Vu(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Vu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function Jq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uc(new Uint8Array(e.response.attestationObject)),clientDataJSON:uc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uc(new Uint8Array(i.authenticatorData)),clientDataJSON:uc(new Uint8Array(i.clientDataJSON)),signature:uc(new Uint8Array(i.signature)),userHandle:i.userHandle?uc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kE(){var e,t;return!!(jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jg("Browser returned unexpected credential type",t)}:{data:null,error:new Jg("Empty credential response",t)}}catch(t){return{data:null,error:Hq({error:t,options:e})}}}async function tH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jg("Browser returned unexpected credential type",t)}:{data:null,error:new Jg("Empty credential response",t)}}catch(t){return{data:null,error:Kq({error:t,options:e})}}}const rH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qg(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const c=n[s];t(c)?n[s]=Qg(c,o):n[s]=Qg(o)}else n[s]=o}return n}function iH(e,t){return Qg(rH,e,t||{})}function sH(e,t){return Qg(nH,e,t||{})}class aH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var o;try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const h=i??Zq.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;if(!m.name){const p=n;if(p)m.name=`${m.id}:${p}`;else{const v=(await this.client.getUser()).data.user,j=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";m.name=`${m.id}:${j}`}}m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=iH(c.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:x}=await eH({publicKey:m,signal:h});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}case"request":{const m=sH(c.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:x}=await tH(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}}}catch(c){return ft(c)?{data:null,error:c}:{data:null,error:new ac("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Sh("rpId is required for WebAuthn authentication")};try{if(!kE())return{data:null,error:new ac("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:c};const{webauthn:f}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(o){return ft(o)?{data:null,error:o}:{data:null,error:new ac("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Sh("rpId is required for WebAuthn registration")};try{if(!kE())return{data:null,error:new ac("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:f,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:o.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(o){return ft(o)?{data:null,error:o}:{data:null,error:new ac("Unexpected error in register",o)}}}}Fq();const oH={url:iq,storageKey:sq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function PE(e,t,r){return await r()}const _u={};class Nh{get jwks(){var t,r;return(r=(t=_u[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_u[this.storageKey]=Object.assign(Object.assign({},_u[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_u[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_u[this.storageKey]=Object.assign(Object.assign({},_u[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},oH),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Nh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&jn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wq({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=nL(s.fetch),this.lock=s.lock||PE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&jn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Bq:this.lock=PE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:rL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=SE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=SE(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}s.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(jn()&&(r=bq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),jn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),dq(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ft(r)?this._returnResult({error:r}):this._returnResult({error:new ac("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ns}),{data:o,error:c}=s;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const f=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:m,password:p,options:x}=t;let v=null,j=null;this.flowType==="pkce"&&([v,j]=await vu(this.storage,this.storageKey)),s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:j},xform:Ns})}else if("phone"in t){const{phone:m,password:p,options:x}=t;s=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Ns})}else throw new ag("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return await _n(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:c}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_E})}else if("phone"in t){const{phone:s,password:o,options:c}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_E})}else throw new ag("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new xu;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,o,c,f,h,m,p,x;let v,j;if("message"in t)v=t.message,j=t.signature;else{const{chain:S,wallet:_,statement:N,options:k}=t;let C;if(jn())if(typeof _=="object")C=_;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")C=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),A=await C.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=sL(A[0]);let $=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const D=await C.request({method:"eth_chainId"});$=Uq(D)}const I={domain:R.host,address:E,statement:N,uri:R.href,version:"1",chainId:$,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=k==null?void 0:k.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=qq(I),j=await C.request({method:"personal_sign",params:[Vq(v),E]})}try{const{data:S,error:_}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:j},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ns});if(_)throw _;if(!S||!S.session||!S.user){const N=new xu;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(ft(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,i,s,o,c,f,h,m,p,x,v;let j,S;if("message"in t)j=t.message,S=t.signature;else{const{chain:_,wallet:N,statement:k,options:C}=t;let R;if(jn())if(typeof N=="object")R=N;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))R=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=N}const A=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const E=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),k?{statement:k}:null));let $;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")$=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)$=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)j=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${A.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(m=C==null?void 0:C.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const E=await R.signMessage(new TextEncoder().encode(j),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=E}}try{const{data:_,error:N}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:uc(S)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ns});if(N)throw N;if(!_||!_.session||!_.user){const k=new xu;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(ft(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Yl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new fq;const{data:s,error:o}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ns});if(await _n(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const c=new xu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,c=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ns}),{data:f,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new xu;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:c,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await vu(this.storage,this.storageKey));const{error:p}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:f}=t,{data:h,error:m}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new ag("You must provide either an email or phone number.")}catch(c){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ns});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const f=o.session,h=o.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(i){if(ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,o;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await vu(this.storage,this.storageKey));const h=await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:Dq});return!((s=h.data)===null||s===void 0)&&s.url&&jn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ei;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ft(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:c}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new ag("You must provide either an email or phone number and a type")}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ov:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Yl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Iv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Mq(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ol}):await this._useSession(async r=>{var n,i,s;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ol})})}catch(r){if(ft(r))return Mv(r)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ei;const o=i.session;let c=null,f=null;this.flowType==="pkce"&&t.email!=null&&([c,f]=await vu(this.storage,this.storageKey));const{data:h,error:m}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:f}),jwt:o.access_token,xform:ol});if(m)throw m;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ei;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=lg(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(ft(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ei;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ft(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!jn())throw new og("No browser detected.");if(t.error||t.error_description||t.error_code)throw new og(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new og("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mE("No code detected.");const{data:k,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:c,expires_at:f,token_type:h}=t;if(!s||!c||!o||!h)throw new og("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let x=m+p;f&&(x=parseInt(f));const v=x-m;v*1e3<=Eu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const j=x-p;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,m);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const N={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:x,refresh_token:o,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(ft(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!Mv(s))return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(uq(c)&&(c.status===404||c.status===401||c.status===403)||Mv(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=vq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vu(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,c,f,h,m;const{data:p,error:x}=s;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return jn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ft(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:c,token:f,access_token:h,nonce:m}=t,p=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ns}),{data:x,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new xu}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(i){if(await _n(this.storage,`${this.storageKey}-code-verifier`),ft(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jq(async i=>(i>0&&await _q(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ns})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Rv(s)&&Date.now()+o-n<Eu})}catch(n){if(this._debug(r,"error",n),ft(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Yl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Cu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Iv()}else if(i&&!i.user&&!i.user){const o=await Yl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await _n(this.storage,this.storageKey+"-user"),await Cu(this.storage,this.storageKey,i)):i.user=Iv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ov;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ov}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Rv(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gx;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Ei;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),ft(s)){const o={data:null,error:s};return Rv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _n(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=bE(i);await Cu(this.storage,this.storageKey,s)}else{const i=bE(r);await Cu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Eu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Eu}ms, refresh threshold is ${_j} ticks`),i<=_j&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await vu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Jq(t.webauthn.credential_response):Qq(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:f}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Yq(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Xq(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:v}=lg(t);let j=null;v.aal&&(j=v.aal);let S=j;const{data:{user:_},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(S="aal2");const C=v.amr||[];return{data:{currentLevel:j,nextLevel:S,currentAuthenticationMethods:C},error:null}}catch(v){if(ft(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=lg(o.access_token);let h=null;f.aal&&(h=f.aal);let m=h;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const x=f.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await _t(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ei})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ei});const o=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ei});const o=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&jn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await _t(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ei})})}catch(t){if(ft(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await _t(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ei})})}catch(r){if(ft(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+lq>i)return n;const{data:s,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:j}=await this.getSession();if(j||!v.session)return this._returnResult({data:null,error:j});n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:c,payload:f}}=lg(n);r!=null&&r.allowExpired||Cq(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const m=Aq(i.alg),p=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,yq(`${c}.${f}`)))throw new Nj("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(ft(n))return this._returnResult({data:null,error:n});throw n}}}Nh.nextInstanceID={};const lH=Nh,cH="2.97.0";let Ff="";typeof Deno<"u"?Ff="deno":typeof document<"u"?Ff="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ff="react-native":Ff="node";const uH={"X-Client-Info":`supabase-js-${Ff}/${cH}`},dH={headers:uH},fH={schema:"public"},hH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pH={};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function mH(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){var t=mH(e,"string");return kh(t)=="symbol"?t:t+""}function yH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vH=()=>Headers,bH=(e,t,r)=>{const n=xH(r),i=vH();return async(s,o)=>{var c;const f=(c=await t())!==null&&c!==void 0?c:e;let h=new i(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,Or(Or({},o),{},{headers:h}))}};function wH(e){return e.endsWith("/")?e:e+"/"}function _H(e,t){var r,n;const{db:i,auth:s,realtime:o,global:c}=e,{db:f,auth:h,realtime:m,global:p}=t,x={db:Or(Or({},f),i),auth:Or(Or({},h),s),realtime:Or(Or({},m),o),storage:{},global:Or(Or(Or({},p),c),{},{headers:Or(Or({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function jH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SH=class extends lH{constructor(e){super(e)}},NH=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=jH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:fH,realtime:pH,auth:Or(Or({},hH),{},{storageKey:o}),global:dH},f=_H(r??{},c);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=bH(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Or({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new u9(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new nq(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new r9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:c,debug:f,throwOnError:h},m,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SH({url:this.authUrl.href,headers:Or(Or({},x),m),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:c,debug:f,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new P9(this.realtimeUrl.href,Or(Or({},e),{},{params:Or(Or({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kH=(e,t,r)=>new NH(e,t,r);function PH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}PH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TH=`https://${BS}.supabase.co`,cg=kH(TH,FS),oL=O.createContext(null);function EH({children:e}){const[t,r]=O.useState({user:null,session:null,loading:!0,accessToken:null});O.useEffect(()=>{cg.auth.getSession().then(({data:{session:c}})=>{r({user:(c==null?void 0:c.user)??null,session:c,loading:!1,accessToken:(c==null?void 0:c.access_token)??null})});const{data:{subscription:o}}=cg.auth.onAuthStateChange((c,f)=>{r({user:(f==null?void 0:f.user)??null,session:f,loading:!1,accessToken:(f==null?void 0:f.access_token)??null})});return()=>o.unsubscribe()},[]);const n=O.useCallback(async(o,c)=>{const{error:f}=await cg.auth.signInWithPassword({email:o,password:c});return f?(console.error("[Auth] Login error:",f.message),{error:f.message}):{error:null}},[]),i=O.useCallback(async(o,c,f)=>{try{const h=`https://${BS}.supabase.co/functions/v1/make-server-0045c7fc`,m=await fetch(`${h}/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${FS}`},body:JSON.stringify({email:o,password:c,name:f})}),p=await m.json();if(!m.ok||p.error){const v=p.error||`HTTP ${m.status}`;return console.error("[Auth] Signup error:",v),{error:v}}return await n(o,c)}catch(h){return console.error("[Auth] Signup exception:",h),{error:String(h)}}},[n]),s=O.useCallback(async()=>{await cg.auth.signOut()},[]);return a.jsx(oL.Provider,{value:{...t,login:n,signup:i,logout:s},children:e})}function yx(){const e=O.useContext(oL);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}const CH="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" fill="%23ff8c00"/><text x="20" y="26" text-anchor="middle" fill="white" font-size="16" font-family="sans-serif"></text></svg>'),AH="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><rect width="40" height="40" rx="8" fill="%23ff8c00"/><text x="20" y="26" text-anchor="middle" fill="white" font-size="12" font-family="sans-serif"> </text></svg>'),OH=[{path:"/",label:"",icon:$S},{path:"/projects",label:"",icon:kn},{path:"/suppliers",label:" ",icon:Pa},{path:"/clients",label:"",icon:Qf},{path:"/documents",label:"",icon:Er},{path:"/calendar",label:"",icon:xp}],MH=[{path:"/settings",label:"",icon:WI}];function RH(){var A,E;const e=Fr(),t=ka(),[r,n]=vI(),{logout:i,user:s}=yx(),[o,c]=O.useState(!1),[f,h]=O.useState(!1),[m,p]=O.useState(!1),{register:x,handleSubmit:v,formState:{errors:j,dirtyFields:S,isValid:_},reset:N}=os({mode:"onChange",defaultValues:{name:"",client:"",participants:"",region:" "}});if(O.useEffect(()=>{r.get("newProject")==="true"&&(h(!0),n({},{replace:!0}))},[r,n]),t.pathname.startsWith("/quote/")||t.pathname==="/prd")return a.jsx(OT,{});const k=$=>$==="/"?t.pathname==="/":t.pathname.startsWith($),C=async $=>{try{p(!0);const I=await Ii.create({name:$.name.trim(),client:$.client.trim(),company:$.client.trim(),participants:parseInt($.participants)||0,region:$.region});We.success("   !","    "),h(!1),N(),e(`/projects/${I.id}`)}catch(I){console.error("[Layout] Failed to create project:",I),We.error("  ",String(I))}finally{p(!1)}},R=()=>{h(!1),N()};return a.jsxs("div",{dir:"rtl",className:"flex h-screen bg-[#f8f7f5] font-['Assistant',sans-serif]",children:[o&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>c(!1)}),a.jsxs("aside",{className:`
        fixed lg:static inset-y-0 right-0 z-50 w-[256px] bg-white
        transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full lg:translate-x-0"}
        flex flex-col border-l border-[#e7e1da]
      `,children:[a.jsxs("div",{className:"border-b border-[#f5f3f0]",children:[a.jsxs("div",{className:"flex items-center gap-3 px-6 py-6 cursor-pointer",onClick:()=>e("/"),children:[a.jsx("img",{src:AH,alt:"  -  ",className:"w-10 h-10 rounded-lg object-contain shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:"  -  "})]})]}),a.jsx("button",{className:"lg:hidden absolute top-5 left-4 text-[#8d785e]",onClick:()=>c(!1),children:a.jsx(Ir,{size:20})})]}),a.jsxs("nav",{className:"flex-1 py-4 px-4 flex flex-col",children:[a.jsx("div",{className:"space-y-1",children:OH.map($=>{const I=$.icon,D=k($.path);return a.jsxs("button",{onClick:()=>{e($.path),c(!1)},className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[14px] transition-all
                    ${D?"bg-[rgba(255,140,0,0.1)] text-[#ff8c00]":"text-[#181510] hover:bg-[#f5f3f0]"}
                  `,style:{fontWeight:D?600:400},dir:"rtl",children:[a.jsx(I,{size:18}),a.jsx("span",{children:$.label})]},$.path)})}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"border-t border-[#f5f3f0] pt-4",children:MH.map($=>{const I=$.icon,D=k($.path);return a.jsxs("button",{onClick:()=>{e($.path),c(!1)},className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[14px] transition-all
                    ${D?"bg-[rgba(255,140,0,0.1)] text-[#ff8c00]":"text-[#181510] hover:bg-[#f5f3f0]"}
                  `,style:{fontWeight:D?600:400},children:[a.jsx(I,{size:18}),a.jsx("span",{children:$.label})]},$.path)})})]}),a.jsxs("div",{className:"bg-[#fcfbf9] border-t border-[#f5f3f0] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-cover bg-center shrink-0 border-2 border-white shadow-sm",style:{backgroundImage:`url('${CH}')`}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[14px] text-[#181510] truncate",style:{fontWeight:600},children:((A=s==null?void 0:s.user_metadata)==null?void 0:A.name)||((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||""}),a.jsx("div",{className:"text-[12px] text-[#8d785e] truncate",children:(s==null?void 0:s.email)||" "})]}),a.jsx("button",{onClick:i,title:"",className:"w-8 h-8 flex items-center justify-center rounded-lg text-[#8d785e] hover:text-[#ef4444] hover:bg-red-50 transition-colors shrink-0",children:a.jsx(NU,{size:16})})]}),a.jsx("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white py-2.5 rounded-lg shadow-sm transition-all",style:{fontWeight:600},children:a.jsx("span",{className:"text-[16px]",children:"+  "})})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[a.jsxs("header",{className:"h-16 bg-white border-b border-[#e7e1da] flex items-center px-4 lg:px-8 shrink-0 gap-4",children:[a.jsx("button",{className:"lg:hidden text-[#181510] shrink-0",onClick:()=>c(!0),children:a.jsx(EU,{size:22})}),a.jsx("div",{className:"flex-1"}),a.jsx(UV,{}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>e("/prd"),title:" ",className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-[#f5f3f0] transition-colors text-[#181510]",children:a.jsx(IF,{size:20})}),a.jsx(KV,{})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto",children:[a.jsx(YV,{}),a.jsx(OT,{})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-[60] flex items-center justify-center p-4",onClick:R,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",onClick:$=>$.stopPropagation(),dir:"rtl",children:[a.jsx("h2",{className:"text-[22px] text-[#181510] mb-4",style:{fontWeight:700},children:" "}),a.jsxs("form",{onSubmit:v(C),className:"space-y-4",children:[a.jsx(At,{label:" ",placeholder:":    XYZ",required:!0,error:j.name,isDirty:S.name,...x("name",Ft.requiredMin(" ",2))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(At,{label:"",placeholder:" ",required:!0,error:j.client,isDirty:S.client,...x("client",Ft.required(""))}),a.jsx(At,{label:" ",placeholder:"120",type:"number",error:j.participants,isDirty:S.participants,...x("participants",Ft.optionalPositiveInt(" "))})]}),a.jsxs(ao,{label:"",error:j.region,isDirty:S.region,...x("region"),children:[a.jsx("option",{children:" "}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""}),a.jsx("option",{children:""})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:m||!_,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-2.5 rounded-lg transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[m&&a.jsx(vt,{size:16,className:"animate-spin"}),m?"...":" "]}),a.jsx("button",{type:"button",onClick:R,className:"px-6 text-[#181510] hover:bg-[#f5f3f0] py-2.5 rounded-lg transition-colors border border-[#e7e1da]",children:""})]})]})]})})]})}const qS=O.createContext({});function HS(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const lL=typeof window<"u",cL=lL?O.useLayoutEffect:O.useEffect,xx=O.createContext(null);function KS(e,t){e.indexOf(t)===-1&&e.push(t)}function ey(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ja=(e,t,r)=>r>t?t:r<e?e:r;let GS=()=>{};const oo={},uL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dL(e){return typeof e=="object"&&e!==null}const fL=e=>/^0[^.\s]+$/u.test(e);function hL(e){let t;return()=>(t===void 0&&(t=e()),t)}const is=e=>e,IH=(e,t)=>r=>t(e(r)),wp=(...e)=>e.reduce(IH),Ph=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class ZS{constructor(){this.subscriptions=[]}add(t){return KS(this.subscriptions,t),()=>ey(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=e=>e*1e3,rs=e=>e/1e3;function pL(e,t){return t?e*(1e3/t):0}const mL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,LH=1e-7,DH=12;function $H(e,t,r,n,i){let s,o,c=0;do o=t+(r-t)/2,s=mL(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>LH&&++c<DH);return o}function _p(e,t,r,n){if(e===t&&r===n)return is;const i=s=>$H(s,0,1,e,r);return s=>s===0||s===1?s:mL(i(s),t,n)}const gL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yL=e=>t=>1-e(1-t),xL=_p(.33,1.53,.69,.99),YS=yL(xL),vL=gL(YS),bL=e=>(e*=2)<1?.5*YS(e):.5*(2-Math.pow(2,-10*(e-1))),XS=e=>1-Math.sin(Math.acos(e)),wL=yL(XS),_L=gL(XS),zH=_p(.42,0,1,1),WH=_p(0,0,.58,1),jL=_p(.42,0,.58,1),BH=e=>Array.isArray(e)&&typeof e[0]!="number",SL=e=>Array.isArray(e)&&typeof e[0]=="number",FH={linear:is,easeIn:zH,easeInOut:jL,easeOut:WH,circIn:XS,circInOut:_L,circOut:wL,backIn:YS,backInOut:vL,backOut:xL,anticipate:bL},UH=e=>typeof e=="string",EE=e=>{if(SL(e)){GS(e.length===4);const[t,r,n,i]=e;return _p(t,r,n,i)}else if(UH(e))return FH[e];return e},ug=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VH(e,t){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){o.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,p=!1,x=!1)=>{const j=x&&i?r:n;return p&&o.add(m),j.has(m)||j.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(f),r.clear(),i=!1,s&&(s=!1,h.process(m))}};return h}const qH=40;function NL(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=ug.reduce((C,R)=>(C[R]=VH(s),C),{}),{setup:c,read:f,resolveKeyframes:h,preUpdate:m,update:p,preRender:x,render:v,postRender:j}=o,S=()=>{const C=oo.useManualTiming?i.timestamp:performance.now();r=!1,oo.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(C-i.timestamp,qH),1)),i.timestamp=C,i.isProcessing=!0,c.process(i),f.process(i),h.process(i),m.process(i),p.process(i),x.process(i),v.process(i),j.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(S))},_=()=>{r=!0,n=!0,i.isProcessing||e(S)};return{schedule:ug.reduce((C,R)=>{const A=o[R];return C[R]=(E,$=!1,I=!1)=>(r||_(),A.schedule(E,$,I)),C},{}),cancel:C=>{for(let R=0;R<ug.length;R++)o[ug[R]].cancel(C)},state:i,steps:o}}const{schedule:pr,cancel:ml,state:Nn,steps:Dv}=NL(typeof requestAnimationFrame<"u"?requestAnimationFrame:is,!0);let Rg;function HH(){Rg=void 0}const ei={now:()=>(Rg===void 0&&ei.set(Nn.isProcessing||oo.useManualTiming?Nn.timestamp:performance.now()),Rg),set:e=>{Rg=e,queueMicrotask(HH)}},kL=e=>t=>typeof t=="string"&&t.startsWith(e),PL=kL("--"),KH=kL("var(--"),JS=e=>KH(e)?GH.test(e.split("/*")[0].trim()):!1,GH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function CE(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const jd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Th={...jd,transform:e=>ja(0,1,e)},dg={...jd,default:1},rh=e=>Math.round(e*1e5)/1e5,QS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZH(e){return e==null}const YH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eN=(e,t)=>r=>!!(typeof r=="string"&&YH.test(r)&&r.startsWith(e)||t&&!ZH(r)&&Object.prototype.hasOwnProperty.call(r,t)),TL=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,c]=n.match(QS);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},XH=e=>ja(0,255,e),$v={...jd,transform:e=>Math.round(XH(e))},dc={test:eN("rgb","red"),parse:TL("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+$v.transform(e)+", "+$v.transform(t)+", "+$v.transform(r)+", "+rh(Th.transform(n))+")"};function JH(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const kj={test:eN("#"),parse:JH,transform:dc.transform},jp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),el=jp("deg"),xa=jp("%"),lt=jp("px"),QH=jp("vh"),eK=jp("vw"),AE={...xa,parse:e=>xa.parse(e)/100,transform:e=>xa.transform(e*100)},Ru={test:eN("hsl","hue"),parse:TL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+xa.transform(rh(t))+", "+xa.transform(rh(r))+", "+rh(Th.transform(n))+")"},Zr={test:e=>dc.test(e)||kj.test(e)||Ru.test(e),parse:e=>dc.test(e)?dc.parse(e):Ru.test(e)?Ru.parse(e):kj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?dc.transform(e):Ru.transform(e),getAnimatableNone:e=>{const t=Zr.parse(e);return t.alpha=0,Zr.transform(t)}},tK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rK(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(QS))==null?void 0:t.length)||0)+(((r=e.match(tK))==null?void 0:r.length)||0)>0}const EL="number",CL="color",nK="var",iK="var(",OE="${}",sK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eh(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const c=t.replace(sK,f=>(Zr.test(f)?(n.color.push(s),i.push(CL),r.push(Zr.parse(f))):f.startsWith(iK)?(n.var.push(s),i.push(nK),r.push(f)):(n.number.push(s),i.push(EL),r.push(parseFloat(f))),++s,OE)).split(OE);return{values:r,split:c,indexes:n,types:i}}function AL(e){return Eh(e).values}function OL(e){const{split:t,types:r}=Eh(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const c=r[o];c===EL?s+=rh(i[o]):c===CL?s+=Zr.transform(i[o]):s+=i[o]}return s}}const aK=e=>typeof e=="number"?0:Zr.test(e)?Zr.getAnimatableNone(e):e;function oK(e){const t=AL(e);return OL(e)(t.map(aK))}const zs={test:rK,parse:AL,createTransformer:OL,getAnimatableNone:oK};function zv(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function lK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const c=r<.5?r*(1+t):r+t-r*t,f=2*r-c;i=zv(f,c,e+1/3),s=zv(f,c,e),o=zv(f,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function ty(e,t){return r=>r>0?t:e}const Tr=(e,t,r)=>e+(t-e)*r,Wv=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},cK=[kj,dc,Ru],uK=e=>cK.find(t=>t.test(e));function ME(e){const t=uK(e);if(!t)return!1;let r=t.parse(e);return t===Ru&&(r=lK(r)),r}const RE=(e,t)=>{const r=ME(e),n=ME(t);if(!r||!n)return ty(e,t);const i={...r};return s=>(i.red=Wv(r.red,n.red,s),i.green=Wv(r.green,n.green,s),i.blue=Wv(r.blue,n.blue,s),i.alpha=Tr(r.alpha,n.alpha,s),dc.transform(i))},Pj=new Set(["none","hidden"]);function dK(e,t){return Pj.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function fK(e,t){return r=>Tr(e,t,r)}function tN(e){return typeof e=="number"?fK:typeof e=="string"?JS(e)?ty:Zr.test(e)?RE:mK:Array.isArray(e)?ML:typeof e=="object"?Zr.test(e)?RE:hK:ty}function ML(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>tN(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function hK(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=tN(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function pK(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][n[s]],c=e.values[o]??0;r[i]=c,n[s]++}return r}const mK=(e,t)=>{const r=zs.createTransformer(t),n=Eh(e),i=Eh(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Pj.has(e)&&!i.values.length||Pj.has(t)&&!n.values.length?dK(e,t):wp(ML(pK(n,i),i.values),r):ty(e,t)};function RL(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Tr(e,t,r):tN(e)(e,t)}const gK=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>pr.update(t,r),stop:()=>ml(t),now:()=>Nn.isProcessing?Nn.timestamp:ei.now()}},IL=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ry=2e4;function rN(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ry;)t+=r,n=e.next(t);return t>=ry?1/0:t}function yK(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(rN(n),ry);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:rs(i)}}const xK=5;function LL(e,t,r){const n=Math.max(t-xK,0);return pL(r-e(n),t-n)}const Mr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bv=.001;function vK({duration:e=Mr.duration,bounce:t=Mr.bounce,velocity:r=Mr.velocity,mass:n=Mr.mass}){let i,s,o=1-t;o=ja(Mr.minDamping,Mr.maxDamping,o),e=ja(Mr.minDuration,Mr.maxDuration,rs(e)),o<1?(i=h=>{const m=h*o,p=m*e,x=m-r,v=Tj(h,o),j=Math.exp(-p);return Bv-x/v*j},s=h=>{const p=h*o*e,x=p*r+r,v=Math.pow(o,2)*Math.pow(h,2)*e,j=Math.exp(-p),S=Tj(Math.pow(h,2),o);return(-i(h)+Bv>0?-1:1)*((x-v)*j)/S}):(i=h=>{const m=Math.exp(-h*e),p=(h-r)*e+1;return-Bv+m*p},s=h=>{const m=Math.exp(-h*e),p=(r-h)*(e*e);return m*p});const c=5/e,f=wK(i,s,c);if(e=$s(e),isNaN(f))return{stiffness:Mr.stiffness,damping:Mr.damping,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:e}}}const bK=12;function wK(e,t,r){let n=r;for(let i=1;i<bK;i++)n=n-e(n)/t(n);return n}function Tj(e,t){return e*Math.sqrt(1-t*t)}const _K=["duration","bounce"],jK=["stiffness","damping","mass"];function IE(e,t){return t.some(r=>e[r]!==void 0)}function SK(e){let t={velocity:Mr.velocity,stiffness:Mr.stiffness,damping:Mr.damping,mass:Mr.mass,isResolvedFromDuration:!1,...e};if(!IE(e,jK)&&IE(e,_K))if(t.velocity=0,e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*ja(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mr.mass,stiffness:i,damping:s}}else{const r=vK({...e,velocity:0});t={...t,...r,mass:Mr.mass},t.isResolvedFromDuration=!0}return t}function ny(e=Mr.visualDuration,t=Mr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:s},{stiffness:f,damping:h,mass:m,duration:p,velocity:x,isResolvedFromDuration:v}=SK({...r,velocity:-rs(r.velocity||0)}),j=x||0,S=h/(2*Math.sqrt(f*m)),_=o-s,N=rs(Math.sqrt(f/m)),k=Math.abs(_)<5;n||(n=k?Mr.restSpeed.granular:Mr.restSpeed.default),i||(i=k?Mr.restDelta.granular:Mr.restDelta.default);let C;if(S<1){const A=Tj(N,S);C=E=>{const $=Math.exp(-S*N*E);return o-$*((j+S*N*_)/A*Math.sin(A*E)+_*Math.cos(A*E))}}else if(S===1)C=A=>o-Math.exp(-N*A)*(_+(j+N*_)*A);else{const A=N*Math.sqrt(S*S-1);C=E=>{const $=Math.exp(-S*N*E),I=Math.min(A*E,300);return o-$*((j+S*N*_)*Math.sinh(I)+A*_*Math.cosh(I))/A}}const R={calculatedDuration:v&&p||null,next:A=>{const E=C(A);if(v)c.done=A>=p;else{let $=A===0?j:0;S<1&&($=A===0?$s(j):LL(C,A,E));const I=Math.abs($)<=n,D=Math.abs(o-E)<=i;c.done=I&&D}return c.value=c.done?o:E,c},toString:()=>{const A=Math.min(rN(R),ry),E=IL($=>R.next(A*$).value,A,30);return A+"ms "+E},toTransition:()=>{}};return R}ny.applyToOptions=e=>{const t=yK(e,100,ny);return e.ease=t.ease,e.duration=$s(t.duration),e.type="keyframes",e};function Ej({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:f,restDelta:h=.5,restSpeed:m}){const p=e[0],x={done:!1,value:p},v=I=>c!==void 0&&I<c||f!==void 0&&I>f,j=I=>c===void 0?f:f===void 0||Math.abs(c-I)<Math.abs(f-I)?c:f;let S=r*t;const _=p+S,N=o===void 0?_:o(_);N!==_&&(S=N-p);const k=I=>-S*Math.exp(-I/n),C=I=>N+k(I),R=I=>{const D=k(I),W=C(I);x.done=Math.abs(D)<=h,x.value=x.done?N:W};let A,E;const $=I=>{v(x.value)&&(A=I,E=ny({keyframes:[x.value,j(x.value)],velocity:LL(C,I,x.value),damping:i,stiffness:s,restDelta:h,restSpeed:m}))};return $(0),{calculatedDuration:null,next:I=>{let D=!1;return!E&&A===void 0&&(D=!0,R(I),$(I)),A!==void 0&&I>=A?E.next(I-A):(!D&&R(I),x)}}}function NK(e,t,r){const n=[],i=r||oo.mix||RL,s=e.length-1;for(let o=0;o<s;o++){let c=i(e[o],e[o+1]);if(t){const f=Array.isArray(t)?t[o]||is:t;c=wp(f,c)}n.push(c)}return n}function kK(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(GS(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=NK(t,n,i),f=c.length,h=m=>{if(o&&m<e[0])return t[0];let p=0;if(f>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const x=Ph(e[p],e[p+1],m);return c[p](x)};return r?m=>h(ja(e[0],e[s-1],m)):h}function PK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Ph(0,t,n);e.push(Tr(r,1,i))}}function TK(e){const t=[0];return PK(t,e.length-1),t}function EK(e,t){return e.map(r=>r*t)}function CK(e,t){return e.map(()=>t||jL).splice(0,e.length-1)}function nh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=BH(n)?n.map(EE):EE(n),s={done:!1,value:t[0]},o=EK(r&&r.length===t.length?r:TK(t),e),c=kK(o,t,{ease:Array.isArray(i)?i:CK(t,i)});return{calculatedDuration:e,next:f=>(s.value=c(f),s.done=f>=e,s)}}const AK=e=>e!==null;function nN(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(AK),c=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const OK={decay:Ej,inertia:Ej,tween:nh,keyframes:nh,spring:ny};function DL(e){typeof e.type=="string"&&(e.type=OK[e.type])}class iN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const MK=e=>e/100;class sN extends iN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DL(t);const{type:r=nh,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:c}=t;const f=r||nh;f!==nh&&typeof c[0]!="number"&&(this.mixKeyframes=wp(MK,RL(c[0],c[1])),c=[0,100]);const h=f({...t,keyframes:c});s==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=rN(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:p,repeatType:x,repeatDelay:v,type:j,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,R=n;if(p){const I=Math.min(this.currentTime,i)/c;let D=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(x==="reverse"?(W=1-W,v&&(W-=v/c)):x==="mirror"&&(R=o)),C=ja(0,1,W)*c}const A=k?{done:!1,value:m[0]}:R.next(C);s&&(A.value=s(A.value));let{done:E}=A;!k&&f!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return $&&j!==Ej&&(A.value=nN(m,this.options,_,this.speed)),S&&S(A.value),$&&this.finish(),A}then(t,r){return this.finished.then(t,r)}get duration(){return rs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+rs(t)}get time(){return rs(this.currentTime)}set time(t){var r;t=$s(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ei.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=rs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=gK,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function RK(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fc=e=>e*180/Math.PI,Cj=e=>{const t=fc(Math.atan2(e[1],e[0]));return Aj(t)},IK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cj,rotateZ:Cj,skewX:e=>fc(Math.atan(e[1])),skewY:e=>fc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Aj=e=>(e=e%360,e<0&&(e+=360),e),LE=Cj,DE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$E=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),LK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DE,scaleY:$E,scale:e=>(DE(e)+$E(e))/2,rotateX:e=>Aj(fc(Math.atan2(e[6],e[5]))),rotateY:e=>Aj(fc(Math.atan2(-e[2],e[0]))),rotateZ:LE,rotate:LE,skewX:e=>fc(Math.atan(e[4])),skewY:e=>fc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Oj(e){return e.includes("scale")?1:0}function Mj(e,t){if(!e||e==="none")return Oj(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=LK,i=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=IK,i=c}if(!i)return Oj(t);const s=n[t],o=i[1].split(",").map($K);return typeof s=="function"?s(o):o[s]}const DK=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Mj(r,t)};function $K(e){return parseFloat(e.trim())}const Sd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nd=new Set(Sd),zE=e=>e===jd||e===lt,zK=new Set(["x","y","z"]),WK=Sd.filter(e=>!zK.has(e));function BK(e){const t=[];return WK.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ll={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Mj(t,"x"),y:(e,{transform:t})=>Mj(t,"y")};ll.translateX=ll.x;ll.translateY=ll.y;const xc=new Set;let Rj=!1,Ij=!1,Lj=!1;function $L(){if(Ij){const e=Array.from(xc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=BK(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var c;(c=n.getValue(s))==null||c.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ij=!1,Rj=!1,xc.forEach(e=>e.complete(Lj)),xc.clear()}function zL(){xc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ij=!0)})}function FK(){Lj=!0,zL(),$L(),Lj=!1}class aN{constructor(t,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(xc.add(this),Rj||(Rj=!0,pr.read(zL),pr.resolveKeyframes($L))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}RK(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xc.delete(this)}cancel(){this.state==="scheduled"&&(xc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UK=e=>e.startsWith("--");function VK(e,t,r){UK(t)?e.style.setProperty(t,r):e.style[t]=r}const qK={};function WL(e,t){const r=hL(e);return()=>qK[t]??r()}const HK=WL(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),BL=WL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,WE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uf([0,.65,.55,1]),circOut:Uf([.55,0,1,.45]),backIn:Uf([.31,.01,.66,-.59]),backOut:Uf([.33,1.53,.69,.99])};function FL(e,t){if(e)return typeof e=="function"?BL()?IL(e,t):"ease-out":SL(e)?Uf(e):Array.isArray(e)?e.map(r=>FL(r,t)||WE.easeOut):WE[e]}function KK(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:f}={},h=void 0){const m={[t]:r};f&&(m.offset=f);const p=FL(c,i);Array.isArray(p)&&(m.easing=p);const x={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(m,x)}function UL(e){return typeof e=="function"&&"applyToOptions"in e}function GK({type:e,...t}){return UL(e)&&BL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class VL extends iN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:f}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,GS(typeof t.type!="string");const h=GK(t);this.animation=KK(r,n,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=nN(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):VK(r,n,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,n,i;const t=(r=this.options)==null?void 0:r.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(n=this.animation).commitStyles)==null||i.call(n))}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return rs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+rs(t)}get time(){return rs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$s(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&HK()?(this.animation.timeline=t,is):r(this)}}const qL={anticipate:bL,backInOut:vL,circInOut:_L};function ZK(e){return e in qL}function YK(e){typeof e.ease=="string"&&ZK(e.ease)&&(e.ease=qL[e.ease])}const Fv=10;class XK extends VL{constructor(t){YK(t),DL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new sN({...o,autoplay:!1}),f=Math.max(Fv,ei.now()-this.startTime),h=ja(0,Fv,f-Fv);r.setWithVelocity(c.sample(Math.max(0,f-h)).value,c.sample(f).value,h),c.stop()}}const BE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zs.test(e)||e==="0")&&!e.startsWith("url("));function JK(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function QK(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=BE(i,t),c=BE(s,t);return!o||!c?!1:JK(e)||(r==="spring"||UL(r))&&n}function Dj(e){e.duration=0,e.type="keyframes"}const eG=new Set(["opacity","clipPath","filter","transform"]),tG=hL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rG(e){var m;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return tG()&&r&&eG.has(r)&&(r!=="transform"||!h)&&!f&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const nG=40;class iG extends iN{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:f,motionValue:h,element:m,...p}){var j;super(),this.stop=()=>{var S,_;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=ei.now();const x={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:f,motionValue:h,element:m,...p},v=(m==null?void 0:m.KeyframeResolver)||aN;this.keyframeResolver=new v(c,(S,_,N)=>this.onKeyframesResolved(S,_,x,!N),f,h,m),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,r,n,i){var _,N;this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:f,isHandoff:h,onUpdate:m}=n;this.resolvedAt=ei.now(),QK(t,s,o,c)||((oo.instantAnimations||!f)&&(m==null||m(nN(t,n,r))),t[0]=t[t.length-1],Dj(n),n.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>nG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!h&&rG(x),j=(N=(_=x.motionValue)==null?void 0:_.owner)==null?void 0:N.current,S=v?new XK({...x,element:j}):new sN(x);S.finished.then(()=>{this.notifyFinished()}).catch(is),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function HL(e,t,r,n=0,i=1){const s=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),o=e.size,c=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:c-s*n}const sG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aG(e){const t=sG.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function KL(e,t,r=1){const[n,i]=aG(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return uL(o)?parseFloat(o):o}return JS(i)?KL(i,t,r+1):i}const oG={type:"spring",stiffness:500,damping:25,restSpeed:10},lG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cG={type:"keyframes",duration:.8},uG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dG=(e,{keyframes:t})=>t.length>2?cG:Nd.has(e)?e.startsWith("scale")?lG(t[1]):oG:uG,fG=e=>e!==null;function hG(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(fG),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[s]}function GL(e,t){if(e!=null&&e.inherit&&t){const{inherit:r,...n}=e;return{...t,...n}}return e}function oN(e,t){const r=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return r!==e?GL(r,e):r}function pG({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const lN=(e,t,r,n={},i,s)=>o=>{const c=oN(n,e)||{},f=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-$s(f);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:s?void 0:i};pG(c)||Object.assign(m,dG(e,m)),m.duration&&(m.duration=$s(m.duration)),m.repeatDelay&&(m.repeatDelay=$s(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Dj(m),m.delay===0&&(p=!0)),(oo.instantAnimations||oo.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,Dj(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,p&&!s&&t.get()!==void 0){const x=hG(m.keyframes,c);if(x!==void 0){pr.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new sN(m):new iG(m)};function FE(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function cN(e,t,r,n){if(typeof t=="function"){const[i,s]=FE(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=FE(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function qu(e,t,r){const n=e.getProps();return cN(n,t,r!==void 0?r:n.custom,e)}const ZL=new Set(["width","height","top","left","right","bottom",...Sd]),UE=30,mG=e=>!isNaN(parseFloat(e));class gG{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ei.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ei.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ZS);const n=this.events[t].add(r);return t==="change"?()=>{n(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,UE);return pL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qu(e,t){return new gG(e,t)}const $j=e=>Array.isArray(e);function yG(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qu(r))}function xG(e){return $j(e)?e[e.length-1]||0:e}function vG(e,t){const r=qu(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const c=xG(s[o]);yG(e,o,c)}}const Bn=e=>!!(e&&e.getVelocity);function bG(e){return!!(Bn(e)&&e.add)}function zj(e,t){const r=e.getValue("willChange");if(bG(r))return r.add(t);if(!r&&oo.WillChange){const n=new oo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function uN(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const wG="framerAppearId",YL="data-"+uN(wG);function XL(e){return e.props[YL]}function _G({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function JL(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s,transitionEnd:o,...c}=t;const f=e.getDefaultTransition();s=s?GL(s,f):f;const h=s==null?void 0:s.reduceMotion;n&&(s=n);const m=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const x in c){const v=e.getValue(x,e.latestValues[x]??null),j=c[x];if(j===void 0||p&&_G(p,x))continue;const S={delay:r,...oN(s||{},x)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(j)&&j===_&&!S.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const R=XL(e);if(R){const A=window.MotionHandoffAnimation(R,x,pr);A!==null&&(S.startTime=A,N=!0)}}zj(e,x);const k=h??e.shouldReduceMotion;v.start(lN(x,v,j,k&&ZL.has(x)?{type:!1}:S,e,N));const C=v.animation;C&&m.push(C)}if(o){const x=()=>pr.update(()=>{o&&vG(e,o)});m.length?Promise.all(m).then(x):x()}return m}function Wj(e,t,r={}){var f;const n=qu(e,t,r.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(JL(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:x}=i;return jG(e,t,h,m,p,x,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,m]=c==="beforeChildren"?[s,o]:[o,s];return h().then(()=>m())}else return Promise.all([s(),o(r.delay)])}function jG(e,t,r=0,n=0,i=0,s=1,o){const c=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),c.push(Wj(f,t,{...o,delay:r+(typeof n=="function"?0:n)+HL(e.variantChildren,f,n,i,s)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(c)}function SG(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Wj(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Wj(e,t,r);else{const i=typeof t=="function"?qu(e,t,r.custom):t;n=Promise.all(JL(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const NG={test:e=>e==="auto",parse:e=>e},QL=e=>t=>t.test(e),e4=[jd,lt,xa,el,eK,QH,NG],VE=e=>e4.find(QL(e));function kG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fL(e):!0}const PG=new Set(["brightness","contrast","saturate","opacity"]);function TG(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(QS)||[];if(!n)return e;const i=r.replace(n,"");let s=PG.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const EG=/\b([a-z-]*)\(.*?\)/gu,Bj={...zs,getAnimatableNone:e=>{const t=e.match(EG);return t?t.map(TG).join(" "):e}},Fj={...zs,getAnimatableNone:e=>{const t=zs.parse(e);return zs.createTransformer(e)(t.map(n=>typeof n=="number"?0:typeof n=="object"?{...n,alpha:1}:n))}},qE={...jd,transform:Math.round},CG={rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:dg,scaleX:dg,scaleY:dg,scaleZ:dg,skew:el,skewX:el,skewY:el,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Th,originX:AE,originY:AE,originZ:lt},dN={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,inset:lt,insetBlock:lt,insetBlockStart:lt,insetBlockEnd:lt,insetInline:lt,insetInlineStart:lt,insetInlineEnd:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,paddingBlock:lt,paddingBlockStart:lt,paddingBlockEnd:lt,paddingInline:lt,paddingInlineStart:lt,paddingInlineEnd:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,marginBlock:lt,marginBlockStart:lt,marginBlockEnd:lt,marginInline:lt,marginInlineStart:lt,marginInlineEnd:lt,fontSize:lt,backgroundPositionX:lt,backgroundPositionY:lt,...CG,zIndex:qE,fillOpacity:Th,strokeOpacity:Th,numOctaves:qE},AG={...dN,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:Bj,WebkitFilter:Bj,mask:Fj,WebkitMask:Fj},t4=e=>AG[e],OG=new Set([Bj,Fj]);function r4(e,t){let r=t4(e);return OG.has(r)||(r=zs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const MG=new Set(["auto","none","0"]);function RG(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!MG.has(s)&&Eh(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=r4(r,i)}class IG extends aN{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),JS(p))){const x=KL(p,r.current);x!==void 0&&(t[m]=x),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!ZL.has(n)||t.length!==2)return;const[i,s]=t,o=VE(i),c=VE(s),f=CE(i),h=CE(s);if(f!==h&&ll[n]){this.needsMeasurement=!0;return}if(o!==c)if(zE(o)&&zE(c))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ll[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||kG(t[i]))&&n.push(i);n.length&&RG(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ll[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var c;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=ll[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const LG=new Set(["opacity","clipPath","filter","transform"]);function n4(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(n=>n!=null)}const i4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Uj(e){return dL(e)&&"offsetHeight"in e}const{schedule:fN}=NL(queueMicrotask,!1),ks={x:!1,y:!1};function s4(){return ks.x||ks.y}function DG(e){return e==="x"||e==="y"?ks[e]?null:(ks[e]=!0,()=>{ks[e]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function a4(e,t){const r=n4(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function $G(e){return!(e.pointerType==="touch"||s4())}function zG(e,t,r={}){const[n,i,s]=a4(e,r);return n.forEach(o=>{let c=!1,f=!1,h;const m=()=>{o.removeEventListener("pointerleave",j)},p=_=>{h&&(h(_),h=void 0),m()},x=_=>{c=!1,window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",x),f&&(f=!1,p(_))},v=()=>{c=!0,window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",x,i)},j=_=>{if(_.pointerType!=="touch"){if(c){f=!0;return}p(_)}},S=_=>{if(!$G(_))return;f=!1;const N=t(o,_);typeof N=="function"&&(h=N,o.addEventListener("pointerleave",j,i))};o.addEventListener("pointerenter",S,i),o.addEventListener("pointerdown",v,i)}),s}const o4=(e,t)=>t?e===t?!0:o4(e,t.parentElement):!1,hN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,WG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BG(e){return WG.has(e.tagName)||e.isContentEditable===!0}const FG=new Set(["INPUT","SELECT","TEXTAREA"]);function UG(e){return FG.has(e.tagName)||e.isContentEditable===!0}const Ig=new WeakSet;function HE(e){return t=>{t.key==="Enter"&&e(t)}}function Uv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const VG=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=HE(()=>{if(Ig.has(r))return;Uv(r,"down");const i=HE(()=>{Uv(r,"up")}),s=()=>Uv(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function KE(e){return hN(e)&&!s4()}const GE=new WeakSet;function qG(e,t,r={}){const[n,i,s]=a4(e,r),o=c=>{const f=c.currentTarget;if(!KE(c)||GE.has(c))return;Ig.add(f),r.stopPropagation&&GE.add(c);const h=t(f,c),m=(v,j)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),Ig.has(f)&&Ig.delete(f),KE(v)&&typeof h=="function"&&h(v,{success:j})},p=v=>{m(v,f===window||f===document||r.useGlobalTarget||o4(f,v.target))},x=v=>{m(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",x,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),Uj(c)&&(c.addEventListener("focus",h=>VG(h,i)),!BG(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function pN(e){return dL(e)&&"ownerSVGElement"in e}const Lg=new WeakMap;let tl;const l4=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:pN(n)&&"getBBox"in n?n.getBBox()[t]:n[r],HG=l4("inline","width","offsetWidth"),KG=l4("block","height","offsetHeight");function GG({target:e,borderBoxSize:t}){var r;(r=Lg.get(e))==null||r.forEach(n=>{n(e,{get width(){return HG(e,t)},get height(){return KG(e,t)}})})}function ZG(e){e.forEach(GG)}function YG(){typeof ResizeObserver>"u"||(tl=new ResizeObserver(ZG))}function XG(e,t){tl||YG();const r=n4(e);return r.forEach(n=>{let i=Lg.get(n);i||(i=new Set,Lg.set(n,i)),i.add(t),tl==null||tl.observe(n)}),()=>{r.forEach(n=>{const i=Lg.get(n);i==null||i.delete(t),i!=null&&i.size||tl==null||tl.unobserve(n)})}}const Dg=new Set;let Iu;function JG(){Iu=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Dg.forEach(t=>t(e))},window.addEventListener("resize",Iu)}function QG(e){return Dg.add(e),Iu||JG(),()=>{Dg.delete(e),!Dg.size&&typeof Iu=="function"&&(window.removeEventListener("resize",Iu),Iu=void 0)}}function ZE(e,t){return typeof e=="function"?QG(e):XG(e,t)}function eZ(e){return pN(e)&&e.tagName==="svg"}const tZ=[...e4,Zr,zs],rZ=e=>tZ.find(QL(e)),YE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lu=()=>({x:YE(),y:YE()}),XE=()=>({min:0,max:0}),on=()=>({x:XE(),y:XE()}),nZ=new WeakMap;function vx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ch(e){return typeof e=="string"||Array.isArray(e)}const mN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gN=["initial",...mN];function bx(e){return vx(e.animate)||gN.some(t=>Ch(e[t]))}function c4(e){return!!(bx(e)||e.variants)}function iZ(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Bn(i))e.addValue(n,i);else if(Bn(s))e.addValue(n,Qu(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Qu(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Vj={current:null},u4={current:!1},sZ=typeof window<"u";function aZ(){if(u4.current=!0,!!sZ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vj.current=e.matches;e.addEventListener("change",t),t()}else Vj.current=!1}const JE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let iy={};function d4(e){iy=e}function oZ(){return iy}class lZ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:o,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=aN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ei.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,pr.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=bx(r),this.isVariantNode=c4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in x){const j=x[v];h[v]!==void 0&&Bn(j)&&j.set(h[v])}}mount(t){var r,n;if(this.hasBeenMounted)for(const i in this.initialValues)(r=this.values.get(i))==null||r.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,nZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(u4.current||aZ(),this.shouldReduceMotion=Vj.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),ml(this.notifyUpdate),ml(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&LG.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:c,times:f,ease:h,duration:m}=r.accelerate,p=new VL({element:this.current,name:t,keyframes:c,times:f,ease:h,duration:$s(m)}),x=o(p);this.valueSubscriptions.set(t,()=>{x(),p.cancel()});return}const n=Nd.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&pr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in iy){const r=iy[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<JE.length;n++){const i=JE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=iZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Qu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(uL(n)||fL(n))?n=parseFloat(n):!rZ(n)&&zs.test(r)&&(n=r4(t,r)),this.setBaseTarget(t,Bn(n)?n.get():n)),Bn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=cN(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Bn(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ZS),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){fN.render(this.render)}}class f4 extends lZ{constructor(){super(...arguments),this.KeyframeResolver=IG}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class vl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function h4({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function cZ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uZ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vv(e){return e===void 0||e===1}function qj({scale:e,scaleX:t,scaleY:r}){return!Vv(e)||!Vv(t)||!Vv(r)}function ec(e){return qj(e)||p4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function p4(e){return QE(e.x)||QE(e.y)}function QE(e){return e&&e!=="0%"}function sy(e,t,r){const n=e-r,i=t*n;return r+i}function eC(e,t,r,n,i){return i!==void 0&&(e=sy(e,i,n)),sy(e,r,n)+t}function Hj(e,t=0,r=1,n,i){e.min=eC(e.min,t,r,n,i),e.max=eC(e.max,t,r,n,i)}function m4(e,{x:t,y:r}){Hj(e.x,t.translate,t.scale,t.originPoint),Hj(e.y,r.translate,r.scale,r.originPoint)}const tC=.999999999999,rC=1.0000000000001;function dZ(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let c=0;c<i;c++){s=r[c],o=s.projectionDelta;const{visualElement:f}=s.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$u(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,m4(e,o)),n&&ec(s.latestValues)&&$u(e,s.latestValues))}t.x<rC&&t.x>tC&&(t.x=1),t.y<rC&&t.y>tC&&(t.y=1)}function Du(e,t){e.min=e.min+t,e.max=e.max+t}function nC(e,t,r,n,i=.5){const s=Tr(e.min,e.max,i);Hj(e,t,r,s,n)}function $u(e,t){nC(e.x,t.x,t.scaleX,t.scale,t.originX),nC(e.y,t.y,t.scaleY,t.scale,t.originY)}function g4(e,t){return h4(uZ(e.getBoundingClientRect(),t))}function fZ(e,t,r){const n=g4(e,r),{scroll:i}=t;return i&&(Du(n.x,i.offset.x),Du(n.y,i.offset.y)),n}const hZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pZ=Sd.length;function mZ(e,t,r){let n="",i=!0;for(let s=0;s<pZ;s++){const o=Sd[s],c=e[o];if(c===void 0)continue;let f=!0;if(typeof c=="number")f=c===(o.startsWith("scale")?1:0);else{const h=parseFloat(c);f=o.startsWith("scale")?h===1:h===0}if(!f||r){const h=i4(c,dN[o]);if(!f){i=!1;const m=hZ[o]||o;n+=`${m}(${h}) `}r&&(t[o]=h)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function yN(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,c=!1;for(const f in t){const h=t[f];if(Nd.has(f)){o=!0;continue}else if(PL(f)){i[f]=h;continue}else{const m=i4(h,dN[f]);f.startsWith("origin")?(c=!0,s[f]=m):n[f]=m}}if(t.transform||(o||r?n.transform=mZ(t,e.transform,r):n.transform&&(n.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=s;n.transformOrigin=`${f} ${h} ${m}`}}function y4(e,{style:t,vars:r},n,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function iC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(lt.test(e))e=parseFloat(e);else return e;const r=iC(e,t.target.x),n=iC(e,t.target.y);return`${r}% ${n}%`}},gZ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=zs.parse(e);if(i.length>5)return n;const s=zs.createTransformer(e),o=typeof i[0]!="number"?1:0,c=r.x.scale*t.x,f=r.y.scale*t.y;i[0+o]/=c,i[1+o]/=f;const h=Tr(c,f,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}},Kj={borderRadius:{...Pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pf,borderTopRightRadius:Pf,borderBottomLeftRadius:Pf,borderBottomRightRadius:Pf,boxShadow:gZ};function x4(e,{layout:t,layoutId:r}){return Nd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Kj[e]||e==="opacity")}function xN(e,t,r){var o;const n=e.style,i=t==null?void 0:t.style,s={};if(!n)return s;for(const c in n)(Bn(n[c])||i&&Bn(i[c])||x4(c,e)||((o=r==null?void 0:r.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(s[c]=n[c]);return s}function yZ(e){return window.getComputedStyle(e)}class xZ extends f4{constructor(){super(...arguments),this.type="html",this.renderInstance=y4}readValueFromInstance(t,r){var n;if(Nd.has(r))return(n=this.projection)!=null&&n.isProjecting?Oj(r):DK(t,r);{const i=yZ(t),s=(PL(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return g4(t,r)}build(t,r,n){yN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return xN(t,r,n)}}const vZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},bZ={offset:"strokeDashoffset",array:"strokeDasharray"};function wZ(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?vZ:bZ;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const _Z=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function v4(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...c},f,h,m){if(yN(e,c,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x}=e;p.transform&&(x.transform=p.transform,delete p.transform),(x.transform||p.transformOrigin)&&(x.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox);for(const v of _Z)p[v]!==void 0&&(x[v]=p[v],delete p[v]);t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&wZ(p,i,s,o,!1)}const b4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),w4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jZ(e,t,r,n){y4(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(b4.has(i)?i:uN(i),t.attrs[i])}function _4(e,t,r){const n=xN(e,t,r);for(const i in e)if(Bn(e[i])||Bn(t[i])){const s=Sd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}class SZ extends f4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Nd.has(r)){const n=t4(r);return n&&n.default||0}return r=b4.has(r)?r:uN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return _4(t,r,n)}build(t,r,n){v4(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){jZ(t,r,n,i)}mount(t){this.isSVGTag=w4(t.tagName),super.mount(t)}}const NZ=gN.length;function j4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?j4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<NZ;r++){const n=gN[r],i=e.props[n];(Ch(i)||i===!1)&&(t[n]=i)}return t}function S4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const kZ=[...mN].reverse(),PZ=mN.length;function TZ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>SG(e,r,n)))}function EZ(e){let t=TZ(e),r=sC(),n=!0;const i=f=>(h,m)=>{var x;const p=qu(e,m,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(p){const{transition:v,transitionEnd:j,...S}=p;h={...h,...S,...j}}return h};function s(f){t=f(e)}function o(f){const{props:h}=e,m=j4(e.parent)||{},p=[],x=new Set;let v={},j=1/0;for(let _=0;_<PZ;_++){const N=kZ[_],k=r[N],C=h[N]!==void 0?h[N]:m[N],R=Ch(C),A=N===f?k.isActive:null;A===!1&&(j=_);let E=C===m[N]&&C!==h[N]&&R;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),k.protectedKeys={...v},!k.isActive&&A===null||!C&&!k.prevProp||vx(C)||typeof C=="boolean")continue;if(N==="exit"&&k.isActive&&A!==!0){k.prevResolvedValues&&(v={...v,...k.prevResolvedValues});continue}const $=CZ(k.prevProp,C);let I=$||N===f&&k.isActive&&!E&&R||_>j&&R,D=!1;const W=Array.isArray(C)?C:[C];let B=W.reduce(i(N),{});A===!1&&(B={});const{prevResolvedValues:q={}}=k,J={...q,...B},X=K=>{I=!0,x.has(K)&&(D=!0,x.delete(K)),k.needsAnimating[K]=!0;const U=e.getValue(K);U&&(U.liveStyle=!1)};for(const K in J){const U=B[K],ie=q[K];if(v.hasOwnProperty(K))continue;let se=!1;$j(U)&&$j(ie)?se=!S4(U,ie):se=U!==ie,se?U!=null?X(K):x.add(K):U!==void 0&&x.has(K)?X(K):k.protectedKeys[K]=!0}k.prevProp=C,k.prevResolvedValues=B,k.isActive&&(v={...v,...B}),n&&e.blockInitialAnimation&&(I=!1);const Z=E&&$;I&&(!Z||D)&&p.push(...W.map(K=>{const U={type:N};if(typeof K=="string"&&n&&!Z&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,se=qu(ie,K);if(ie.enteringChildren&&se){const{delayChildren:G}=se.transition||{};U.delay=HL(ie.enteringChildren,e,G)}}return{animation:K,options:U}}))}if(x.size){const _={};if(typeof h.initial!="boolean"){const N=qu(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(_.transition=N.transition)}x.forEach(N=>{const k=e.getBaseTarget(N),C=e.getValue(N);C&&(C.liveStyle=!0),_[N]=k??null}),p.push({animation:_})}let S=!!p.length;return n&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(p):Promise.resolve()}function c(f,h){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(f,h)}),r[f].isActive=h;const m=o(f);for(const x in r)r[x].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>r,reset:()=>{r=sC()}}}function CZ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S4(t,e):!1}function Xl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sC(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}function aC(e,t){e.min=t.min,e.max=t.max}function js(e,t){aC(e.x,t.x),aC(e.y,t.y)}function oC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const N4=1e-4,AZ=1-N4,OZ=1+N4,k4=.01,MZ=0-k4,RZ=0+k4;function ti(e){return e.max-e.min}function IZ(e,t,r){return Math.abs(e-t)<=r}function lC(e,t,r,n=.5){e.origin=n,e.originPoint=Tr(t.min,t.max,e.origin),e.scale=ti(r)/ti(t),e.translate=Tr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=AZ&&e.scale<=OZ||isNaN(e.scale))&&(e.scale=1),(e.translate>=MZ&&e.translate<=RZ||isNaN(e.translate))&&(e.translate=0)}function ih(e,t,r,n){lC(e.x,t.x,r.x,n?n.originX:void 0),lC(e.y,t.y,r.y,n?n.originY:void 0)}function cC(e,t,r){e.min=r.min+t.min,e.max=e.min+ti(t)}function LZ(e,t,r){cC(e.x,t.x,r.x),cC(e.y,t.y,r.y)}function uC(e,t,r){e.min=t.min-r.min,e.max=e.min+ti(t)}function ay(e,t,r){uC(e.x,t.x,r.x),uC(e.y,t.y,r.y)}function dC(e,t,r,n,i){return e-=t,e=sy(e,1/r,n),i!==void 0&&(e=sy(e,1/i,n)),e}function DZ(e,t=0,r=1,n=.5,i,s=e,o=e){if(xa.test(t)&&(t=parseFloat(t),t=Tr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Tr(s.min,s.max,n);e===s&&(c-=t),e.min=dC(e.min,t,r,c,i),e.max=dC(e.max,t,r,c,i)}function fC(e,t,[r,n,i],s,o){DZ(e,t[r],t[n],t[i],t.scale,s,o)}const $Z=["x","scaleX","originX"],zZ=["y","scaleY","originY"];function hC(e,t,r,n){fC(e.x,t,$Z,r?r.x:void 0,n?n.x:void 0),fC(e.y,t,zZ,r?r.y:void 0,n?n.y:void 0)}function pC(e){return e.translate===0&&e.scale===1}function P4(e){return pC(e.x)&&pC(e.y)}function mC(e,t){return e.min===t.min&&e.max===t.max}function WZ(e,t){return mC(e.x,t.x)&&mC(e.y,t.y)}function gC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function T4(e,t){return gC(e.x,t.x)&&gC(e.y,t.y)}function yC(e){return ti(e.x)/ti(e.y)}function xC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function da(e){return[e("x"),e("y")]}function BZ(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:p,rotateY:x,skewX:v,skewY:j}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),p&&(n+=`rotateX(${p}deg) `),x&&(n+=`rotateY(${x}deg) `),v&&(n+=`skewX(${v}deg) `),j&&(n+=`skewY(${j}deg) `)}const c=e.x.scale*t.x,f=e.y.scale*t.y;return(c!==1||f!==1)&&(n+=`scale(${c}, ${f})`),n||"none"}const E4=["TopLeft","TopRight","BottomLeft","BottomRight"],FZ=E4.length,vC=e=>typeof e=="string"?parseFloat(e):e,bC=e=>typeof e=="number"||lt.test(e);function UZ(e,t,r,n,i,s){i?(e.opacity=Tr(0,r.opacity??1,VZ(n)),e.opacityExit=Tr(t.opacity??1,0,qZ(n))):s&&(e.opacity=Tr(t.opacity??1,r.opacity??1,n));for(let o=0;o<FZ;o++){const c=`border${E4[o]}Radius`;let f=wC(t,c),h=wC(r,c);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||bC(f)===bC(h)?(e[c]=Math.max(Tr(vC(f),vC(h),n),0),(xa.test(h)||xa.test(f))&&(e[c]+="%")):e[c]=h}(t.rotate||r.rotate)&&(e.rotate=Tr(t.rotate||0,r.rotate||0,n))}function wC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VZ=C4(0,.5,wL),qZ=C4(.5,.95,is);function C4(e,t,r){return n=>n<e?0:n>t?1:r(Ph(e,t,n))}function HZ(e,t,r){const n=Bn(e)?e:Qu(e);return n.start(lN("",n,t,r)),n.animation}function Ah(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const KZ=(e,t)=>e.depth-t.depth;class GZ{constructor(){this.children=[],this.isDirty=!1}add(t){KS(this.children,t),this.isDirty=!0}remove(t){ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KZ),this.isDirty=!1,this.children.forEach(t)}}function ZZ(e,t){const r=ei.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(ml(n),e(s-t))};return pr.setup(n,!0),()=>ml(n)}function $g(e){return Bn(e)?e.get():e}class YZ{constructor(){this.members=[]}add(t){KS(this.members,t);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===t||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&ey(this.members,n)}t.scheduleRender()}remove(t){if(ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i],o=s.instance;if(s.isPresent!==!1&&(!o||o.isConnected!==!1)){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const i=n.options.layoutDependency,s=t.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const f=n.instance;f&&f.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:c}=t.options;c===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zg={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qv=["","X","Y","Z"],XZ=1e3;let JZ=0;function Hv(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function A4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=XL(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",pr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&A4(n)}function O4({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=JZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tY),this.nodes.forEach(sY),this.nodes.forEach(aY),this.nodes.forEach(rY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new GZ)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZS),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const f=this.eventHandlers.get(o);f&&f.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=pN(o)&&!eZ(o),this.instance=o;const{layoutId:c,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),e){let m,p=0;const x=()=>this.root.updateBlockedByResize=!1;pr.read(()=>{p=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,m&&m(),m=ZZ(x,250),zg.hasAnimatedSinceResize&&(zg.hasAnimatedSinceResize=!1,this.nodes.forEach(SC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||dY,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=h.getProps(),N=!this.targetLayout||!T4(this.targetLayout,v),k=!p&&x;if(this.options.layoutRoot||this.resumeFrom||k||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...oN(j,"layout"),onPlay:S,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,k)}else p||SC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ml(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_C);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iY),this.nodes.forEach(QZ),this.nodes.forEach(eY)):this.nodes.forEach(jC),this.clearAllSnapshots();const c=ei.now();Nn.delta=ja(0,1e3/60,c-Nn.timestamp),Nn.timestamp=c,Nn.isProcessing=!0,Dv.update.process(Nn),Dv.preRender.process(Nn),Dv.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nY),this.sharedNodes.forEach(lY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ti(this.snapshot.measuredBox.x)&&!ti(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!P4(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||ec(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return o&&(f=this.removeTransform(f)),fY(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return on();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(hY))){const{scroll:m}=this.root;m&&(Du(c.x,m.offset.x),Du(c.y,m.offset.y))}return c}removeElementScroll(o){var f;const c=on();if(js(c,o),(f=this.scroll)!=null&&f.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:x}=m;m!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&js(c,o),Du(c.x,p.offset.x),Du(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const f=on();js(f,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$u(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ec(m.latestValues)&&$u(f,m.latestValues)}return ec(this.latestValues)&&$u(f,this.latestValues),f}removeTransform(o){const c=on();js(c,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!ec(h.latestValues))continue;qj(h.latestValues)&&h.updateSnapshot();const m=on(),p=h.measurePageBox();js(m,p),hC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ec(this.latestValues)&&hC(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!this.layout||!(m||p))return;this.resolvedRelativeTargetAt=Nn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),m4(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qj(this.parent.latestValues)||p4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,f){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),ay(this.relativeTargetOrigin,c,f),js(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var j;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;js(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;dZ(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=on());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oC(this.prevProjectionDelta.x,this.projectionDelta.x),oC(this.prevProjectionDelta.y,this.projectionDelta.y)),ih(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==x||!xC(this.projectionDelta.x,this.prevProjectionDelta.x)||!xC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lu(),this.projectionDelta=Lu(),this.projectionDeltaWithTransform=Lu()}setAnimationOrigin(o,c=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},p=Lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=on(),v=f?f.source:void 0,j=this.layout?this.layout.source:void 0,S=v!==j,_=this.getStack(),N=!_||_.members.length<=1,k=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(uY));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const A=R/1e3;NC(p.x,o.x,A),NC(p.y,o.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ay(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cY(this.relativeTarget,this.relativeTargetOrigin,x,A),C&&WZ(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=on()),js(C,this.relativeTarget)),S&&(this.animationValues=m,UZ(m,h,this.latestValues,A,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,f,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ml(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{zg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qu(0)),this.motionValue.jump(0,!1),this.currentAnimation=HZ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:f,layout:h,latestValues:m}=o;if(!(!c||!f||!h)){if(this!==o&&this.layout&&h&&M4(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||on();const p=ti(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+p;const x=ti(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+x}js(c,f),$u(c,m),ih(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new YZ),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const h={};f.z&&Hv("z",o,h,this.animationValues);for(let m=0;m<qv.length;m++)Hv(`rotate${qv[m]}`,o,h,this.animationValues),Hv(`skew${qv[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$g(c==null?void 0:c.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$g(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ec(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=BZ(this.projectionDeltaWithTransform,this.treeScale,m);f&&(p=f(m,p)),o.transform=p;const{x,y:v}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const j in Kj){if(m[j]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:N}=Kj[j],k=p==="none"?m[j]:S(m[j],h);if(_){const C=_.length;for(let R=0;R<C;R++)o[_[R]]=k}else N?this.options.visualElement.renderState.vars[j]=k:o[j]=k}this.options.layoutId&&(o.pointerEvents=h===this?$g(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(_C),this.root.sharedNodes.clear()}}}function QZ(e){e.updateLayout()}function eY(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?da(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],v=ti(x);x.min=n[p].min,x.max=x.min+v}):M4(s,t.layoutBox,n)&&da(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],v=ti(n[p]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const c=Lu();ih(c,n,t.layoutBox);const f=Lu();o?ih(f,e.applyTransform(i,!0),t.measuredBox):ih(f,n,t.layoutBox);const h=!P4(c);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:v}=p;if(x&&v){const j=on();ay(j,t.layoutBox,x.layoutBox);const S=on();ay(S,n,v.layoutBox),T4(j,S)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function tY(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nY(e){e.clearSnapshot()}function _C(e){e.clearMeasurements()}function jC(e){e.isLayoutDirty=!1}function iY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sY(e){e.resolveTargetDelta()}function aY(e){e.calcProjection()}function oY(e){e.resetSkewAndRotation()}function lY(e){e.removeLeadSnapshot()}function NC(e,t,r){e.translate=Tr(t.translate,0,r),e.scale=Tr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function kC(e,t,r,n){e.min=Tr(t.min,r.min,n),e.max=Tr(t.max,r.max,n)}function cY(e,t,r,n){kC(e.x,t.x,r.x,n),kC(e.y,t.y,r.y,n)}function uY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dY={duration:.45,ease:[.4,0,.1,1]},PC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),TC=PC("applewebkit/")&&!PC("chrome/")?Math.round:is;function EC(e){e.min=TC(e.min),e.max=TC(e.max)}function fY(e){EC(e.x),EC(e.y)}function M4(e,t,r){return e==="position"||e==="preserve-aspect"&&!IZ(yC(t),yC(r),.2)}function hY(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pY=O4({attachResizeListener:(e,t)=>Ah(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Kv={current:void 0},R4=O4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kv.current){const e=new pY({});e.mount(window),e.setOptions({layoutScroll:!0}),Kv.current=e}return Kv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vN=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function CC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mY(...e){return t=>{let r=!1;const n=e.map(i=>{const s=CC(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():CC(e[i],null)}}}}function gY(...e){return O.useCallback(mY(...e),e)}class yY extends O.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=r.offsetParent,i=Uj(n)&&n.offsetWidth||0,s=Uj(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function xY({children:e,isPresent:t,anchorX:r,anchorY:n,root:i,pop:s}){var x;const o=O.useId(),c=O.useRef(null),f=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=O.useContext(vN),m=((x=e.props)==null?void 0:x.ref)??(e==null?void 0:e.ref),p=gY(c,m);return O.useInsertionEffect(()=>{const{width:v,height:j,top:S,left:_,right:N,bottom:k}=f.current;if(t||s===!1||!c.current||!v||!j)return;const C=r==="left"?`left: ${_}`:`right: ${N}`,R=n==="bottom"?`bottom: ${k}`:`top: ${S}`;c.current.dataset.motionPopId=o;const A=document.createElement("style");h&&(A.nonce=h);const E=i??document.head;return E.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${j}px !important;
            ${C}px !important;
            ${R}px !important;
          }
        `),()=>{E.contains(A)&&E.removeChild(A)}},[t]),a.jsx(yY,{isPresent:t,childRef:c,sizeRef:f,pop:s,children:s===!1?e:O.cloneElement(e,{ref:p})})}const vY=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:c,anchorY:f,root:h})=>{const m=HS(bY),p=O.useId();let x=!0,v=O.useMemo(()=>(x=!1,{id:p,initial:t,isPresent:r,custom:i,onExitComplete:j=>{m.set(j,!0);for(const S of m.values())if(!S)return;n&&n()},register:j=>(m.set(j,!1),()=>m.delete(j))}),[r,m,n]);return s&&x&&(v={...v}),O.useMemo(()=>{m.forEach((j,S)=>m.set(S,!1))},[r]),O.useEffect(()=>{!r&&!m.size&&n&&n()},[r]),e=a.jsx(xY,{pop:o==="popLayout",isPresent:r,anchorX:c,anchorY:f,root:h,children:e}),a.jsx(xx.Provider,{value:v,children:e})};function bY(){return new Map}function I4(e=!0){const t=O.useContext(xx);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=O.useId();O.useEffect(()=>{if(e)return i(s)},[e]);const o=O.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const fg=e=>e.key||"";function AC(e){const t=[];return O.Children.forEach(e,r=>{O.isValidElement(r)&&t.push(r)}),t}const ln=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",anchorY:f="top",root:h})=>{const[m,p]=I4(o),x=O.useMemo(()=>AC(e),[e]),v=o&&!m?[]:x.map(fg),j=O.useRef(!0),S=O.useRef(x),_=HS(()=>new Map),N=O.useRef(new Set),[k,C]=O.useState(x),[R,A]=O.useState(x);cL(()=>{j.current=!1,S.current=x;for(let I=0;I<R.length;I++){const D=fg(R[I]);v.includes(D)?(_.delete(D),N.current.delete(D)):_.get(D)!==!0&&_.set(D,!1)}},[R,v.length,v.join("-")]);const E=[];if(x!==k){let I=[...x];for(let D=0;D<R.length;D++){const W=R[D],B=fg(W);v.includes(B)||(I.splice(D,0,W),E.push(W))}return s==="wait"&&E.length&&(I=E),A(AC(I)),C(x),null}const{forceRender:$}=O.useContext(qS);return a.jsx(a.Fragment,{children:R.map(I=>{const D=fg(I),W=o&&!m?!1:x===R||v.includes(D),B=()=>{if(N.current.has(D))return;if(N.current.add(D),_.has(D))_.set(D,!0);else return;let q=!0;_.forEach(J=>{J||(q=!1)}),q&&($==null||$(),A(S.current),o&&(p==null||p()),n&&n())};return a.jsx(vY,{isPresent:W,initial:!j.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:h,onExitComplete:W?void 0:B,anchorX:c,anchorY:f,children:I},D)})})},L4=O.createContext({strict:!1}),OC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let MC=!1;function wY(){if(MC)return;const e={};for(const t in OC)e[t]={isEnabled:r=>OC[t].some(n=>!!r[n])};d4(e),MC=!0}function D4(){return wY(),oZ()}function _Y(e){const t=D4();for(const r in e)t[r]={...t[r],...e[r]};d4(t)}const jY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function oy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jY.has(e)}let $4=e=>!oy(e);function SY(e){typeof e=="function"&&($4=t=>t.startsWith("on")?!oy(t):e(t))}try{SY(require("@emotion/is-prop-valid").default)}catch{}function NY(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||($4(i)||r===!0&&oy(i)||!t&&!oy(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const wx=O.createContext({});function kY(e,t){if(bx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ch(r)?r:void 0,animate:Ch(n)?n:void 0}}return e.inherit!==!1?t:{}}function PY(e){const{initial:t,animate:r}=kY(e,O.useContext(wx));return O.useMemo(()=>({initial:t,animate:r}),[RC(t),RC(r)])}function RC(e){return Array.isArray(e)?e.join(" "):e}const bN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z4(e,t,r){for(const n in t)!Bn(t[n])&&!x4(n,r)&&(e[n]=t[n])}function TY({transformTemplate:e},t){return O.useMemo(()=>{const r=bN();return yN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function EY(e,t){const r=e.style||{},n={};return z4(n,r,e),Object.assign(n,TY(e,t)),n}function CY(e,t){const r={},n=EY(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const W4=()=>({...bN(),attrs:{}});function AY(e,t,r,n){const i=O.useMemo(()=>{const s=W4();return v4(s,t,w4(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};z4(s,e.style,e),i.style={...s,...i.style}}return i}const OY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wN(e){return typeof e!="string"||e.includes("-")?!1:!!(OY.indexOf(e)>-1||/[A-Z]/u.test(e))}function MY(e,t,r,{latestValues:n},i,s=!1,o){const f=(o??wN(e)?AY:CY)(t,n,i,e),h=NY(t,typeof e=="string",s),m=e!==O.Fragment?{...h,...f,ref:r}:{},{children:p}=t,x=O.useMemo(()=>Bn(p)?p.get():p,[p]);return O.createElement(e,{...m,children:x})}function RY({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:IY(r,n,i,e),renderState:t()}}function IY(e,t,r,n){const i={},s=n(e,{});for(const x in s)i[x]=$g(s[x]);let{initial:o,animate:c}=e;const f=bx(e),h=c4(e);t&&h&&!f&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let m=r?r.initial===!1:!1;m=m||o===!1;const p=m?c:o;if(p&&typeof p!="boolean"&&!vx(p)){const x=Array.isArray(p)?p:[p];for(let v=0;v<x.length;v++){const j=cN(e,x[v]);if(j){const{transitionEnd:S,transition:_,...N}=j;for(const k in N){let C=N[k];if(Array.isArray(C)){const R=m?C.length-1:0;C=C[R]}C!==null&&(i[k]=C)}for(const k in S)i[k]=S[k]}}}return i}const B4=e=>(t,r)=>{const n=O.useContext(wx),i=O.useContext(xx),s=()=>RY(e,t,n,i);return r?s():HS(s)},LY=B4({scrapeMotionValuesFromProps:xN,createRenderState:bN}),DY=B4({scrapeMotionValuesFromProps:_4,createRenderState:W4}),$Y=Symbol.for("motionComponentSymbol");function zY(e,t,r){const n=O.useRef(r);O.useInsertionEffect(()=>{n.current=r});const i=O.useRef(null);return O.useCallback(s=>{var c;s&&((c=e.onMount)==null||c.call(e,s)),t&&(s?t.mount(s):t.unmount());const o=n.current;if(typeof o=="function")if(s){const f=o(s);typeof f=="function"&&(i.current=f)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[t])}const F4=O.createContext({});function Au(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WY(e,t,r,n,i,s){var C,R;const{visualElement:o}=O.useContext(wx),c=O.useContext(L4),f=O.useContext(xx),h=O.useContext(vN),m=h.reducedMotion,p=h.skipAnimations,x=O.useRef(null),v=O.useRef(!1);n=n||c.renderer,!x.current&&n&&(x.current=n(e,{visualState:t,parent:o,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,skipAnimations:p,isSVG:s}),v.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const j=x.current,S=O.useContext(F4);j&&!j.projection&&i&&(j.type==="html"||j.type==="svg")&&BY(x.current,r,i,S);const _=O.useRef(!1);O.useInsertionEffect(()=>{j&&_.current&&j.update(r,f)});const N=r[YL],k=O.useRef(!!N&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,N))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,N)));return cL(()=>{v.current=!0,j&&(_.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),k.current&&j.animationState&&j.animationState.animateChanges())}),O.useEffect(()=>{j&&(!k.current&&j.animationState&&j.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,N)}),k.current=!1),j.enteringChildren=void 0)}),j}function BY(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:c,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:U4(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||c&&Au(c),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:f,layoutRoot:h})}function U4(e){if(e)return e.options.allowProjection!==!1?e.projection:U4(e.parent)}function Gv(e,{forwardMotionProps:t=!1,type:r}={},n,i){n&&_Y(n);const s=r?r==="svg":wN(e),o=s?DY:LY;function c(h,m){let p;const x={...O.useContext(vN),...h,layoutId:FY(h)},{isStatic:v}=x,j=PY(h),S=o(h,v);if(!v&&lL){UY();const _=VY(x);p=_.MeasureLayout,j.visualElement=WY(e,S,x,i,_.ProjectionNode,s)}return a.jsxs(wx.Provider,{value:j,children:[p&&j.visualElement?a.jsx(p,{visualElement:j.visualElement,...x}):null,MY(e,h,zY(S,j.visualElement,m),S,v,t,s)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=O.forwardRef(c);return f[$Y]=e,f}function FY({layoutId:e}){const t=O.useContext(qS).id;return t&&e!==void 0?t+"-"+e:e}function UY(e,t){O.useContext(L4).strict}function VY(e){const t=D4(),{drag:r,layout:n}=t;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qY(e,t){if(typeof Proxy>"u")return Gv;const r=new Map,n=(s,o)=>Gv(s,o,e,t),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,Gv(o,void 0,e,t)),r.get(o))})}const HY=(e,t)=>t.isSVG??wN(e)?new SZ(t):new xZ(t,{allowProjection:e!==O.Fragment});class KY extends vl{constructor(t){super(t),t.animationState||(t.animationState=EZ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let GY=0;class ZY extends vl{constructor(){super(...arguments),this.id=GY++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const YY={animation:{Feature:KY},exit:{Feature:ZY}};function Sp(e){return{point:{x:e.pageX,y:e.pageY}}}const XY=e=>t=>hN(t)&&e(t,Sp(t));function sh(e,t,r,n){return Ah(e,t,XY(r),n)}const V4=({current:e})=>e?e.ownerDocument.defaultView:null,IC=(e,t)=>Math.abs(e-t);function JY(e,t){const r=IC(e.x,t.x),n=IC(e.y,t.y);return Math.sqrt(r**2+n**2)}const LC=new Set(["auto","scroll"]);class q4{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yv(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,S=JY(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!S)return;const{point:_}=v,{timestamp:N}=Nn;this.history.push({..._,timestamp:N});const{onStart:k,onMove:C}=this.handlers;j||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Zv(j,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Yv(v.type==="pointercancel"?this.lastMoveEventInfo:Zv(j,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,k),_&&_(v,k)},!hN(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const f=Sp(t),h=Zv(f,this.transformPagePoint),{point:m}=h,{timestamp:p}=Nn;this.history=[{...m,timestamp:p}];const{onSessionStart:x}=r;x&&x(t,Yv(h,this.history)),this.removeListeners=wp(sh(this.contextWindow,"pointermove",this.handlePointerMove),sh(this.contextWindow,"pointerup",this.handlePointerUp),sh(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(LC.has(n.overflowX)||LC.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:i.x-r.x,y:i.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,i),pr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ml(this.updatePoint)}}function Zv(e,t){return t?{point:t(e.point)}:e}function DC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yv({point:e},t){return{point:e,delta:DC(e,H4(t)),offset:DC(e,QY(t)),velocity:eX(t,.1)}}function QY(e){return e[0]}function H4(e){return e[e.length-1]}function eX(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=H4(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>$s(t)));)r--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&i.timestamp-n.timestamp>$s(t)*2&&(n=e[1]);const s=rs(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tX(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Tr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Tr(r,e,n.max):Math.min(e,r)),e}function $C(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function rX(e,{top:t,left:r,bottom:n,right:i}){return{x:$C(e.x,r,i),y:$C(e.y,t,n)}}function zC(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function nX(e,t){return{x:zC(e.x,t.x),y:zC(e.y,t.y)}}function iX(e,t){let r=.5;const n=ti(e),i=ti(t);return i>n?r=Ph(t.min,t.max-n,e.min):n>i&&(r=Ph(e.min,e.max-i,t.min)),ja(0,1,r)}function sX(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Gj=.35;function aX(e=Gj){return e===!1?e=0:e===!0&&(e=Gj),{x:WC(e,"left","right"),y:WC(e,"top","bottom")}}function WC(e,t,r){return{min:BC(e,t),max:BC(e,r)}}function BC(e,t){return typeof e=="number"?e:e[t]||0}const oX=new WeakMap;class lX{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{r&&this.snapToCursor(Sp(p).point),this.stopAnimation()},o=(p,x)=>{const{drag:v,dragPropagation:j,onDragStart:S}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DG(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),da(N=>{let k=this.getAxisMotionValue(N).get()||0;if(xa.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const R=C.layout.layoutBox[N];R&&(k=ti(R)*(parseFloat(k)/100))}}this.originPoint[N]=k}),S&&pr.update(()=>S(p,x),!1,!0),zj(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:S,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=x;if(j&&this.currentDirection===null){this.currentDirection=uX(N),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),_&&pr.update(()=>_(p,x),!1,!0)},f=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x,this.stop(p,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:m}=this.getProps();this.panSession=new q4(t,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:V4(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&pr.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!hg(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=tX(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Au(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=rX(n.layoutBox,t):this.constraints=!1,this.elastic=aX(r),i!==this.constraints&&!Au(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&da(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sX(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Au(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=fZ(n,i.root,this.visualElement.getTransformPagePoint());let o=nX(i.layout.layoutBox,s);if(r){const c=r(cZ(o));this.hasMutatedConstraints=!!c,c&&(o=h4(c))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},h=da(m=>{if(!hg(m,r,this.currentDirection))return;let p=f&&f[m]||{};o&&(p={min:0,max:0});const x=i?200:1e6,v=i?40:1e7,j={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(m,j)});return Promise.all(h).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return zj(this.visualElement,t),n.start(lN(t,n,0,r,this.visualElement,!1))}stopAnimation(){da(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){da(r=>{const{drag:n}=this.getProps();if(!hg(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[r],f=s.get()||0;s.set(t[r]-Tr(o,c,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Au(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};da(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const f=c.get();i[o]=iX({min:f,max:f},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),da(o=>{if(!hg(o,t,null))return;const c=this.getAxisMotionValue(o),{min:f,max:h}=this.constraints[o];c.set(Tr(f,h,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;oX.set(this.visualElement,this);const t=this.visualElement.current,r=sh(t,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps(),x=h.target,v=x!==t&&UG(x);m&&p&&!v&&this.start(h)});let n;const i=()=>{const{dragConstraints:h}=this.getProps();Au(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),n||(n=cX(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pr.read(i);const c=Ah(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(da(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),o(),f&&f(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Gj,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function FC(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function cX(e,t,r){const n=ZE(e,FC(r)),i=ZE(t,FC(r));return()=>{n(),i()}}function hg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function uX(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class dX extends vl{constructor(t){super(t),this.removeGroupControls=is,this.removeListeners=is,this.controls=new lX(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||is}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xv=e=>(t,r)=>{e&&pr.update(()=>e(t,r),!1,!0)};class fX extends vl{constructor(){super(...arguments),this.removePointerDownListener=is}onPointerDown(t){this.session=new q4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xv(t),onStart:Xv(r),onMove:Xv(n),onEnd:(s,o)=>{delete this.session,i&&pr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=sh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Jv=!1;class hX extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Jv&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,t.layoutDependency!==r&&o.setOptions({...o.options,layoutDependency:r}),Jv=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||pr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Jv=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function K4(e){const[t,r]=I4(),n=O.useContext(qS);return a.jsx(hX,{...e,layoutGroup:n,switchLayoutGroup:O.useContext(F4),isPresent:t,safeToRemove:r})}const pX={pan:{Feature:fX},drag:{Feature:dX,ProjectionNode:R4,MeasureLayout:K4}};function UC(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&pr.postRender(()=>s(t,Sp(t)))}class mX extends vl{mount(){const{current:t}=this.node;t&&(this.unmount=zG(t,(r,n)=>(UC(this.node,n,"Start"),i=>UC(this.node,i,"End"))))}unmount(){}}class gX extends vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wp(Ah(this.node.current,"focus",()=>this.onFocus()),Ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VC(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&pr.postRender(()=>s(t,Sp(t)))}class yX extends vl{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=qG(t,(i,s)=>(VC(this.node,s,"Start"),(o,{success:c})=>VC(this.node,o,c?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const Zj=new WeakMap,Qv=new WeakMap,xX=e=>{const t=Zj.get(e.target);t&&t(e)},vX=e=>{e.forEach(xX)};function bX({root:e,...t}){const r=e||document;Qv.has(r)||Qv.set(r,{});const n=Qv.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(vX,{root:e,...t})),n[i]}function wX(e,t,r){const n=bX(t);return Zj.set(e,r),n.observe(e),()=>{Zj.delete(e),n.unobserve(e)}}const _X={some:0,all:1};class jX extends vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_X[i]},c=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),x=h?m:p;x&&x(f)};return wX(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(SX(t,r))&&this.startObserver()}unmount(){}}function SX({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const NX={inView:{Feature:jX},tap:{Feature:yX},focus:{Feature:gX},hover:{Feature:mX}},kX={layout:{ProjectionNode:R4,MeasureLayout:K4}},PX={...YY,...NX,...pX,...kX},Ke=qY(PX,HY);function G4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=G4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=G4(e))&&(n&&(n+=" "),n+=t);return n}var eb,qC;function xi(){if(qC)return eb;qC=1;var e=Array.isArray;return eb=e,eb}var tb,HC;function Z4(){if(HC)return tb;HC=1;var e=typeof Km=="object"&&Km&&Km.Object===Object&&Km;return tb=e,tb}var rb,KC;function Ta(){if(KC)return rb;KC=1;var e=Z4(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return rb=r,rb}var nb,GC;function Np(){if(GC)return nb;GC=1;var e=Ta(),t=e.Symbol;return nb=t,nb}var ib,ZC;function TX(){if(ZC)return ib;ZC=1;var e=Np(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var c=r.call(o,i),f=o[i];try{o[i]=void 0;var h=!0}catch{}var m=n.call(o);return h&&(c?o[i]=f:delete o[i]),m}return ib=s,ib}var sb,YC;function EX(){if(YC)return sb;YC=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return sb=r,sb}var ab,XC;function mo(){if(XC)return ab;XC=1;var e=Np(),t=TX(),r=EX(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:s&&s in Object(c)?t(c):r(c)}return ab=o,ab}var ob,JC;function go(){if(JC)return ob;JC=1;function e(t){return t!=null&&typeof t=="object"}return ob=e,ob}var lb,QC;function kd(){if(QC)return lb;QC=1;var e=mo(),t=go(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return lb=n,lb}var cb,e8;function _N(){if(e8)return cb;e8=1;var e=xi(),t=kd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return cb=i,cb}var ub,t8;function bl(){if(t8)return ub;t8=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return ub=e,ub}var db,r8;function jN(){if(r8)return db;r8=1;var e=mo(),t=bl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!t(c))return!1;var f=e(c);return f==n||f==i||f==r||f==s}return db=o,db}var fb,n8;function CX(){if(n8)return fb;n8=1;var e=Ta(),t=e["__core-js_shared__"];return fb=t,fb}var hb,i8;function AX(){if(i8)return hb;i8=1;var e=CX(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return hb=r,hb}var pb,s8;function Y4(){if(s8)return pb;s8=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return pb=r,pb}var mb,a8;function OX(){if(a8)return mb;a8=1;var e=jN(),t=AX(),r=bl(),n=Y4(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,f=o.toString,h=c.hasOwnProperty,m=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!r(x)||t(x))return!1;var v=e(x)?m:s;return v.test(n(x))}return mb=p,mb}var gb,o8;function MX(){if(o8)return gb;o8=1;function e(t,r){return t==null?void 0:t[r]}return gb=e,gb}var yb,l8;function Tc(){if(l8)return yb;l8=1;var e=OX(),t=MX();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return yb=r,yb}var xb,c8;function _x(){if(c8)return xb;c8=1;var e=Tc(),t=e(Object,"create");return xb=t,xb}var vb,u8;function RX(){if(u8)return vb;u8=1;var e=_x();function t(){this.__data__=e?e(null):{},this.size=0}return vb=t,vb}var bb,d8;function IX(){if(d8)return bb;d8=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return bb=e,bb}var wb,f8;function LX(){if(f8)return wb;f8=1;var e=_x(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var c=o[s];return c===t?void 0:c}return n.call(o,s)?o[s]:void 0}return wb=i,wb}var _b,h8;function DX(){if(h8)return _b;h8=1;var e=_x(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return _b=n,_b}var jb,p8;function $X(){if(p8)return jb;p8=1;var e=_x(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return jb=r,jb}var Sb,m8;function zX(){if(m8)return Sb;m8=1;var e=RX(),t=IX(),r=LX(),n=DX(),i=$X();function s(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Sb=s,Sb}var Nb,g8;function WX(){if(g8)return Nb;g8=1;function e(){this.__data__=[],this.size=0}return Nb=e,Nb}var kb,y8;function SN(){if(y8)return kb;y8=1;function e(t,r){return t===r||t!==t&&r!==r}return kb=e,kb}var Pb,x8;function jx(){if(x8)return Pb;x8=1;var e=SN();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Pb=t,Pb}var Tb,v8;function BX(){if(v8)return Tb;v8=1;var e=jx(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():r.call(s,o,1),--this.size,!0}return Tb=n,Tb}var Eb,b8;function FX(){if(b8)return Eb;b8=1;var e=jx();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Eb=t,Eb}var Cb,w8;function UX(){if(w8)return Cb;w8=1;var e=jx();function t(r){return e(this.__data__,r)>-1}return Cb=t,Cb}var Ab,_8;function VX(){if(_8)return Ab;_8=1;var e=jx();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Ab=t,Ab}var Ob,j8;function Sx(){if(j8)return Ob;j8=1;var e=WX(),t=BX(),r=FX(),n=UX(),i=VX();function s(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Ob=s,Ob}var Mb,S8;function NN(){if(S8)return Mb;S8=1;var e=Tc(),t=Ta(),r=e(t,"Map");return Mb=r,Mb}var Rb,N8;function qX(){if(N8)return Rb;N8=1;var e=zX(),t=Sx(),r=NN();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Rb=n,Rb}var Ib,k8;function HX(){if(k8)return Ib;k8=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Ib=e,Ib}var Lb,P8;function Nx(){if(P8)return Lb;P8=1;var e=HX();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Lb=t,Lb}var Db,T8;function KX(){if(T8)return Db;T8=1;var e=Nx();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Db=t,Db}var $b,E8;function GX(){if(E8)return $b;E8=1;var e=Nx();function t(r){return e(this,r).get(r)}return $b=t,$b}var zb,C8;function ZX(){if(C8)return zb;C8=1;var e=Nx();function t(r){return e(this,r).has(r)}return zb=t,zb}var Wb,A8;function YX(){if(A8)return Wb;A8=1;var e=Nx();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Wb=t,Wb}var Bb,O8;function kN(){if(O8)return Bb;O8=1;var e=qX(),t=KX(),r=GX(),n=ZX(),i=YX();function s(o){var c=-1,f=o==null?0:o.length;for(this.clear();++c<f;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Bb=s,Bb}var Fb,M8;function X4(){if(M8)return Fb;M8=1;var e=kN(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,c=i?i.apply(this,o):o[0],f=s.cache;if(f.has(c))return f.get(c);var h=n.apply(this,o);return s.cache=f.set(c,h)||f,h};return s.cache=new(r.Cache||e),s}return r.Cache=e,Fb=r,Fb}var Ub,R8;function XX(){if(R8)return Ub;R8=1;var e=X4(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return Ub=r,Ub}var Vb,I8;function JX(){if(I8)return Vb;I8=1;var e=XX(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,c,f,h){s.push(f?h.replace(r,"$1"):c||o)}),s});return Vb=n,Vb}var qb,L8;function PN(){if(L8)return qb;L8=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return qb=e,qb}var Hb,D8;function QX(){if(D8)return Hb;D8=1;var e=Np(),t=PN(),r=xi(),n=kd(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return t(c,o)+"";if(n(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return Hb=o,Hb}var Kb,$8;function J4(){if($8)return Kb;$8=1;var e=QX();function t(r){return r==null?"":e(r)}return Kb=t,Kb}var Gb,z8;function Q4(){if(z8)return Gb;z8=1;var e=xi(),t=_N(),r=JX(),n=J4();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return Gb=i,Gb}var Zb,W8;function kx(){if(W8)return Zb;W8=1;var e=kd();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Zb=t,Zb}var Yb,B8;function TN(){if(B8)return Yb;B8=1;var e=Q4(),t=kx();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return Yb=r,Yb}var Xb,F8;function eD(){if(F8)return Xb;F8=1;var e=TN();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return Xb=t,Xb}var eJ=eD();const ss=rr(eJ);var Jb,U8;function tJ(){if(U8)return Jb;U8=1;function e(t){return t==null}return Jb=e,Jb}var rJ=tJ();const Lt=rr(rJ);var Qb,V8;function nJ(){if(V8)return Qb;V8=1;var e=mo(),t=xi(),r=go(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return Qb=i,Qb}var iJ=nJ();const kp=rr(iJ);var sJ=jN();const It=rr(sJ);var aJ=bl();const Pd=rr(aJ);var e1={exports:{}},Qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q8;function oJ(){if(q8)return Qt;q8=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function S(_){if(typeof _=="object"&&_!==null){var N=_.$$typeof;switch(N){case e:switch(_=_.type,_){case r:case i:case n:case h:case m:return _;default:switch(_=_&&_.$$typeof,_){case c:case o:case f:case x:case p:case s:return _;default:return N}}case t:return N}}}return Qt.ContextConsumer=o,Qt.ContextProvider=s,Qt.Element=e,Qt.ForwardRef=f,Qt.Fragment=r,Qt.Lazy=x,Qt.Memo=p,Qt.Portal=t,Qt.Profiler=i,Qt.StrictMode=n,Qt.Suspense=h,Qt.SuspenseList=m,Qt.isAsyncMode=function(){return!1},Qt.isConcurrentMode=function(){return!1},Qt.isContextConsumer=function(_){return S(_)===o},Qt.isContextProvider=function(_){return S(_)===s},Qt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Qt.isForwardRef=function(_){return S(_)===f},Qt.isFragment=function(_){return S(_)===r},Qt.isLazy=function(_){return S(_)===x},Qt.isMemo=function(_){return S(_)===p},Qt.isPortal=function(_){return S(_)===t},Qt.isProfiler=function(_){return S(_)===i},Qt.isStrictMode=function(_){return S(_)===n},Qt.isSuspense=function(_){return S(_)===h},Qt.isSuspenseList=function(_){return S(_)===m},Qt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===h||_===m||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===p||_.$$typeof===s||_.$$typeof===o||_.$$typeof===f||_.$$typeof===j||_.getModuleId!==void 0)},Qt.typeOf=S,Qt}var H8;function lJ(){return H8||(H8=1,e1.exports=oJ()),e1.exports}var cJ=lJ(),t1,K8;function tD(){if(K8)return t1;K8=1;var e=mo(),t=go(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return t1=n,t1}var r1,G8;function uJ(){if(G8)return r1;G8=1;var e=tD();function t(r){return e(r)&&r!=+r}return r1=t,r1}var dJ=uJ();const Pp=rr(dJ);var fJ=tD();const hJ=rr(fJ);var Ds=function(t){return t===0?0:t>0?1:-1},hc=function(t){return kp(t)&&t.indexOf("%")===t.length-1},rt=function(t){return hJ(t)&&!Pp(t)},cn=function(t){return rt(t)||kp(t)},pJ=0,Tp=function(t){var r=++pJ;return"".concat(t||"").concat(r)},Sc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(t)&&!kp(t))return n;var s;if(hc(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Pp(s)&&(s=n),i&&s>r&&(s=r),s},Ou=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},mJ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Os=function(t,r){return rt(t)&&rt(r)?function(n){return t+n*(r-t)}:function(){return r}};function ly(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ss(n,t))===r})}function Hu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Yj(e){"@babel/helpers - typeof";return Yj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yj(e)}var gJ=["viewBox","children"],yJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z8=["points","pathLength"],n1={svg:gJ,polygon:Z8,polyline:Z8},EN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Pd(n))return null;var i={};return Object.keys(n).forEach(function(s){EN.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},xJ=function(t,r,n){return function(i){return t(r,n,i),null}},uy=function(t,r,n){if(!Pd(t)||Yj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];EN.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=xJ(o,r,n))}),i},vJ=["children"],bJ=["children"];function Y8(e,t){if(e==null)return{};var r=wJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xj(e){"@babel/helpers - typeof";return Xj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xj(e)}var X8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},io=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},J8=null,i1=null,CN=function e(t){if(t===J8&&Array.isArray(i1))return i1;var r=[];return O.Children.forEach(t,function(n){Lt(n)||(cJ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),i1=r,J8=t,r};function as(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return io(i)}):n=[io(t)],CN(e).forEach(function(i){var s=ss(i,"type.displayName")||ss(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Oi(e,t){var r=as(e,t);return r&&r[0]}var Q8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!rt(n)||n<=0||!rt(i)||i<=0)},_J=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jJ=function(t){return t&&t.type&&kp(t.type)&&_J.indexOf(t.type)>=0},SJ=function(t){return t&&Xj(t)==="object"&&"clipDot"in t},NJ=function(t,r,n,i){var s,o=(s=n1==null?void 0:n1[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!It(t)&&(i&&o.includes(r)||yJ.includes(r))||n&&EN.includes(r)},zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!Pd(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;NJ((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},Jj=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return e5(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!e5(s,o))return!1}return!0},e5=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var n=t.props||{},i=n.children,s=Y8(n,vJ),o=r.props||{},c=o.children,f=Y8(o,bJ);return i&&c?Hu(s,f)&&Jj(i,c):!i&&!c?Hu(s,f):!1}return!1},t5=function(t,r){var n=[],i={};return CN(t).forEach(function(s,o){if(jJ(s))n.push(s);else if(s){var c=io(s.type),f=r[c]||{},h=f.handler,m=f.once;if(h&&(!m||!i[c])){var p=h(s,c,o);n.push(p),i[c]=!0}}}),n},kJ=function(t){var r=t&&t.type;return r&&X8[r]?X8[r]:null},PJ=function(t,r){return CN(r).indexOf(t)},TJ=["children","width","height","viewBox","className","style","title","desc"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}function EJ(e,t){if(e==null)return{};var r=CJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e2(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,c=e.title,f=e.desc,h=EJ(e,TJ),m=i||{width:r,height:n,x:0,y:0},p=Vt("recharts-surface",s);return re.createElement("svg",Qj({},zt(h,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),re.createElement("title",null,c),re.createElement("desc",null,f),t)}var AJ=["children","className"];function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(this,arguments)}function OJ(e,t){if(e==null)return{};var r=MJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dr=re.forwardRef(function(e,t){var r=e.children,n=e.className,i=OJ(e,AJ),s=Vt("recharts-layer",n);return re.createElement("g",t2({className:s},zt(i,!0),{ref:t}),r)}),vc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},s1,r5;function RJ(){if(r5)return s1;r5=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return s1=e,s1}var a1,n5;function IJ(){if(n5)return a1;n5=1;var e=RJ();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return a1=t,a1}var o1,i5;function rD(){if(i5)return o1;i5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+e+i+s+"]");function f(h){return c.test(h)}return o1=f,o1}var l1,s5;function LJ(){if(s5)return l1;s5=1;function e(t){return t.split("")}return l1=e,l1}var c1,a5;function DJ(){if(a5)return c1;a5=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",m="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=h+"?",S="["+s+"]?",_="(?:"+v+"(?:"+[m,p,x].join("|")+")"+S+j+")*",N=S+j+_,k="(?:"+[m+c+"?",c,p,x,o].join("|")+")",C=RegExp(f+"(?="+f+")|"+k+N,"g");function R(A){return A.match(C)||[]}return c1=R,c1}var u1,o5;function $J(){if(o5)return u1;o5=1;var e=LJ(),t=rD(),r=DJ();function n(i){return t(i)?r(i):e(i)}return u1=n,u1}var d1,l5;function zJ(){if(l5)return d1;l5=1;var e=IJ(),t=rD(),r=$J(),n=J4();function i(s){return function(o){o=n(o);var c=t(o)?r(o):void 0,f=c?c[0]:o.charAt(0),h=c?e(c,1).join(""):o.slice(1);return f[s]()+h}}return d1=i,d1}var f1,c5;function WJ(){if(c5)return f1;c5=1;var e=zJ(),t=e("toUpperCase");return f1=t,f1}var BJ=WJ();const Px=rr(BJ);function hr(e){return function(){return e}}const nD=Math.cos,dy=Math.sin,Hs=Math.sqrt,fy=Math.PI,Tx=2*fy,r2=Math.PI,n2=2*r2,tc=1e-6,FJ=n2-tc;function iD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function UJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iD;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class VJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iD:UJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,f=n-t,h=i-r,m=o-t,p=c-r,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>tc)if(!(Math.abs(p*f-h*m)>tc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,j=i-c,S=f*f+h*h,_=v*v+j*j,N=Math.sqrt(S),k=Math.sqrt(x),C=s*Math.tan((r2-Math.acos((S+x-_)/(2*N*k)))/2),R=C/k,A=C/N;Math.abs(R-1)>tc&&this._append`L${t+R*m},${r+R*p}`,this._append`A${s},${s},0,0,${+(p*v>m*j)},${this._x1=t+A*f},${this._y1=r+A*h}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),f=n*Math.sin(i),h=t+c,m=r+f,p=1^o,x=o?i-s:s-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>tc||Math.abs(this._y1-m)>tc)&&this._append`L${h},${m}`,n&&(x<0&&(x=x%n2+n2),x>FJ?this._append`A${n},${n},0,1,${p},${t-c},${r-f}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:x>tc&&this._append`A${n},${n},0,${+(x>=r2)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function AN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VJ(t)}function ON(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sD(e){this._context=e}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ex(e){return new sD(e)}function aD(e){return e[0]}function oD(e){return e[1]}function lD(e,t){var r=hr(!0),n=null,i=Ex,s=null,o=AN(c);e=typeof e=="function"?e:e===void 0?aD:hr(e),t=typeof t=="function"?t:t===void 0?oD:hr(t);function c(f){var h,m=(f=ON(f)).length,p,x=!1,v;for(n==null&&(s=i(v=o())),h=0;h<=m;++h)!(h<m&&r(p=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+e(p,h,f),+t(p,h,f));if(v)return s=null,v+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:hr(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:hr(+f),c):t},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:hr(!!f),c):r},c.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),c):i},c.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),c):n},c}function pg(e,t,r){var n=null,i=hr(!0),s=null,o=Ex,c=null,f=AN(h);e=typeof e=="function"?e:e===void 0?aD:hr(+e),t=typeof t=="function"?t:hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oD:hr(+r);function h(p){var x,v,j,S=(p=ON(p)).length,_,N=!1,k,C=new Array(S),R=new Array(S);for(s==null&&(c=o(k=f())),x=0;x<=S;++x){if(!(x<S&&i(_=p[x],x,p))===N)if(N=!N)v=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=x-1;j>=v;--j)c.point(C[j],R[j]);c.lineEnd(),c.areaEnd()}N&&(C[x]=+e(_,x,p),R[x]=+t(_,x,p),c.point(n?+n(_,x,p):C[x],r?+r(_,x,p):R[x]))}if(k)return c=null,k+""||null}function m(){return lD().defined(i).curve(o).context(s)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:hr(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:hr(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:hr(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:hr(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:hr(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:hr(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:hr(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,s!=null&&(c=o(s)),h):o},h.context=function(p){return arguments.length?(p==null?s=c=null:c=o(s=p),h):s},h}class cD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qJ(e){return new cD(e,!0)}function HJ(e){return new cD(e,!1)}const MN={draw(e,t){const r=Hs(t/fy);e.moveTo(r,0),e.arc(0,0,r,0,Tx)}},KJ={draw(e,t){const r=Hs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uD=Hs(1/3),GJ=uD*2,ZJ={draw(e,t){const r=Hs(t/GJ),n=r*uD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YJ={draw(e,t){const r=Hs(t),n=-r/2;e.rect(n,n,r,r)}},XJ=.8908130915292852,dD=dy(fy/10)/dy(7*fy/10),JJ=dy(Tx/10)*dD,QJ=-nD(Tx/10)*dD,eQ={draw(e,t){const r=Hs(t*XJ),n=JJ*r,i=QJ*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=Tx*s/5,c=nD(o),f=dy(o);e.lineTo(f*r,-c*r),e.lineTo(c*n-f*i,f*n+c*i)}e.closePath()}},h1=Hs(3),tQ={draw(e,t){const r=-Hs(t/(h1*3));e.moveTo(0,r*2),e.lineTo(-h1*r,-r),e.lineTo(h1*r,-r),e.closePath()}},Ji=-.5,Qi=Hs(3)/2,i2=1/Hs(12),rQ=(i2/2+1)*3,nQ={draw(e,t){const r=Hs(t/rQ),n=r/2,i=r*i2,s=n,o=r*i2+r,c=-s,f=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(c,f),e.lineTo(Ji*n-Qi*i,Qi*n+Ji*i),e.lineTo(Ji*s-Qi*o,Qi*s+Ji*o),e.lineTo(Ji*c-Qi*f,Qi*c+Ji*f),e.lineTo(Ji*n+Qi*i,Ji*i-Qi*n),e.lineTo(Ji*s+Qi*o,Ji*o-Qi*s),e.lineTo(Ji*c+Qi*f,Ji*f-Qi*c),e.closePath()}};function iQ(e,t){let r=null,n=AN(i);e=typeof e=="function"?e:hr(e||MN),t=typeof t=="function"?t:hr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:hr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:hr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function hy(){}function py(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fD(e){this._context=e}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sQ(e){return new fD(e)}function hD(e){this._context=e}hD.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aQ(e){return new hD(e)}function pD(e){this._context=e}pD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oQ(e){return new pD(e)}function mD(e){this._context=e}mD.prototype={areaStart:hy,areaEnd:hy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lQ(e){return new mD(e)}function u5(e){return e<0?-1:1}function d5(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(u5(s)+u5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function f5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function p1(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,c=(s-n)/3;e._context.bezierCurveTo(n+c,i+c*t,s-c,o-c*r,s,o)}function my(e){this._context=e}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,f5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,f5(this,r=d5(this,e,t)),r);break;default:p1(this,this._t0,r=d5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gD(e){this._context=new yD(e)}(gD.prototype=Object.create(my.prototype)).point=function(e,t){my.prototype.point.call(this,t,e)};function yD(e){this._context=e}yD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function cQ(e){return new my(e)}function uQ(e){return new gD(e)}function xD(e){this._context=e}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=h5(e),i=h5(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function h5(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function dQ(e){return new xD(e)}function Cx(e,t){this._context=e,this._t=t}Cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fQ(e){return new Cx(e,.5)}function hQ(e){return new Cx(e,0)}function pQ(e){return new Cx(e,1)}function ed(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,c=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function s2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mQ(e,t){return e[t]}function gQ(e){const t=[];return t.key=e,t}function yQ(){var e=hr([]),t=s2,r=ed,n=mQ;function i(s){var o=Array.from(e.apply(this,arguments),gQ),c,f=o.length,h=-1,m;for(const p of s)for(c=0,++h;c<f;++c)(o[c][h]=[0,+n(p,o[c].key,h,s)]).data=p;for(c=0,m=ON(t(o));c<f;++c)o[m[c]].index=c;return r(o,m),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:hr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:hr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?s2:typeof s=="function"?s:hr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ed,i):r},i}function xQ(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ed(e,t)}}function vQ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}ed(e,t)}}function bQ(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,f=0,h=0;c<o;++c){for(var m=e[t[c]],p=m[n][1]||0,x=m[n-1][1]||0,v=(p-x)/2,j=0;j<c;++j){var S=e[t[j]],_=S[n][1]||0,N=S[n-1][1]||0;v+=_-N}f+=p,h+=v*p}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,ed(e,t)}}function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}var wQ=["type","size","sizeType"];function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a2.apply(this,arguments)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return t=jQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=SQ(e,"string");return Oh(t)=="symbol"?t:t+""}function SQ(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NQ(e,t){if(e==null)return{};var r=kQ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vD={symbolCircle:MN,symbolCross:KJ,symbolDiamond:ZJ,symbolSquare:YJ,symbolStar:eQ,symbolTriangle:tQ,symbolWye:nQ},PQ=Math.PI/180,TQ=function(t){var r="symbol".concat(Px(t));return vD[r]||MN},EQ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*PQ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CQ=function(t,r){vD["symbol".concat(Px(t))]=r},RN=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,c=o===void 0?"area":o,f=NQ(t,wQ),h=m5(m5({},f),{},{type:n,size:s,sizeType:c}),m=function(){var _=TQ(n),N=iQ().type(_).size(EQ(s,c,n));return N()},p=h.className,x=h.cx,v=h.cy,j=zt(h,!0);return x===+x&&v===+v&&s===+s?re.createElement("path",a2({},j,{className:Vt("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:m()})):null};RN.registerSymbol=CQ;function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(this,arguments)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wD(n.key),n)}}function RQ(e,t,r){return t&&MQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IQ(e,t,r){return t=gy(t),LQ(e,bD()?Reflect.construct(t,r||[],gy(e).constructor):t.apply(e,r))}function LQ(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DQ(e)}function DQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(e)}function $Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l2(e,t)}function l2(e,t){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l2(e,t)}function Mh(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=zQ(e,"string");return td(t)=="symbol"?t:t+""}function zQ(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var es=32,IN=(function(e){function t(){return OQ(this,t),IQ(this,t,arguments)}return $Q(t,e),RQ(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=es/2,o=es/6,c=es/3,f=n.inactive?i:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:es,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(es,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(es/8,"h").concat(es,"v").concat(es*3/4,"h").concat(-es,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var h=AQ({},n);return delete h.legendIcon,re.cloneElement(n.legendIcon,h)}return re.createElement(RN,{fill:f,cx:s,cy:s,size:es,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,m={x:0,y:0,width:es,height:es},p={display:c==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,j){var S=v.formatter||f,_=Vt(Mh(Mh({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var N=It(v.value)?null:v.value;vc(!It(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=v.inactive?h:v.color;return re.createElement("li",o2({className:_,style:p,key:"legend-item-".concat(j)},uy(n.props,v,j)),re.createElement(e2,{width:o,height:o,viewBox:m,style:x},n.renderIcon(v)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},S?S(N,v,j):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(O.PureComponent);Mh(IN,"displayName","Legend");Mh(IN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var m1,y5;function WQ(){if(y5)return m1;y5=1;var e=Sx();function t(){this.__data__=new e,this.size=0}return m1=t,m1}var g1,x5;function BQ(){if(x5)return g1;x5=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return g1=e,g1}var y1,v5;function FQ(){if(v5)return y1;v5=1;function e(t){return this.__data__.get(t)}return y1=e,y1}var x1,b5;function UQ(){if(b5)return x1;b5=1;function e(t){return this.__data__.has(t)}return x1=e,x1}var v1,w5;function VQ(){if(w5)return v1;w5=1;var e=Sx(),t=NN(),r=kN(),n=200;function i(s,o){var c=this.__data__;if(c instanceof e){var f=c.__data__;if(!t||f.length<n-1)return f.push([s,o]),this.size=++c.size,this;c=this.__data__=new r(f)}return c.set(s,o),this.size=c.size,this}return v1=i,v1}var b1,_5;function _D(){if(_5)return b1;_5=1;var e=Sx(),t=WQ(),r=BQ(),n=FQ(),i=UQ(),s=VQ();function o(c){var f=this.__data__=new e(c);this.size=f.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,b1=o,b1}var w1,j5;function qQ(){if(j5)return w1;j5=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return w1=t,w1}var _1,S5;function HQ(){if(S5)return _1;S5=1;function e(t){return this.__data__.has(t)}return _1=e,_1}var j1,N5;function jD(){if(N5)return j1;N5=1;var e=kN(),t=qQ(),r=HQ();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,j1=n,j1}var S1,k5;function SD(){if(k5)return S1;k5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return S1=e,S1}var N1,P5;function ND(){if(P5)return N1;P5=1;function e(t,r){return t.has(r)}return N1=e,N1}var k1,T5;function kD(){if(T5)return k1;T5=1;var e=jD(),t=SD(),r=ND(),n=1,i=2;function s(o,c,f,h,m,p){var x=f&n,v=o.length,j=c.length;if(v!=j&&!(x&&j>v))return!1;var S=p.get(o),_=p.get(c);if(S&&_)return S==c&&_==o;var N=-1,k=!0,C=f&i?new e:void 0;for(p.set(o,c),p.set(c,o);++N<v;){var R=o[N],A=c[N];if(h)var E=x?h(A,R,N,c,o,p):h(R,A,N,o,c,p);if(E!==void 0){if(E)continue;k=!1;break}if(C){if(!t(c,function($,I){if(!r(C,I)&&(R===$||m(R,$,f,h,p)))return C.push(I)})){k=!1;break}}else if(!(R===A||m(R,A,f,h,p))){k=!1;break}}return p.delete(o),p.delete(c),k}return k1=s,k1}var P1,E5;function KQ(){if(E5)return P1;E5=1;var e=Ta(),t=e.Uint8Array;return P1=t,P1}var T1,C5;function GQ(){if(C5)return T1;C5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return T1=e,T1}var E1,A5;function LN(){if(A5)return E1;A5=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return E1=e,E1}var C1,O5;function ZQ(){if(O5)return C1;O5=1;var e=Np(),t=KQ(),r=SN(),n=kD(),i=GQ(),s=LN(),o=1,c=2,f="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",j="[object Set]",S="[object String]",_="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",C=e?e.prototype:void 0,R=C?C.valueOf:void 0;function A(E,$,I,D,W,B,q){switch(I){case k:if(E.byteLength!=$.byteLength||E.byteOffset!=$.byteOffset)return!1;E=E.buffer,$=$.buffer;case N:return!(E.byteLength!=$.byteLength||!B(new t(E),new t($)));case f:case h:case x:return r(+E,+$);case m:return E.name==$.name&&E.message==$.message;case v:case S:return E==$+"";case p:var J=i;case j:var X=D&o;if(J||(J=s),E.size!=$.size&&!X)return!1;var Z=q.get(E);if(Z)return Z==$;D|=c,q.set(E,$);var F=n(J(E),J($),D,W,B,q);return q.delete(E),F;case _:if(R)return R.call(E)==R.call($)}return!1}return C1=A,C1}var A1,M5;function PD(){if(M5)return A1;M5=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return A1=e,A1}var O1,R5;function YQ(){if(R5)return O1;R5=1;var e=PD(),t=xi();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return O1=r,O1}var M1,I5;function XQ(){if(I5)return M1;I5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var c=t[n];r(c,n,t)&&(o[s++]=c)}return o}return M1=e,M1}var R1,L5;function JQ(){if(L5)return R1;L5=1;function e(){return[]}return R1=e,R1}var I1,D5;function QQ(){if(D5)return I1;D5=1;var e=XQ(),t=JQ(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(c){return n.call(o,c)}))}:t;return I1=s,I1}var L1,$5;function eee(){if($5)return L1;$5=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return L1=e,L1}var D1,z5;function tee(){if(z5)return D1;z5=1;var e=mo(),t=go(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return D1=n,D1}var $1,W5;function DN(){if(W5)return $1;W5=1;var e=tee(),t=go(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return $1=s,$1}var Vf={exports:{}},z1,B5;function ree(){if(B5)return z1;B5=1;function e(){return!1}return z1=e,z1}Vf.exports;var F5;function TD(){return F5||(F5=1,(function(e,t){var r=Ta(),n=ree(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,c=o?r.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||n;e.exports=h})(Vf,Vf.exports)),Vf.exports}var W1,U5;function $N(){if(U5)return W1;U5=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return W1=r,W1}var B1,V5;function zN(){if(V5)return B1;V5=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return B1=t,B1}var F1,q5;function nee(){if(q5)return F1;q5=1;var e=mo(),t=zN(),r=go(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",m="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",j="[object String]",S="[object WeakMap]",_="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",C="[object Float64Array]",R="[object Int8Array]",A="[object Int16Array]",E="[object Int32Array]",$="[object Uint8Array]",I="[object Uint8ClampedArray]",D="[object Uint16Array]",W="[object Uint32Array]",B={};B[k]=B[C]=B[R]=B[A]=B[E]=B[$]=B[I]=B[D]=B[W]=!0,B[n]=B[i]=B[_]=B[s]=B[N]=B[o]=B[c]=B[f]=B[h]=B[m]=B[p]=B[x]=B[v]=B[j]=B[S]=!1;function q(J){return r(J)&&t(J.length)&&!!B[e(J)]}return F1=q,F1}var U1,H5;function ED(){if(H5)return U1;H5=1;function e(t){return function(r){return t(r)}}return U1=e,U1}var qf={exports:{}};qf.exports;var K5;function iee(){return K5||(K5=1,(function(e,t){var r=Z4(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}})();e.exports=c})(qf,qf.exports)),qf.exports}var V1,G5;function CD(){if(G5)return V1;G5=1;var e=nee(),t=ED(),r=iee(),n=r&&r.isTypedArray,i=n?t(n):e;return V1=i,V1}var q1,Z5;function see(){if(Z5)return q1;Z5=1;var e=eee(),t=DN(),r=xi(),n=TD(),i=$N(),s=CD(),o=Object.prototype,c=o.hasOwnProperty;function f(h,m){var p=r(h),x=!p&&t(h),v=!p&&!x&&n(h),j=!p&&!x&&!v&&s(h),S=p||x||v||j,_=S?e(h.length,String):[],N=_.length;for(var k in h)(m||c.call(h,k))&&!(S&&(k=="length"||v&&(k=="offset"||k=="parent")||j&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,N)))&&_.push(k);return _}return q1=f,q1}var H1,Y5;function aee(){if(Y5)return H1;Y5=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return H1=t,H1}var K1,X5;function AD(){if(X5)return K1;X5=1;function e(t,r){return function(n){return t(r(n))}}return K1=e,K1}var G1,J5;function oee(){if(J5)return G1;J5=1;var e=AD(),t=e(Object.keys,Object);return G1=t,G1}var Z1,Q5;function lee(){if(Q5)return Z1;Q5=1;var e=aee(),t=oee(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&o.push(c);return o}return Z1=i,Z1}var Y1,eA;function Ep(){if(eA)return Y1;eA=1;var e=jN(),t=zN();function r(n){return n!=null&&t(n.length)&&!e(n)}return Y1=r,Y1}var X1,tA;function Ax(){if(tA)return X1;tA=1;var e=see(),t=lee(),r=Ep();function n(i){return r(i)?e(i):t(i)}return X1=n,X1}var J1,rA;function cee(){if(rA)return J1;rA=1;var e=YQ(),t=QQ(),r=Ax();function n(i){return e(i,r,t)}return J1=n,J1}var Q1,nA;function uee(){if(nA)return Q1;nA=1;var e=cee(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,c,f,h,m){var p=c&t,x=e(s),v=x.length,j=e(o),S=j.length;if(v!=S&&!p)return!1;for(var _=v;_--;){var N=x[_];if(!(p?N in o:n.call(o,N)))return!1}var k=m.get(s),C=m.get(o);if(k&&C)return k==o&&C==s;var R=!0;m.set(s,o),m.set(o,s);for(var A=p;++_<v;){N=x[_];var E=s[N],$=o[N];if(f)var I=p?f($,E,N,o,s,m):f(E,$,N,s,o,m);if(!(I===void 0?E===$||h(E,$,c,f,m):I)){R=!1;break}A||(A=N=="constructor")}if(R&&!A){var D=s.constructor,W=o.constructor;D!=W&&"constructor"in s&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof W=="function"&&W instanceof W)&&(R=!1)}return m.delete(s),m.delete(o),R}return Q1=i,Q1}var ew,iA;function dee(){if(iA)return ew;iA=1;var e=Tc(),t=Ta(),r=e(t,"DataView");return ew=r,ew}var tw,sA;function fee(){if(sA)return tw;sA=1;var e=Tc(),t=Ta(),r=e(t,"Promise");return tw=r,tw}var rw,aA;function OD(){if(aA)return rw;aA=1;var e=Tc(),t=Ta(),r=e(t,"Set");return rw=r,rw}var nw,oA;function hee(){if(oA)return nw;oA=1;var e=Tc(),t=Ta(),r=e(t,"WeakMap");return nw=r,nw}var iw,lA;function pee(){if(lA)return iw;lA=1;var e=dee(),t=NN(),r=fee(),n=OD(),i=hee(),s=mo(),o=Y4(),c="[object Map]",f="[object Object]",h="[object Promise]",m="[object Set]",p="[object WeakMap]",x="[object DataView]",v=o(e),j=o(t),S=o(r),_=o(n),N=o(i),k=s;return(e&&k(new e(new ArrayBuffer(1)))!=x||t&&k(new t)!=c||r&&k(r.resolve())!=h||n&&k(new n)!=m||i&&k(new i)!=p)&&(k=function(C){var R=s(C),A=R==f?C.constructor:void 0,E=A?o(A):"";if(E)switch(E){case v:return x;case j:return c;case S:return h;case _:return m;case N:return p}return R}),iw=k,iw}var sw,cA;function mee(){if(cA)return sw;cA=1;var e=_D(),t=kD(),r=ZQ(),n=uee(),i=pee(),s=xi(),o=TD(),c=CD(),f=1,h="[object Arguments]",m="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function j(S,_,N,k,C,R){var A=s(S),E=s(_),$=A?m:i(S),I=E?m:i(_);$=$==h?p:$,I=I==h?p:I;var D=$==p,W=I==p,B=$==I;if(B&&o(S)){if(!o(_))return!1;A=!0,D=!1}if(B&&!D)return R||(R=new e),A||c(S)?t(S,_,N,k,C,R):r(S,_,$,N,k,C,R);if(!(N&f)){var q=D&&v.call(S,"__wrapped__"),J=W&&v.call(_,"__wrapped__");if(q||J){var X=q?S.value():S,Z=J?_.value():_;return R||(R=new e),C(X,Z,N,k,R)}}return B?(R||(R=new e),n(S,_,N,k,C,R)):!1}return sw=j,sw}var aw,uA;function WN(){if(uA)return aw;uA=1;var e=mee(),t=go();function r(n,i,s,o,c){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,c)}return aw=r,aw}var ow,dA;function gee(){if(dA)return ow;dA=1;var e=_D(),t=WN(),r=1,n=2;function i(s,o,c,f){var h=c.length,m=h,p=!f;if(s==null)return!m;for(s=Object(s);h--;){var x=c[h];if(p&&x[2]?x[1]!==s[x[0]]:!(x[0]in s))return!1}for(;++h<m;){x=c[h];var v=x[0],j=s[v],S=x[1];if(p&&x[2]){if(j===void 0&&!(v in s))return!1}else{var _=new e;if(f)var N=f(j,S,v,s,o,_);if(!(N===void 0?t(S,j,r|n,f,_):N))return!1}}return!0}return ow=i,ow}var lw,fA;function MD(){if(fA)return lw;fA=1;var e=bl();function t(r){return r===r&&!e(r)}return lw=t,lw}var cw,hA;function yee(){if(hA)return cw;hA=1;var e=MD(),t=Ax();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],c=n[o];i[s]=[o,c,e(c)]}return i}return cw=r,cw}var uw,pA;function RD(){if(pA)return uw;pA=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return uw=e,uw}var dw,mA;function xee(){if(mA)return dw;mA=1;var e=gee(),t=yee(),r=RD();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return dw=n,dw}var fw,gA;function vee(){if(gA)return fw;gA=1;function e(t,r){return t!=null&&r in Object(t)}return fw=e,fw}var hw,yA;function bee(){if(yA)return hw;yA=1;var e=Q4(),t=DN(),r=xi(),n=$N(),i=zN(),s=kx();function o(c,f,h){f=e(f,c);for(var m=-1,p=f.length,x=!1;++m<p;){var v=s(f[m]);if(!(x=c!=null&&h(c,v)))break;c=c[v]}return x||++m!=p?x:(p=c==null?0:c.length,!!p&&i(p)&&n(v,p)&&(r(c)||t(c)))}return hw=o,hw}var pw,xA;function wee(){if(xA)return pw;xA=1;var e=vee(),t=bee();function r(n,i){return n!=null&&t(n,i,e)}return pw=r,pw}var mw,vA;function _ee(){if(vA)return mw;vA=1;var e=WN(),t=eD(),r=wee(),n=_N(),i=MD(),s=RD(),o=kx(),c=1,f=2;function h(m,p){return n(m)&&i(p)?s(o(m),p):function(x){var v=t(x,m);return v===void 0&&v===p?r(x,m):e(p,v,c|f)}}return mw=h,mw}var gw,bA;function Td(){if(bA)return gw;bA=1;function e(t){return t}return gw=e,gw}var yw,wA;function jee(){if(wA)return yw;wA=1;function e(t){return function(r){return r==null?void 0:r[t]}}return yw=e,yw}var xw,_A;function See(){if(_A)return xw;_A=1;var e=TN();function t(r){return function(n){return e(n,r)}}return xw=t,xw}var vw,jA;function Nee(){if(jA)return vw;jA=1;var e=jee(),t=See(),r=_N(),n=kx();function i(s){return r(s)?e(n(s)):t(s)}return vw=i,vw}var bw,SA;function wl(){if(SA)return bw;SA=1;var e=xee(),t=_ee(),r=Td(),n=xi(),i=Nee();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return bw=s,bw}var ww,NA;function ID(){if(NA)return ww;NA=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return ww=e,ww}var _w,kA;function kee(){if(kA)return _w;kA=1;function e(t){return t!==t}return _w=e,_w}var jw,PA;function Pee(){if(PA)return jw;PA=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return jw=e,jw}var Sw,TA;function Tee(){if(TA)return Sw;TA=1;var e=ID(),t=kee(),r=Pee();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return Sw=n,Sw}var Nw,EA;function Eee(){if(EA)return Nw;EA=1;var e=Tee();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Nw=t,Nw}var kw,CA;function Cee(){if(CA)return kw;CA=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return kw=e,kw}var Pw,AA;function Aee(){if(AA)return Pw;AA=1;function e(){}return Pw=e,Pw}var Tw,OA;function Oee(){if(OA)return Tw;OA=1;var e=OD(),t=Aee(),r=LN(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Tw=i,Tw}var Ew,MA;function Mee(){if(MA)return Ew;MA=1;var e=jD(),t=Eee(),r=Cee(),n=ND(),i=Oee(),s=LN(),o=200;function c(f,h,m){var p=-1,x=t,v=f.length,j=!0,S=[],_=S;if(m)j=!1,x=r;else if(v>=o){var N=h?null:i(f);if(N)return s(N);j=!1,x=n,_=new e}else _=h?[]:S;e:for(;++p<v;){var k=f[p],C=h?h(k):k;if(k=m||k!==0?k:0,j&&C===C){for(var R=_.length;R--;)if(_[R]===C)continue e;h&&_.push(C),S.push(k)}else x(_,C,m)||(_!==S&&_.push(C),S.push(k))}return S}return Ew=c,Ew}var Cw,RA;function Ree(){if(RA)return Cw;RA=1;var e=wl(),t=Mee();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Cw=r,Cw}var Iee=Ree();const IA=rr(Iee);function LD(e,t,r){return t===!0?IA(e,r):It(t)?IA(e,t):e}function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}var Lee=["ref"];function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){Ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$D(n.key),n)}}function $ee(e,t,r){return t&&DA(e.prototype,t),r&&DA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zee(e,t,r){return t=yy(t),Wee(e,DD()?Reflect.construct(t,r||[],yy(e).constructor):t.apply(e,r))}function Wee(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bee(e)}function Bee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(e)}function Fee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c2(e,t)}function c2(e,t){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c2(e,t)}function Ox(e,t,r){return t=$D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=Uee(e,"string");return rd(t)=="symbol"?t:t+""}function Uee(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vee(e,t){if(e==null)return{};var r=qee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hee(e){return e.value}function Kee(e,t){if(re.isValidElement(e))return re.cloneElement(e,t);if(typeof e=="function")return re.createElement(e,t);t.ref;var r=Vee(t,Lee);return re.createElement(IN,r)}var $A=1,Ku=(function(e){function t(){var r;Dee(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=zee(this,t,[].concat(i)),Ox(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fee(t,e),$ee(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$A||Math.abs(i.height-this.lastBoundingBox.height)>$A)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,m=i.chartHeight,p,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((h||0)-v.width)/2}}else p=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var j=this.getBBoxSnapshot();x={top:((m||0)-j.height)/2}}else x=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Za(Za({},p),x)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,m=i.payload,p=Za(Za({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return re.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Kee(s,Za(Za({},this.props),{},{payload:LD(m,h,Hee)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Za(Za({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&rt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(O.PureComponent);Ox(Ku,"displayName","Legend");Ox(Ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Aw,zA;function Gee(){if(zA)return Aw;zA=1;var e=Np(),t=DN(),r=xi(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Aw=i,Aw}var Ow,WA;function zD(){if(WA)return Ow;WA=1;var e=PD(),t=Gee();function r(n,i,s,o,c){var f=-1,h=n.length;for(s||(s=t),c||(c=[]);++f<h;){var m=n[f];i>0&&s(m)?i>1?r(m,i-1,s,o,c):e(c,m):o||(c[c.length]=m)}return c}return Ow=r,Ow}var Mw,BA;function Zee(){if(BA)return Mw;BA=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),c=i(r),f=c.length;f--;){var h=c[t?f:++s];if(n(o[h],h,o)===!1)break}return r}}return Mw=e,Mw}var Rw,FA;function Yee(){if(FA)return Rw;FA=1;var e=Zee(),t=e();return Rw=t,Rw}var Iw,UA;function WD(){if(UA)return Iw;UA=1;var e=Yee(),t=Ax();function r(n,i){return n&&e(n,i,t)}return Iw=r,Iw}var Lw,VA;function Xee(){if(VA)return Lw;VA=1;var e=Ep();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,c=n?o:-1,f=Object(i);(n?c--:++c<o)&&s(f[c],c,f)!==!1;);return i}}return Lw=t,Lw}var Dw,qA;function BN(){if(qA)return Dw;qA=1;var e=WD(),t=Xee(),r=t(e);return Dw=r,Dw}var $w,HA;function BD(){if(HA)return $w;HA=1;var e=BN(),t=Ep();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(c,f,h){o[++s]=i(c,f,h)}),o}return $w=r,$w}var zw,KA;function Jee(){if(KA)return zw;KA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return zw=e,zw}var Ww,GA;function Qee(){if(GA)return Ww;GA=1;var e=kd();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,c=e(r),f=n!==void 0,h=n===null,m=n===n,p=e(n);if(!h&&!p&&!c&&r>n||c&&f&&m&&!h&&!p||s&&f&&m||!i&&m||!o)return 1;if(!s&&!c&&!p&&r<n||p&&i&&o&&!s&&!c||h&&i&&o||!f&&o||!m)return-1}return 0}return Ww=t,Ww}var Bw,ZA;function ete(){if(ZA)return Bw;ZA=1;var e=Qee();function t(r,n,i){for(var s=-1,o=r.criteria,c=n.criteria,f=o.length,h=i.length;++s<f;){var m=e(o[s],c[s]);if(m){if(s>=h)return m;var p=i[s];return m*(p=="desc"?-1:1)}}return r.index-n.index}return Bw=t,Bw}var Fw,YA;function tte(){if(YA)return Fw;YA=1;var e=PN(),t=TN(),r=wl(),n=BD(),i=Jee(),s=ED(),o=ete(),c=Td(),f=xi();function h(m,p,x){p.length?p=e(p,function(S){return f(S)?function(_){return t(_,S.length===1?S[0]:S)}:S}):p=[c];var v=-1;p=e(p,s(r));var j=n(m,function(S,_,N){var k=e(p,function(C){return C(S)});return{criteria:k,index:++v,value:S}});return i(j,function(S,_){return o(S,_,x)})}return Fw=h,Fw}var Uw,XA;function rte(){if(XA)return Uw;XA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Uw=e,Uw}var Vw,JA;function nte(){if(JA)return Vw;JA=1;var e=rte(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,f=t(o.length-i,0),h=Array(f);++c<f;)h[c]=o[i+c];c=-1;for(var m=Array(i+1);++c<i;)m[c]=o[c];return m[i]=s(h),e(n,this,m)}}return Vw=r,Vw}var qw,QA;function ite(){if(QA)return qw;QA=1;function e(t){return function(){return t}}return qw=e,qw}var Hw,eO;function FD(){if(eO)return Hw;eO=1;var e=Tc(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Hw=t,Hw}var Kw,tO;function ste(){if(tO)return Kw;tO=1;var e=ite(),t=FD(),r=Td(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Kw=n,Kw}var Gw,rO;function ate(){if(rO)return Gw;rO=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var c=r(),f=t-(c-o);if(o=c,f>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Gw=n,Gw}var Zw,nO;function ote(){if(nO)return Zw;nO=1;var e=ste(),t=ate(),r=t(e);return Zw=r,Zw}var Yw,iO;function lte(){if(iO)return Yw;iO=1;var e=Td(),t=nte(),r=ote();function n(i,s){return r(t(i,s,e),i+"")}return Yw=n,Yw}var Xw,sO;function Mx(){if(sO)return Xw;sO=1;var e=SN(),t=Ep(),r=$N(),n=bl();function i(s,o,c){if(!n(c))return!1;var f=typeof o;return(f=="number"?t(c)&&r(o,c.length):f=="string"&&o in c)?e(c[o],s):!1}return Xw=i,Xw}var Jw,aO;function cte(){if(aO)return Jw;aO=1;var e=zD(),t=tte(),r=lte(),n=Mx(),i=r(function(s,o){if(s==null)return[];var c=o.length;return c>1&&n(s,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return Jw=i,Jw}var ute=cte();const FN=rr(ute);function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u2.apply(this,arguments)}function dte(e,t){return mte(e)||pte(e,t)||hte(e,t)||fte()}function fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function mte(e){if(Array.isArray(e))return e}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return t=yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=xte(e,"string");return Rh(t)=="symbol"?t:t+""}function xte(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var bte=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,c=o===void 0?{}:o,f=t.labelStyle,h=f===void 0?{}:f,m=t.payload,p=t.formatter,x=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,S=t.label,_=t.labelFormatter,N=t.accessibilityLayer,k=N===void 0?!1:N,C=function(){if(m&&m.length){var q={padding:0,margin:0},J=(x?FN(m,x):m).map(function(X,Z){if(X.type==="none")return null;var F=Qw({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},c),K=X.formatter||p||vte,U=X.value,ie=X.name,se=U,G=ie;if(K&&se!=null&&G!=null){var Y=K(U,ie,X,Z,m);if(Array.isArray(Y)){var oe=dte(Y,2);se=oe[0],G=oe[1]}else se=Y}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:F},cn(G)?re.createElement("span",{className:"recharts-tooltip-item-name"},G):null,cn(G)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},se),re.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:q},J)}return null},R=Qw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=Qw({margin:0},h),E=!Lt(S),$=E?S:"",I=Vt("recharts-default-tooltip",v),D=Vt("recharts-tooltip-label",j);E&&_&&m!==void 0&&m!==null&&($=_(S,m));var W=k?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",u2({className:I,style:R},W),re.createElement("p",{className:D,style:A},re.isValidElement($)?$:"".concat($)),C())};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function mg(e,t,r){return t=wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=_te(e,"string");return Ih(t)=="symbol"?t:t+""}function _te(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf="recharts-tooltip-wrapper",jte={visibility:"hidden"};function Ste(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Vt(Tf,mg(mg(mg(mg({},"".concat(Tf,"-right"),rt(r)&&t&&rt(t.x)&&r>=t.x),"".concat(Tf,"-left"),rt(r)&&t&&rt(t.x)&&r<t.x),"".concat(Tf,"-bottom"),rt(n)&&t&&rt(t.y)&&n>=t.y),"".concat(Tf,"-top"),rt(n)&&t&&rt(t.y)&&n<t.y))}function cO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,c=e.tooltipDimension,f=e.viewBox,h=e.viewBoxDimension;if(s&&rt(s[n]))return s[n];var m=r[n]-c-i,p=r[n]+i;if(t[n])return o[n]?m:p;if(o[n]){var x=m,v=f[n];return x<v?Math.max(p,f[n]):Math.max(m,f[n])}var j=p+c,S=f[n]+h;return j>S?Math.max(m,f[n]):Math.max(p,f[n])}function Nte(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kte(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,f=e.viewBox,h,m,p;return o.height>0&&o.width>0&&r?(m=cO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),p=cO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),h=Nte({translateX:m,translateY:p,useTranslate3d:c})):h=jte,{cssProperties:h,cssClasses:Ste({translateX:m,translateY:p,coordinate:r})}}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){f2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VD(n.key),n)}}function Ete(e,t,r){return t&&Tte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cte(e,t,r){return t=xy(t),Ate(e,UD()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function Ate(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(e)}function Ote(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function Mte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d2(e,t)}function d2(e,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d2(e,t)}function f2(e,t,r){return t=VD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VD(e){var t=Rte(e,"string");return nd(t)=="symbol"?t:t+""}function Rte(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fO=1,Ite=(function(e){function t(){var r;Pte(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Cte(this,t,[].concat(i)),f2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),f2(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,f,h,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&h!==void 0?h:0}})}}),r}return Mte(t,e),Ete(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fO||Math.abs(n.height-this.state.lastBoundingBox.height)>fO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,m=i.coordinate,p=i.hasPayload,x=i.isAnimationActive,v=i.offset,j=i.position,S=i.reverseDirection,_=i.useTranslate3d,N=i.viewBox,k=i.wrapperStyle,C=kte({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:v,position:j,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:N}),R=C.cssClasses,A=C.cssProperties,E=dO(dO({transition:x&&s?"transform ".concat(c,"ms ").concat(f):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return re.createElement("div",{tabIndex:-1,className:R,style:E,ref:function(I){n.wrapperNode=I}},h)}}])})(O.PureComponent),Lte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ed={isSsr:Lte()};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){UN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HD(n.key),n)}}function zte(e,t,r){return t&&$te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wte(e,t,r){return t=vy(t),Bte(e,qD()?Reflect.construct(t,r||[],vy(e).constructor):t.apply(e,r))}function Bte(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fte(e)}function Fte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(e)}function Ute(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h2(e,t)}function h2(e,t){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h2(e,t)}function UN(e,t,r){return t=HD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=Vte(e,"string");return id(t)=="symbol"?t:t+""}function Vte(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qte(e){return e.dataKey}function Hte(e,t){return re.isValidElement(e)?re.cloneElement(e,t):typeof e=="function"?re.createElement(e,t):re.createElement(bte,t)}var Ja=(function(e){function t(){return Dte(this,t),Wte(this,t,arguments)}return Ute(t,e),zte(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,m=i.coordinate,p=i.filterNull,x=i.isAnimationActive,v=i.offset,j=i.payload,S=i.payloadUniqBy,_=i.position,N=i.reverseDirection,k=i.useTranslate3d,C=i.viewBox,R=i.wrapperStyle,A=j??[];p&&A.length&&(A=LD(j.filter(function($){return $.value!=null&&($.hide!==!0||n.props.includeHidden)}),S,qte));var E=A.length>0;return re.createElement(Ite,{allowEscapeViewBox:o,animationDuration:c,animationEasing:f,isAnimationActive:x,active:s,coordinate:m,hasPayload:E,offset:v,position:_,reverseDirection:N,useTranslate3d:k,viewBox:C,wrapperStyle:R},Hte(h,pO(pO({},this.props),{},{payload:A})))}}])})(O.PureComponent);UN(Ja,"displayName","Tooltip");UN(Ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ed.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var e_,mO;function Kte(){if(mO)return e_;mO=1;var e=Ta(),t=function(){return e.Date.now()};return e_=t,e_}var t_,gO;function Gte(){if(gO)return t_;gO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return t_=t,t_}var r_,yO;function Zte(){if(yO)return r_;yO=1;var e=Gte(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return r_=r,r_}var n_,xO;function KD(){if(xO)return n_;xO=1;var e=Zte(),t=bl(),r=kd(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(r(h))return n;if(t(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=t(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=s.test(h);return p||o.test(h)?c(h.slice(2),p?2:8):i.test(h)?n:+h}return n_=f,n_}var i_,vO;function Yte(){if(vO)return i_;vO=1;var e=bl(),t=Kte(),r=KD(),n="Expected a function",i=Math.max,s=Math.min;function o(c,f,h){var m,p,x,v,j,S,_=0,N=!1,k=!1,C=!0;if(typeof c!="function")throw new TypeError(n);f=r(f)||0,e(h)&&(N=!!h.leading,k="maxWait"in h,x=k?i(r(h.maxWait)||0,f):x,C="trailing"in h?!!h.trailing:C);function R(J){var X=m,Z=p;return m=p=void 0,_=J,v=c.apply(Z,X),v}function A(J){return _=J,j=setTimeout(I,f),N?R(J):v}function E(J){var X=J-S,Z=J-_,F=f-X;return k?s(F,x-Z):F}function $(J){var X=J-S,Z=J-_;return S===void 0||X>=f||X<0||k&&Z>=x}function I(){var J=t();if($(J))return D(J);j=setTimeout(I,E(J))}function D(J){return j=void 0,C&&m?R(J):(m=p=void 0,v)}function W(){j!==void 0&&clearTimeout(j),_=0,m=S=p=j=void 0}function B(){return j===void 0?v:D(t())}function q(){var J=t(),X=$(J);if(m=arguments,p=this,S=J,X){if(j===void 0)return A(S);if(k)return clearTimeout(j),j=setTimeout(I,f),R(S)}return j===void 0&&(j=setTimeout(I,f)),v}return q.cancel=W,q.flush=B,q}return i_=o,i_}var s_,bO;function Xte(){if(bO)return s_;bO=1;var e=Yte(),t=bl(),r="Expected a function";function n(i,s,o){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(c="leading"in o?!!o.leading:c,f="trailing"in o?!!o.trailing:f),e(i,s,{leading:c,maxWait:s,trailing:f})}return s_=n,s_}var Jte=Xte();const GD=rr(Jte);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){Qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qte(e,t,r){return t=ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return Lh(t)=="symbol"?t:t+""}function tre(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rre(e,t){return are(e)||sre(e,t)||ire(e,t)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(e,t){if(e){if(typeof e=="string")return _O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _O(e,t)}}function _O(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function are(e){if(Array.isArray(e))return e}var ore=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,c=e.height,f=c===void 0?"100%":c,h=e.minWidth,m=h===void 0?0:h,p=e.minHeight,x=e.maxHeight,v=e.children,j=e.debounce,S=j===void 0?0:j,_=e.id,N=e.className,k=e.onResize,C=e.style,R=C===void 0?{}:C,A=O.useRef(null),E=O.useRef();E.current=k,O.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var $=O.useState({containerWidth:i.width,containerHeight:i.height}),I=rre($,2),D=I[0],W=I[1],B=O.useCallback(function(J,X){W(function(Z){var F=Math.round(J),K=Math.round(X);return Z.containerWidth===F&&Z.containerHeight===K?Z:{containerWidth:F,containerHeight:K}})},[]);O.useEffect(function(){var J=function(ie){var se,G=ie[0].contentRect,Y=G.width,oe=G.height;B(Y,oe),(se=E.current)===null||se===void 0||se.call(E,Y,oe)};S>0&&(J=GD(J,S,{trailing:!0,leading:!1}));var X=new ResizeObserver(J),Z=A.current.getBoundingClientRect(),F=Z.width,K=Z.height;return B(F,K),X.observe(A.current),function(){X.disconnect()}},[B,S]);var q=O.useMemo(function(){var J=D.containerWidth,X=D.containerHeight;if(J<0||X<0)return null;vc(hc(o)||hc(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),vc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=hc(o)?J:o,F=hc(f)?X:f;r&&r>0&&(Z?F=Z/r:F&&(Z=F*r),x&&F>x&&(F=x)),vc(Z>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,F,o,f,m,p,r);var K=!Array.isArray(v)&&io(v.type).endsWith("Chart");return re.Children.map(v,function(U){return re.isValidElement(U)?O.cloneElement(U,gg({width:Z,height:F},K?{style:gg({height:"100%",width:"100%",maxHeight:F,maxWidth:Z},U.props.style)}:{})):U})},[r,v,f,x,p,m,D,o]);return re.createElement("div",{id:_?"".concat(_):void 0,className:Vt("recharts-responsive-container",N),style:gg(gg({},R),{},{width:o,height:f,minWidth:m,minHeight:p,maxHeight:x}),ref:A},q)}),ZD=function(t){return null};ZD.displayName="Cell";function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lre(e,t,r){return t=cre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=ure(e,"string");return Dh(t)=="symbol"?t:t+""}function ure(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ju={widthCache:{},cacheCount:0},dre=2e3,fre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SO="recharts_measurement_span";function hre(e){var t=p2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ah=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ed.isSsr)return{width:0,height:0};var n=hre(r),i=JSON.stringify({text:t,copyStyle:n});if(ju.widthCache[i])return ju.widthCache[i];try{var s=document.getElementById(SO);s||(s=document.createElement("span"),s.setAttribute("id",SO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=p2(p2({},fre),n);Object.assign(s.style,o),s.textContent="".concat(t);var c=s.getBoundingClientRect(),f={width:c.width,height:c.height};return ju.widthCache[i]=f,++ju.cacheCount>dre&&(ju.cacheCount=0,ju.widthCache={}),f}catch{return{width:0,height:0}}},pre=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function by(e,t){return xre(e)||yre(e,t)||gre(e,t)||mre()}function mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function xre(e){if(Array.isArray(e))return e}function vre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wre(n.key),n)}}function bre(e,t,r){return t&&kO(e.prototype,t),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wre(e){var t=_re(e,"string");return $h(t)=="symbol"?t:t+""}function _re(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nre=Object.keys(YD),zu="NaN";function kre(e,t){return e*YD[t]}var yg=(function(){function e(t,r){vre(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!jre.test(r)&&(this.num=NaN,this.unit=""),Nre.includes(r)&&(this.num=kre(t,r),this.unit="px")}return bre(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Sre.exec(r))!==null&&n!==void 0?n:[],s=by(i,3),o=s[1],c=s[2];return new e(parseFloat(o),c??"")}}])})();function XD(e){if(e.includes(zu))return zu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=PO.exec(t))!==null&&r!==void 0?r:[],i=by(n,4),s=i[1],o=i[2],c=i[3],f=yg.parse(s??""),h=yg.parse(c??""),m=o==="*"?f.multiply(h):f.divide(h);if(m.isNaN())return zu;t=t.replace(PO,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,x=(p=TO.exec(t))!==null&&p!==void 0?p:[],v=by(x,4),j=v[1],S=v[2],_=v[3],N=yg.parse(j??""),k=yg.parse(_??""),C=S==="+"?N.add(k):N.subtract(k);if(C.isNaN())return zu;t=t.replace(TO,C.toString())}return t}var EO=/\(([^()]*)\)/;function Pre(e){for(var t=e;t.includes("(");){var r=EO.exec(t),n=by(r,2),i=n[1];t=t.replace(EO,XD(i))}return t}function Tre(e){var t=e.replace(/\s+/g,"");return t=Pre(t),t=XD(t),t}function Ere(e){try{return Tre(e)}catch{return zu}}function a_(e){var t=Ere(e.slice(5,-1));return t===zu?"":t}var Cre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Are=["dx","dy","angle","className","breakAll"];function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(this,arguments)}function CO(e,t){if(e==null)return{};var r=Ore(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ore(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AO(e,t){return Lre(e)||Ire(e,t)||Rre(e,t)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(e,t){if(e){if(typeof e=="string")return OO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(e,t)}}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ire(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Lre(e){if(Array.isArray(e))return e}var JD=/[ \f\n\r\t\v\u2028\u2029]+/,QD=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(JD));var o=s.map(function(f){return{word:f,width:ah(f,i).width}}),c=n?0:ah("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Dre=function(t,r,n,i,s){var o=t.maxLines,c=t.children,f=t.style,h=t.breakAll,m=rt(o),p=c,x=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(F,K){var U=K.word,ie=K.width,se=F[F.length-1];if(se&&(i==null||s||se.width+ie+n<Number(i)))se.words.push(U),se.width+=ie+n;else{var G={words:[U],width:ie};F.push(G)}return F},[])},v=x(r),j=function(Z){return Z.reduce(function(F,K){return F.width>K.width?F:K})};if(!m)return v;for(var S="",_=function(Z){var F=p.slice(0,Z),K=QD({breakAll:h,style:f,children:F+S}).wordsWithComputedWidth,U=x(K),ie=U.length>o||j(U).width>Number(i);return[ie,U]},N=0,k=p.length-1,C=0,R;N<=k&&C<=p.length-1;){var A=Math.floor((N+k)/2),E=A-1,$=_(E),I=AO($,2),D=I[0],W=I[1],B=_(A),q=AO(B,1),J=q[0];if(!D&&!J&&(N=A+1),D&&J&&(k=A-1),!D&&J){R=W;break}C++}return R||v},MO=function(t){var r=Lt(t)?[]:t.toString().split(JD);return[{words:r}]},$re=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!Ed.isSsr){var f,h,m=QD({breakAll:o,children:i,style:s});if(m){var p=m.wordsWithComputedWidth,x=m.spaceWidth;f=p,h=x}else return MO(i);return Dre({breakAll:o,children:i,maxLines:c,style:s},f,h,r,n)}return MO(i)},RO="#808080",wy=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,c=o===void 0?"1em":o,f=t.capHeight,h=f===void 0?"0.71em":f,m=t.scaleToFit,p=m===void 0?!1:m,x=t.textAnchor,v=x===void 0?"start":x,j=t.verticalAnchor,S=j===void 0?"end":j,_=t.fill,N=_===void 0?RO:_,k=CO(t,Cre),C=O.useMemo(function(){return $re({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),R=k.dx,A=k.dy,E=k.angle,$=k.className,I=k.breakAll,D=CO(k,Are);if(!cn(n)||!cn(s))return null;var W=n+(rt(R)?R:0),B=s+(rt(A)?A:0),q;switch(S){case"start":q=a_("calc(".concat(h,")"));break;case"middle":q=a_("calc(".concat((C.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:q=a_("calc(".concat(C.length-1," * -").concat(c,")"));break}var J=[];if(p){var X=C[0].width,Z=k.width;J.push("scale(".concat((rt(Z)?Z/X:1)/X,")"))}return E&&J.push("rotate(".concat(E,", ").concat(W,", ").concat(B,")")),J.length&&(D.transform=J.join(" ")),re.createElement("text",m2({},zt(D,!0),{x:W,y:B,className:Vt("recharts-text",$),textAnchor:v,fill:N.includes("url")?RO:N}),C.map(function(F,K){var U=F.words.join(I?"":" ");return re.createElement("tspan",{x:W,dy:K===0?q:c,key:"".concat(U,"-").concat(K)},U)}))};function fl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VN(e){let t,r,n;e.length!==2?(t=fl,r=(c,f)=>fl(e(c),f),n=(c,f)=>e(c)-f):(t=e===fl||e===zre?e:Wre,r=e,n=e);function i(c,f,h=0,m=c.length){if(h<m){if(t(f,f)!==0)return m;do{const p=h+m>>>1;r(c[p],f)<0?h=p+1:m=p}while(h<m)}return h}function s(c,f,h=0,m=c.length){if(h<m){if(t(f,f)!==0)return m;do{const p=h+m>>>1;r(c[p],f)<=0?h=p+1:m=p}while(h<m)}return h}function o(c,f,h=0,m=c.length){const p=i(c,f,h,m-1);return p>h&&n(c[p-1],f)>-n(c[p],f)?p-1:p}return{left:i,center:o,right:s}}function Wre(){return 0}function e6(e){return e===null?NaN:+e}function*Bre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Fre=VN(fl),Cp=Fre.right;VN(e6).center;class IO extends Map{constructor(t,r=qre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(LO(this,t))}has(t){return super.has(LO(this,t))}set(t,r){return super.set(Ure(this,t),r)}delete(t){return super.delete(Vre(this,t))}}function LO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ure({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Vre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Hre(e=fl){if(e===fl)return t6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function t6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kre=Math.sqrt(50),Gre=Math.sqrt(10),Zre=Math.sqrt(2);function _y(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Kre?10:s>=Gre?5:s>=Zre?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(e*h),f=Math.round(t*h),c/h<e&&++c,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*o,c=Math.round(e/h),f=Math.round(t/h),c*h<e&&++c,f*h>t&&--f),f<c&&.5<=r&&r<2?_y(e,t,r*2):[c,f,h]}function g2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?_y(t,e,r):_y(e,t,r);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)f[h]=(s-h)/-o;else for(let h=0;h<c;++h)f[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)f[h]=(i+h)/-o;else for(let h=0;h<c;++h)f[h]=(i+h)*o;return f}function y2(e,t,r){return t=+t,e=+e,r=+r,_y(e,t,r)[2]}function x2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?y2(t,e,r):y2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function DO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $O(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function r6(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?t6:Hre(i);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,m=Math.log(f),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(f-p)/f)*(h-f/2<0?-1:1),v=Math.max(r,Math.floor(t-h*p/f+x)),j=Math.min(n,Math.floor(t+(f-h)*p/f+x));r6(e,t,v,j,i)}const s=e[t];let o=r,c=n;for(Ef(e,r,t),i(e[n],s)>0&&Ef(e,r,n);o<c;){for(Ef(e,o,c),++o,--c;i(e[o],s)<0;)++o;for(;i(e[c],s)>0;)--c}i(e[r],s)===0?Ef(e,r,c):(++c,Ef(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Ef(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Yre(e,t,r){if(e=Float64Array.from(Bre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $O(e);if(t>=1)return DO(e);var n,i=(n-1)*t,s=Math.floor(i),o=DO(r6(e,s).subarray(0,s+1)),c=$O(e.subarray(s+1));return o+(c-o)*(i-s)}}function Xre(e,t,r=e6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),c=+r(e[s+1],s+1,e);return o+(c-o)*(i-s)}}function Jre(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const v2=Symbol("implicit");function qN(){var e=new IO,t=[],r=[],n=v2;function i(s){let o=e.get(s);if(o===void 0){if(n!==v2)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new IO;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qN(t,r).unknown(n)},cs.apply(i,arguments),i}function zh(){var e=qN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,c=!1,f=0,h=0,m=.5;delete e.unknown;function p(){var x=t().length,v=i<n,j=v?i:n,S=v?n:i;s=(S-j)/Math.max(1,x-f+h*2),c&&(s=Math.floor(s)),j+=(S-j-s*(x-f))*m,o=s*(1-f),c&&(j=Math.round(j),o=Math.round(o));var _=Jre(x).map(function(N){return j+s*N});return r(v?_.reverse():_)}return e.domain=function(x){return arguments.length?(t(x),p()):t()},e.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(x){return arguments.length?(c=!!x,p()):c},e.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),p()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),p()):f},e.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},e.copy=function(){return zh(t(),[n,i]).round(c).paddingInner(f).paddingOuter(h).align(m)},cs.apply(p(),arguments)}function n6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return n6(t())},e}function oh(){return n6(zh.apply(null,arguments).paddingInner(1))}function HN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ap(){}var Wh=.7,jy=1/Wh,Gu="\\s*([+-]?\\d+)\\s*",Bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qre=/^#([0-9a-f]{3,8})$/,ene=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),tne=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),rne=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${Bh}\\)$`),nne=new RegExp(`^rgba\\(${va},${va},${va},${Bh}\\)$`),ine=new RegExp(`^hsl\\(${Bh},${va},${va}\\)$`),sne=new RegExp(`^hsla\\(${Bh},${va},${va},${Bh}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HN(Ap,Fh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WO,formatHex:WO,formatHex8:ane,formatHsl:one,formatRgb:BO,toString:BO});function WO(){return this.rgb().formatHex()}function ane(){return this.rgb().formatHex8()}function one(){return s6(this).formatHsl()}function BO(){return this.rgb().formatRgb()}function Fh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Qre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?FO(t):r===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ene.exec(e))?new yi(t[1],t[2],t[3],1):(t=tne.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rne.exec(e))?xg(t[1],t[2],t[3],t[4]):(t=nne.exec(e))?xg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ine.exec(e))?qO(t[1],t[2]/100,t[3]/100,1):(t=sne.exec(e))?qO(t[1],t[2]/100,t[3]/100,t[4]):zO.hasOwnProperty(e)?FO(zO[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function FO(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function xg(e,t,r,n){return n<=0&&(e=t=r=NaN),new yi(e,t,r,n)}function lne(e){return e instanceof Ap||(e=Fh(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function b2(e,t,r,n){return arguments.length===1?lne(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}HN(yi,b2,i6(Ap,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wh:Math.pow(Wh,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(bc(this.r),bc(this.g),bc(this.b),Sy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UO,formatHex:UO,formatHex8:cne,formatRgb:VO,toString:VO}));function UO(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function cne(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function VO(){const e=Sy(this.opacity);return`${e===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${e===1?")":`, ${e})`}`}function Sy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pc(e){return e=bc(e),(e<16?"0":"")+e.toString(16)}function qO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ls(e,t,r,n)}function s6(e){if(e instanceof Ls)return new Ls(e.h,e.s,e.l,e.opacity);if(e instanceof Ap||(e=Fh(e)),!e)return new Ls;if(e instanceof Ls)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,c=s-i,f=(s+i)/2;return c?(t===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-t)/c+2:o=(t-r)/c+4,c/=f<.5?s+i:2-s-i,o*=60):c=f>0&&f<1?0:o,new Ls(o,c,f,e.opacity)}function une(e,t,r,n){return arguments.length===1?s6(e):new Ls(e,t,r,n??1)}function Ls(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}HN(Ls,une,i6(Ap,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new Ls(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wh:Math.pow(Wh,e),new Ls(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new yi(o_(e>=240?e-240:e+120,i,n),o_(e,i,n),o_(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ls(HO(this.h),vg(this.s),vg(this.l),Sy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sy(this.opacity);return`${e===1?"hsl(":"hsla("}${HO(this.h)}, ${vg(this.s)*100}%, ${vg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HO(e){return e=(e||0)%360,e<0?e+360:e}function vg(e){return Math.max(0,Math.min(1,e||0))}function o_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KN=e=>()=>e;function dne(e,t){return function(r){return e+r*t}}function fne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hne(e){return(e=+e)==1?a6:function(t,r){return r-t?fne(t,r,e):KN(isNaN(t)?r:t)}}function a6(e,t){var r=t-e;return r?dne(e,r):KN(isNaN(e)?t:e)}const KO=(function e(t){var r=hne(t);function n(i,s){var o=r((i=b2(i)).r,(s=b2(s)).r),c=r(i.g,s.g),f=r(i.b,s.b),h=a6(i.opacity,s.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=f(m),i.opacity=h(m),i+""}}return n.gamma=e,n})(1);function pne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function mne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Cd(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function yne(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ny(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xne(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Cd(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var w2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(w2.source,"g");function vne(e){return function(){return e}}function bne(e){return function(t){return e(t)+""}}function wne(e,t){var r=w2.lastIndex=l_.lastIndex=0,n,i,s,o=-1,c=[],f=[];for(e=e+"",t=t+"";(n=w2.exec(e))&&(i=l_.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,f.push({i:o,x:Ny(n,i)})),r=l_.lastIndex;return r<t.length&&(s=t.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?f[0]?bne(f[0].x):vne(t):(t=f.length,function(h){for(var m=0,p;m<t;++m)c[(p=f[m]).i]=p.x(h);return c.join("")})}function Cd(e,t){var r=typeof t,n;return t==null||r==="boolean"?KN(t):(r==="number"?Ny:r==="string"?(n=Fh(t))?(t=n,KO):wne:t instanceof Fh?KO:t instanceof Date?yne:mne(t)?pne:Array.isArray(t)?gne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xne:Ny)(e,t)}function GN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _ne(e,t){t===void 0&&(t=e,e=Cd);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function jne(e){return function(){return e}}function ky(e){return+e}var GO=[0,1];function ri(e){return e}function _2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:jne(isNaN(t)?NaN:.5)}function Sne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Nne(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=_2(i,n),s=r(o,s)):(n=_2(n,i),s=r(s,o)),function(c){return s(n(c))}}function kne(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=_2(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(c){var f=Cp(e,c,1,n)-1;return s[f](i[f](c))}}function Op(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rx(){var e=GO,t=GO,r=Cd,n,i,s,o=ri,c,f,h;function m(){var x=Math.min(e.length,t.length);return o!==ri&&(o=Sne(e[0],e[x-1])),c=x>2?kne:Nne,f=h=null,p}function p(x){return x==null||isNaN(x=+x)?s:(f||(f=c(e.map(n),t,r)))(n(o(x)))}return p.invert=function(x){return o(i((h||(h=c(t,e.map(n),Ny)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,ky),m()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),r=GN,m()},p.clamp=function(x){return arguments.length?(o=x?!0:ri,m()):o!==ri},p.interpolate=function(x){return arguments.length?(r=x,m()):r},p.unknown=function(x){return arguments.length?(s=x,p):s},function(x,v){return n=x,i=v,m()}}function ZN(){return Rx()(ri,ri)}function Pne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Py(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function sd(e){return e=Py(Math.abs(e)),e?e[1]:NaN}function Tne(e,t){return function(r,n){for(var i=r.length,s=[],o=0,c=e[0],f=0;i>0&&c>0&&(f+c+1>n&&(c=Math.max(1,n-f)),s.push(r.substring(i-=c,i+c)),!((f+=c+1)>n));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Ene(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uh(e){if(!(t=Cne.exec(e)))throw new Error("invalid format: "+e);var t;return new YN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uh.prototype=YN.prototype;function YN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}YN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ane(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ty;function One(e,t){var r=Py(e,t);if(!r)return Ty=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(Ty=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Py(e,Math.max(0,t+s-1))[0]}function ZO(e,t){var r=Py(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const YO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZO(e*100,t),r:ZO,s:One,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XO(e){return e}var JO=Array.prototype.map,QO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mne(e){var t=e.grouping===void 0||e.thousands===void 0?XO:Tne(JO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?XO:Ene(JO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(p,x){p=Uh(p);var v=p.fill,j=p.align,S=p.sign,_=p.symbol,N=p.zero,k=p.width,C=p.comma,R=p.precision,A=p.trim,E=p.type;E==="n"?(C=!0,E="g"):YO[E]||(R===void 0&&(R=12),A=!0,E="g"),(N||v==="0"&&j==="=")&&(N=!0,v="0",j="=");var $=(x&&x.prefix!==void 0?x.prefix:"")+(_==="$"?r:_==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),I=(_==="$"?n:/[%p]/.test(E)?o:"")+(x&&x.suffix!==void 0?x.suffix:""),D=YO[E],W=/[defgprs%]/.test(E);R=R===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function B(q){var J=$,X=I,Z,F,K;if(E==="c")X=D(q)+X,q="";else{q=+q;var U=q<0||1/q<0;if(q=isNaN(q)?f:D(Math.abs(q),R),A&&(q=Ane(q)),U&&+q==0&&S!=="+"&&(U=!1),J=(U?S==="("?S:c:S==="-"||S==="("?"":S)+J,X=(E==="s"&&!isNaN(q)&&Ty!==void 0?QO[8+Ty/3]:"")+X+(U&&S==="("?")":""),W){for(Z=-1,F=q.length;++Z<F;)if(K=q.charCodeAt(Z),48>K||K>57){X=(K===46?i+q.slice(Z+1):q.slice(Z))+X,q=q.slice(0,Z);break}}}C&&!N&&(q=t(q,1/0));var ie=J.length+q.length+X.length,se=ie<k?new Array(k-ie+1).join(v):"";switch(C&&N&&(q=t(se+q,se.length?k-X.length:1/0),se=""),j){case"<":q=J+q+X+se;break;case"=":q=J+se+q+X;break;case"^":q=se.slice(0,ie=se.length>>1)+J+q+X+se.slice(ie);break;default:q=se+J+q+X;break}return s(q)}return B.toString=function(){return p+""},B}function m(p,x){var v=Math.max(-8,Math.min(8,Math.floor(sd(x)/3)))*3,j=Math.pow(10,-v),S=h((p=Uh(p),p.type="f",p),{suffix:QO[8+v/3]});return function(_){return S(j*_)}}return{format:h,formatPrefix:m}}var bg,XN,o6;Rne({thousands:",",grouping:[3],currency:["$",""]});function Rne(e){return bg=Mne(e),XN=bg.format,o6=bg.formatPrefix,bg}function Ine(e){return Math.max(0,-sd(Math.abs(e)))}function Lne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sd(t)/3)))*3-sd(Math.abs(e)))}function Dne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sd(t)-sd(e))+1}function l6(e,t,r,n){var i=x2(e,t,r),s;switch(n=Uh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Lne(i,o))&&(n.precision=s),o6(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Dne(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ine(i))&&(n.precision=s-(n.type==="%")*2);break}}return XN(n)}function _l(e){var t=e.domain;return e.ticks=function(r){var n=t();return g2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return l6(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],c=n[s],f,h,m=10;for(c<o&&(h=o,o=c,c=h,h=i,i=s,s=h);m-- >0;){if(h=y2(o,c,r),h===f)return n[i]=o,n[s]=c,t(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;f=h}return e},e}function Ey(){var e=ZN();return e.copy=function(){return Op(e,Ey())},cs.apply(e,arguments),_l(e)}function c6(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ky),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return c6(e).unknown(t)},e=arguments.length?Array.from(e,ky):[0,1],_l(r)}function u6(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function eM(e){return Math.log(e)}function tM(e){return Math.exp(e)}function $ne(e){return-Math.log(-e)}function zne(e){return-Math.exp(-e)}function Wne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bne(e){return e===10?Wne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rM(e){return(t,r)=>-e(-t,r)}function JN(e){const t=e(eM,tM),r=t.domain;let n=10,i,s;function o(){return i=Fne(n),s=Bne(n),r()[0]<0?(i=rM(i),s=rM(s),e($ne,zne)):e(eM,tM),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const f=r();let h=f[0],m=f[f.length-1];const p=m<h;p&&([h,m]=[m,h]);let x=i(h),v=i(m),j,S;const _=c==null?10:+c;let N=[];if(!(n%1)&&v-x<_){if(x=Math.floor(x),v=Math.ceil(v),h>0){for(;x<=v;++x)for(j=1;j<n;++j)if(S=x<0?j/s(-x):j*s(x),!(S<h)){if(S>m)break;N.push(S)}}else for(;x<=v;++x)for(j=n-1;j>=1;--j)if(S=x>0?j/s(-x):j*s(x),!(S<h)){if(S>m)break;N.push(S)}N.length*2<_&&(N=g2(h,m,_))}else N=g2(x,v,Math.min(v-x,_)).map(s);return p?N.reverse():N},t.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Uh(f)).precision==null&&(f.trim=!0),f=XN(f)),c===1/0)return f;const h=Math.max(1,n*c/t.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=h?f(m):""}},t.nice=()=>r(u6(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function d6(){const e=JN(Rx()).domain([1,10]);return e.copy=()=>Op(e,d6()).base(e.base()),cs.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function QN(e){var t=1,r=e(nM(t),iM(t));return r.constant=function(n){return arguments.length?e(nM(t=+n),iM(t)):t},_l(r)}function f6(){var e=QN(Rx());return e.copy=function(){return Op(e,f6()).constant(e.constant())},cs.apply(e,arguments)}function sM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Une(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vne(e){return e<0?-e*e:e*e}function ek(e){var t=e(ri,ri),r=1;function n(){return r===1?e(ri,ri):r===.5?e(Une,Vne):e(sM(r),sM(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},_l(t)}function tk(){var e=ek(Rx());return e.copy=function(){return Op(e,tk()).exponent(e.exponent())},cs.apply(e,arguments),e}function qne(){return tk.apply(null,arguments).exponent(.5)}function aM(e){return Math.sign(e)*e*e}function Hne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function h6(){var e=ZN(),t=[0,1],r=!1,n;function i(s){var o=Hne(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(aM(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,ky)).map(aM)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return h6(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},cs.apply(i,arguments),_l(i)}function p6(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=Xre(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Cp(r,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(fl),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return p6().domain(e).range(t).unknown(n)},cs.apply(s,arguments)}function m6(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(f){return f!=null&&f<=f?i[Cp(n,f,0,r)]:s}function c(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return o}return o.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,c()):[e,t]},o.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,c()):i.slice()},o.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},o.unknown=function(f){return arguments.length&&(s=f),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m6().domain([e,t]).range(i).unknown(s)},cs.apply(_l(o),arguments)}function g6(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Cp(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return g6().domain(e).range(t).unknown(r)},cs.apply(i,arguments)}const c_=new Date,u_=new Date;function un(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return f;let h;do f.push(h=new Date(+s)),t(s,c),e(s);while(h<s&&s<o);return f},i.filter=s=>un(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(c_.setTime(+s),u_.setTime(+o),e(c_),e(u_),Math.floor(r(c_,u_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Cy=un(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?un(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cy);Cy.range;const eo=1e3,ns=eo*60,to=ns*60,lo=to*24,rk=lo*7,oM=lo*30,d_=lo*365,mc=un(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCSeconds());mc.range;const nk=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo)},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getMinutes());nk.range;const ik=un(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCMinutes());ik.range;const sk=un(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eo-e.getMinutes()*ns)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getHours());sk.range;const ak=un(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCHours());ak.range;const Mp=un(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ns)/lo,e=>e.getDate()-1);Mp.range;const Ix=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lo,e=>e.getUTCDate()-1);Ix.range;const y6=un(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lo,e=>Math.floor(e/lo));y6.range;function Ec(e){return un(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ns)/rk)}const Lx=Ec(0),Ay=Ec(1),Kne=Ec(2),Gne=Ec(3),ad=Ec(4),Zne=Ec(5),Yne=Ec(6);Lx.range;Ay.range;Kne.range;Gne.range;ad.range;Zne.range;Yne.range;function Cc(e){return un(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rk)}const Dx=Cc(0),Oy=Cc(1),Xne=Cc(2),Jne=Cc(3),od=Cc(4),Qne=Cc(5),eie=Cc(6);Dx.range;Oy.range;Xne.range;Jne.range;od.range;Qne.range;eie.range;const ok=un(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ok.range;const lk=un(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lk.range;const co=un(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});co.range;const uo=un(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());uo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:un(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});uo.range;function x6(e,t,r,n,i,s){const o=[[mc,1,eo],[mc,5,5*eo],[mc,15,15*eo],[mc,30,30*eo],[s,1,ns],[s,5,5*ns],[s,15,15*ns],[s,30,30*ns],[i,1,to],[i,3,3*to],[i,6,6*to],[i,12,12*to],[n,1,lo],[n,2,2*lo],[r,1,rk],[t,1,oM],[t,3,3*oM],[e,1,d_]];function c(h,m,p){const x=m<h;x&&([h,m]=[m,h]);const v=p&&typeof p.range=="function"?p:f(h,m,p),j=v?v.range(h,+m+1):[];return x?j.reverse():j}function f(h,m,p){const x=Math.abs(m-h)/p,v=VN(([,,_])=>_).right(o,x);if(v===o.length)return e.every(x2(h/d_,m/d_,p));if(v===0)return Cy.every(Math.max(x2(h,m,p),1));const[j,S]=o[x/o[v-1][2]<o[v][2]/x?v-1:v];return j.every(S)}return[c,f]}const[tie,rie]=x6(uo,lk,Dx,y6,ak,ik),[nie,iie]=x6(co,ok,Lx,Mp,sk,nk);function f_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sie(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,c=e.months,f=e.shortMonths,h=Af(i),m=Of(i),p=Af(s),x=Of(s),v=Af(o),j=Of(o),S=Af(c),_=Of(c),N=Af(f),k=Of(f),C={a:K,A:U,b:ie,B:se,c:null,d:hM,e:hM,f:Tie,g:$ie,G:Wie,H:Nie,I:kie,j:Pie,L:v6,m:Eie,M:Cie,p:G,q:Y,Q:gM,s:yM,S:Aie,u:Oie,U:Mie,V:Rie,w:Iie,W:Lie,x:null,X:null,y:Die,Y:zie,Z:Bie,"%":mM},R={a:oe,A:_e,b:Ce,B:Ne,c:null,d:pM,e:pM,f:qie,g:tse,G:nse,H:Fie,I:Uie,j:Vie,L:w6,m:Hie,M:Kie,p:Be,q:ye,Q:gM,s:yM,S:Gie,u:Zie,U:Yie,V:Xie,w:Jie,W:Qie,x:null,X:null,y:ese,Y:rse,Z:ise,"%":mM},A={a:W,A:B,b:q,B:J,c:X,d:dM,e:dM,f:wie,g:uM,G:cM,H:fM,I:fM,j:yie,L:bie,m:gie,M:xie,p:D,q:mie,Q:jie,s:Sie,S:vie,u:uie,U:die,V:fie,w:cie,W:hie,x:Z,X:F,y:uM,Y:cM,Z:pie,"%":_ie};C.x=E(r,C),C.X=E(n,C),C.c=E(t,C),R.x=E(r,R),R.X=E(n,R),R.c=E(t,R);function E(ee,xe){return function(ke){var te=[],ue=-1,de=0,Re=ee.length,Me,Ye,qe;for(ke instanceof Date||(ke=new Date(+ke));++ue<Re;)ee.charCodeAt(ue)===37&&(te.push(ee.slice(de,ue)),(Ye=lM[Me=ee.charAt(++ue)])!=null?Me=ee.charAt(++ue):Ye=Me==="e"?" ":"0",(qe=xe[Me])&&(Me=qe(ke,Ye)),te.push(Me),de=ue+1);return te.push(ee.slice(de,ue)),te.join("")}}function $(ee,xe){return function(ke){var te=Cf(1900,void 0,1),ue=I(te,ee,ke+="",0),de,Re;if(ue!=ke.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(xe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(de=h_(Cf(te.y,0,1)),Re=de.getUTCDay(),de=Re>4||Re===0?Oy.ceil(de):Oy(de),de=Ix.offset(de,(te.V-1)*7),te.y=de.getUTCFullYear(),te.m=de.getUTCMonth(),te.d=de.getUTCDate()+(te.w+6)%7):(de=f_(Cf(te.y,0,1)),Re=de.getDay(),de=Re>4||Re===0?Ay.ceil(de):Ay(de),de=Mp.offset(de,(te.V-1)*7),te.y=de.getFullYear(),te.m=de.getMonth(),te.d=de.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Re="Z"in te?h_(Cf(te.y,0,1)).getUTCDay():f_(Cf(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Re+5)%7:te.w+te.U*7-(Re+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,h_(te)):f_(te)}}function I(ee,xe,ke,te){for(var ue=0,de=xe.length,Re=ke.length,Me,Ye;ue<de;){if(te>=Re)return-1;if(Me=xe.charCodeAt(ue++),Me===37){if(Me=xe.charAt(ue++),Ye=A[Me in lM?xe.charAt(ue++):Me],!Ye||(te=Ye(ee,ke,te))<0)return-1}else if(Me!=ke.charCodeAt(te++))return-1}return te}function D(ee,xe,ke){var te=h.exec(xe.slice(ke));return te?(ee.p=m.get(te[0].toLowerCase()),ke+te[0].length):-1}function W(ee,xe,ke){var te=v.exec(xe.slice(ke));return te?(ee.w=j.get(te[0].toLowerCase()),ke+te[0].length):-1}function B(ee,xe,ke){var te=p.exec(xe.slice(ke));return te?(ee.w=x.get(te[0].toLowerCase()),ke+te[0].length):-1}function q(ee,xe,ke){var te=N.exec(xe.slice(ke));return te?(ee.m=k.get(te[0].toLowerCase()),ke+te[0].length):-1}function J(ee,xe,ke){var te=S.exec(xe.slice(ke));return te?(ee.m=_.get(te[0].toLowerCase()),ke+te[0].length):-1}function X(ee,xe,ke){return I(ee,t,xe,ke)}function Z(ee,xe,ke){return I(ee,r,xe,ke)}function F(ee,xe,ke){return I(ee,n,xe,ke)}function K(ee){return o[ee.getDay()]}function U(ee){return s[ee.getDay()]}function ie(ee){return f[ee.getMonth()]}function se(ee){return c[ee.getMonth()]}function G(ee){return i[+(ee.getHours()>=12)]}function Y(ee){return 1+~~(ee.getMonth()/3)}function oe(ee){return o[ee.getUTCDay()]}function _e(ee){return s[ee.getUTCDay()]}function Ce(ee){return f[ee.getUTCMonth()]}function Ne(ee){return c[ee.getUTCMonth()]}function Be(ee){return i[+(ee.getUTCHours()>=12)]}function ye(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var xe=E(ee+="",C);return xe.toString=function(){return ee},xe},parse:function(ee){var xe=$(ee+="",!1);return xe.toString=function(){return ee},xe},utcFormat:function(ee){var xe=E(ee+="",R);return xe.toString=function(){return ee},xe},utcParse:function(ee){var xe=$(ee+="",!0);return xe.toString=function(){return ee},xe}}}var lM={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,aie=/^%/,oie=/[\\^$*+?|[\]().{}]/g;function qt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function lie(e){return e.replace(oie,"\\$&")}function Af(e){return new RegExp("^(?:"+e.map(lie).join("|")+")","i")}function Of(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cie(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uie(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function die(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cM(e,t,r){var n=vn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mie(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yie(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bie(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wie(e,t,r){var n=vn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _ie(e,t,r){var n=aie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jie(e,t,r){var n=vn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Sie(e,t,r){var n=vn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hM(e,t){return qt(e.getDate(),t,2)}function Nie(e,t){return qt(e.getHours(),t,2)}function kie(e,t){return qt(e.getHours()%12||12,t,2)}function Pie(e,t){return qt(1+Mp.count(co(e),e),t,3)}function v6(e,t){return qt(e.getMilliseconds(),t,3)}function Tie(e,t){return v6(e,t)+"000"}function Eie(e,t){return qt(e.getMonth()+1,t,2)}function Cie(e,t){return qt(e.getMinutes(),t,2)}function Aie(e,t){return qt(e.getSeconds(),t,2)}function Oie(e){var t=e.getDay();return t===0?7:t}function Mie(e,t){return qt(Lx.count(co(e)-1,e),t,2)}function b6(e){var t=e.getDay();return t>=4||t===0?ad(e):ad.ceil(e)}function Rie(e,t){return e=b6(e),qt(ad.count(co(e),e)+(co(e).getDay()===4),t,2)}function Iie(e){return e.getDay()}function Lie(e,t){return qt(Ay.count(co(e)-1,e),t,2)}function Die(e,t){return qt(e.getFullYear()%100,t,2)}function $ie(e,t){return e=b6(e),qt(e.getFullYear()%100,t,2)}function zie(e,t){return qt(e.getFullYear()%1e4,t,4)}function Wie(e,t){var r=e.getDay();return e=r>=4||r===0?ad(e):ad.ceil(e),qt(e.getFullYear()%1e4,t,4)}function Bie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qt(t/60|0,"0",2)+qt(t%60,"0",2)}function pM(e,t){return qt(e.getUTCDate(),t,2)}function Fie(e,t){return qt(e.getUTCHours(),t,2)}function Uie(e,t){return qt(e.getUTCHours()%12||12,t,2)}function Vie(e,t){return qt(1+Ix.count(uo(e),e),t,3)}function w6(e,t){return qt(e.getUTCMilliseconds(),t,3)}function qie(e,t){return w6(e,t)+"000"}function Hie(e,t){return qt(e.getUTCMonth()+1,t,2)}function Kie(e,t){return qt(e.getUTCMinutes(),t,2)}function Gie(e,t){return qt(e.getUTCSeconds(),t,2)}function Zie(e){var t=e.getUTCDay();return t===0?7:t}function Yie(e,t){return qt(Dx.count(uo(e)-1,e),t,2)}function _6(e){var t=e.getUTCDay();return t>=4||t===0?od(e):od.ceil(e)}function Xie(e,t){return e=_6(e),qt(od.count(uo(e),e)+(uo(e).getUTCDay()===4),t,2)}function Jie(e){return e.getUTCDay()}function Qie(e,t){return qt(Oy.count(uo(e)-1,e),t,2)}function ese(e,t){return qt(e.getUTCFullYear()%100,t,2)}function tse(e,t){return e=_6(e),qt(e.getUTCFullYear()%100,t,2)}function rse(e,t){return qt(e.getUTCFullYear()%1e4,t,4)}function nse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?od(e):od.ceil(e),qt(e.getUTCFullYear()%1e4,t,4)}function ise(){return"+0000"}function mM(){return"%"}function gM(e){return+e}function yM(e){return Math.floor(+e/1e3)}var Su,j6,S6;sse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sse(e){return Su=sie(e),j6=Su.format,Su.parse,S6=Su.utcFormat,Su.utcParse,Su}function ase(e){return new Date(e)}function ose(e){return e instanceof Date?+e:+new Date(+e)}function ck(e,t,r,n,i,s,o,c,f,h){var m=ZN(),p=m.invert,x=m.domain,v=h(".%L"),j=h(":%S"),S=h("%I:%M"),_=h("%I %p"),N=h("%a %d"),k=h("%b %d"),C=h("%B"),R=h("%Y");function A(E){return(f(E)<E?v:c(E)<E?j:o(E)<E?S:s(E)<E?_:n(E)<E?i(E)<E?N:k:r(E)<E?C:R)(E)}return m.invert=function(E){return new Date(p(E))},m.domain=function(E){return arguments.length?x(Array.from(E,ose)):x().map(ase)},m.ticks=function(E){var $=x();return e($[0],$[$.length-1],E??10)},m.tickFormat=function(E,$){return $==null?A:h($)},m.nice=function(E){var $=x();return(!E||typeof E.range!="function")&&(E=t($[0],$[$.length-1],E??10)),E?x(u6($,E)):m},m.copy=function(){return Op(m,ck(e,t,r,n,i,s,o,c,f,h))},m}function lse(){return cs.apply(ck(nie,iie,co,ok,Lx,Mp,sk,nk,mc,j6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cse(){return cs.apply(ck(tie,rie,uo,lk,Dx,Ix,ak,ik,mc,S6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $x(){var e=0,t=1,r,n,i,s,o=ri,c=!1,f;function h(p){return p==null||isNaN(p=+p)?f:o(i===0?.5:(p=(s(p)-r)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function m(p){return function(x){var v,j;return arguments.length?([v,j]=x,o=p(v,j),h):[o(0),o(1)]}}return h.range=m(Cd),h.rangeRound=m(GN),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function jl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function N6(){var e=_l($x()(ri));return e.copy=function(){return jl(e,N6())},yo.apply(e,arguments)}function k6(){var e=JN($x()).domain([1,10]);return e.copy=function(){return jl(e,k6()).base(e.base())},yo.apply(e,arguments)}function P6(){var e=QN($x());return e.copy=function(){return jl(e,P6()).constant(e.constant())},yo.apply(e,arguments)}function uk(){var e=ek($x());return e.copy=function(){return jl(e,uk()).exponent(e.exponent())},yo.apply(e,arguments)}function use(){return uk.apply(null,arguments).exponent(.5)}function T6(){var e=[],t=ri;function r(n){if(n!=null&&!isNaN(n=+n))return t((Cp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Yre(e,s/n))},r.copy=function(){return T6(t).domain(e)},yo.apply(r,arguments)}function zx(){var e=0,t=.5,r=1,n=1,i,s,o,c,f,h=ri,m,p=!1,x;function v(S){return isNaN(S=+S)?x:(S=.5+((S=+m(S))-s)*(n*S<n*s?c:f),h(p?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([e,t,r]=S,i=m(e=+e),s=m(t=+t),o=m(r=+r),c=i===s?0:.5/(s-i),f=s===o?0:.5/(o-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(S){return arguments.length?(p=!!S,v):p},v.interpolator=function(S){return arguments.length?(h=S,v):h};function j(S){return function(_){var N,k,C;return arguments.length?([N,k,C]=_,h=_ne(S,[N,k,C]),v):[h(0),h(.5),h(1)]}}return v.range=j(Cd),v.rangeRound=j(GN),v.unknown=function(S){return arguments.length?(x=S,v):x},function(S){return m=S,i=S(e),s=S(t),o=S(r),c=i===s?0:.5/(s-i),f=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function E6(){var e=_l(zx()(ri));return e.copy=function(){return jl(e,E6())},yo.apply(e,arguments)}function C6(){var e=JN(zx()).domain([.1,1,10]);return e.copy=function(){return jl(e,C6()).base(e.base())},yo.apply(e,arguments)}function A6(){var e=QN(zx());return e.copy=function(){return jl(e,A6()).constant(e.constant())},yo.apply(e,arguments)}function dk(){var e=ek(zx());return e.copy=function(){return jl(e,dk()).exponent(e.exponent())},yo.apply(e,arguments)}function dse(){return dk.apply(null,arguments).exponent(.5)}const xM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zh,scaleDiverging:E6,scaleDivergingLog:C6,scaleDivergingPow:dk,scaleDivergingSqrt:dse,scaleDivergingSymlog:A6,scaleIdentity:c6,scaleImplicit:v2,scaleLinear:Ey,scaleLog:d6,scaleOrdinal:qN,scalePoint:oh,scalePow:tk,scaleQuantile:p6,scaleQuantize:m6,scaleRadial:h6,scaleSequential:N6,scaleSequentialLog:k6,scaleSequentialPow:uk,scaleSequentialQuantile:T6,scaleSequentialSqrt:use,scaleSequentialSymlog:P6,scaleSqrt:qne,scaleSymlog:f6,scaleThreshold:g6,scaleTime:lse,scaleUtc:cse,tickFormat:l6},Symbol.toStringTag,{value:"Module"}));var p_,vM;function O6(){if(vM)return p_;vM=1;var e=kd();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var c=r[s],f=n(c);if(f!=null&&(h===void 0?f===f&&!e(f):i(f,h)))var h=f,m=c}return m}return p_=t,p_}var m_,bM;function fse(){if(bM)return m_;bM=1;function e(t,r){return t>r}return m_=e,m_}var g_,wM;function hse(){if(wM)return g_;wM=1;var e=O6(),t=fse(),r=Td();function n(i){return i&&i.length?e(i,r,t):void 0}return g_=n,g_}var pse=hse();const Wx=rr(pse);var y_,_M;function mse(){if(_M)return y_;_M=1;function e(t,r){return t<r}return y_=e,y_}var x_,jM;function gse(){if(jM)return x_;jM=1;var e=O6(),t=mse(),r=Td();function n(i){return i&&i.length?e(i,r,t):void 0}return x_=n,x_}var yse=gse();const Bx=rr(yse);var v_,SM;function xse(){if(SM)return v_;SM=1;var e=PN(),t=wl(),r=BD(),n=xi();function i(s,o){var c=n(s)?e:r;return c(s,t(o,3))}return v_=i,v_}var b_,NM;function vse(){if(NM)return b_;NM=1;var e=zD(),t=xse();function r(n,i){return e(t(n,i),1)}return b_=r,b_}var bse=vse();const wse=rr(bse);var w_,kM;function _se(){if(kM)return w_;kM=1;var e=WN();function t(r,n){return e(r,n)}return w_=t,w_}var jse=_se();const Fx=rr(jse);var Ad=1e9,Sse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hk,br=!0,ls="[DecimalError] ",wc=ls+"Invalid argument: ",fk=ls+"Exponent out of range: ",Od=Math.floor,rc=Math.pow,Nse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Di,yn=1e7,xr=7,M6=9007199254740991,My=Od(M6/xr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return so(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return cr(so(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Jr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Di))throw Error(ls+"NaN");if(r.s<1)throw Error(ls+(r.s?"NaN":"-Infinity"));return r.eq(Di)?new n(0):(br=!1,t=so(Vh(r,s),Vh(e,s),s),br=!0,cr(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L6(t,e):R6(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ls+"NaN");return r.s?(br=!1,t=so(r,e,0,1).times(e),br=!0,r.minus(t)):cr(new n(r),i)};st.naturalExponential=st.exp=function(){return I6(this)};st.naturalLogarithm=st.ln=function(){return Vh(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R6(t,e):L6(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wc+e);if(t=Jr(i)+1,n=i.d.length-1,r=n*xr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,n,i,s,o,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(ls+"NaN")}for(e=Jr(c),br=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=ga(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Od((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=o=r+3;;)if(s=n,n=s.plus(so(c,s,o+2)).times(.5),ga(s.d).slice(0,o)===(t=ga(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(cr(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(t!="9999")break;o+=4}return br=!0,cr(n,r)};st.times=st.mul=function(e){var t,r,n,i,s,o,c,f,h,m=this,p=m.constructor,x=m.d,v=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,f=x.length,h=v.length,f<h&&(s=x,x=v,v=s,o=f,f=h,h=o),s=[],o=f+h,n=o;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=f+n;i>n;)c=s[i]+v[n]*x[i-n-1]+t,s[i--]=c%yn|0,t=c/yn|0;s[i]=(s[i]+t)%yn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,br?cr(e,p.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Sa(e,0,Ad),t===void 0?t=n.rounding:Sa(t,0,8),cr(r,e+Jr(r)+1,t))};st.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Nc(n,!0):(Sa(e,0,Ad),t===void 0?t=i.rounding:Sa(t,0,8),n=cr(new i(n),e+1,t),r=Nc(n,!0,e+1)),r};st.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Nc(i):(Sa(e,0,Ad),t===void 0?t=s.rounding:Sa(t,0,8),n=cr(new s(i),e+Jr(i)+1,t),r=Nc(n.abs(),!1,e+Jr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return cr(new t(e),Jr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,n,i,s,o,c=this,f=c.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(Di);if(c=new f(c),!c.s){if(e.s<1)throw Error(ls+"Infinity");return c}if(c.eq(Di))return c;if(n=f.precision,e.eq(Di))return cr(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=c.s,o){if((r=m<0?-m:m)<=M6){for(i=new f(Di),t=Math.ceil(n/xr+4),br=!1;r%2&&(i=i.times(c),TM(i.d,t)),r=Od(r/2),r!==0;)c=c.times(c),TM(c.d,t);return br=!0,e.s<0?new f(Di).div(i):cr(i,n)}}else if(s<0)throw Error(ls+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,br=!1,i=e.times(Vh(c,n+h)),br=!0,i=I6(i),i.s=s,i};st.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Jr(i),n=Nc(i,r<=s.toExpNeg||r>=s.toExpPos)):(Sa(e,1,Ad),t===void 0?t=s.rounding:Sa(t,0,8),i=cr(new s(i),e,t),r=Jr(i),n=Nc(i,e<=r||r<=s.toExpNeg,e)),n};st.toSignificantDigits=st.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Sa(e,1,Ad),t===void 0?t=n.rounding:Sa(t,0,8)),cr(new n(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jr(e),r=e.constructor;return Nc(e,t<=r.toExpNeg||t>=r.toExpPos)};function R6(e,t){var r,n,i,s,o,c,f,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),br?cr(t,p):t;if(f=e.d,h=t.d,o=e.e,i=t.e,f=f.slice(),s=o-i,s){for(s<0?(n=f,s=-s,c=h.length):(n=h,i=o,c=f.length),o=Math.ceil(p/xr),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/yn|0,f[s]%=yn;for(r&&(f.unshift(r),++i),c=f.length;f[--c]==0;)f.pop();return t.d=f,t.e=i,br?cr(t,p):t}function Sa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wc+e)}function ga(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=xr-n.length,r&&(s+=nl(r)),s+=n;o=e[t],n=o+"",r=xr-n.length,r&&(s+=nl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var so=(function(){function e(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%yn|0,o=s/yn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var c,f;if(s!=o)f=s>o?1:-1;else for(c=f=0;c<s;c++)if(n[c]!=i[c]){f=n[c]>i[c]?1:-1;break}return f}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*yn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,f,h,m,p,x,v,j,S,_,N,k,C,R,A,E,$,I,D=n.constructor,W=n.s==i.s?1:-1,B=n.d,q=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(ls+"Division by zero");for(f=n.e-i.e,$=q.length,A=B.length,v=new D(W),j=v.d=[],h=0;q[h]==(B[h]||0);)++h;if(q[h]>(B[h]||0)&&--f,s==null?k=s=D.precision:o?k=s+(Jr(n)-Jr(i))+1:k=s,k<0)return new D(0);if(k=k/xr+2|0,h=0,$==1)for(m=0,q=q[0],k++;(h<A||m)&&k--;h++)C=m*yn+(B[h]||0),j[h]=C/q|0,m=C%q|0;else{for(m=yn/(q[0]+1)|0,m>1&&(q=e(q,m),B=e(B,m),$=q.length,A=B.length),R=$,S=B.slice(0,$),_=S.length;_<$;)S[_++]=0;I=q.slice(),I.unshift(0),E=q[0],q[1]>=yn/2&&++E;do m=0,c=t(q,S,$,_),c<0?(N=S[0],$!=_&&(N=N*yn+(S[1]||0)),m=N/E|0,m>1?(m>=yn&&(m=yn-1),p=e(q,m),x=p.length,_=S.length,c=t(p,S,x,_),c==1&&(m--,r(p,$<x?I:q,x))):(m==0&&(c=m=1),p=q.slice()),x=p.length,x<_&&p.unshift(0),r(S,p,_),c==-1&&(_=S.length,c=t(q,S,$,_),c<1&&(m++,r(S,$<_?I:q,_))),_=S.length):c===0&&(m++,S=[0]),j[h++]=m,c&&S[0]?S[_++]=B[R]||0:(S=[B[R]],_=1);while((R++<A||S[0]!==void 0)&&k--)}return j[0]||j.shift(),v.e=f,cr(v,o?s+Jr(v)+1:s)}})();function I6(e,t){var r,n,i,s,o,c,f=0,h=0,m=e.constructor,p=m.precision;if(Jr(e)>16)throw Error(fk+Jr(e));if(!e.s)return new m(Di);for(br=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(n=Math.log(rc(2,h))/Math.LN10*2+5|0,c+=n,r=i=s=new m(Di),m.precision=c;;){if(i=cr(i.times(e),c),r=r.times(++f),o=s.plus(so(i,r,c)),ga(o.d).slice(0,c)===ga(s.d).slice(0,c)){for(;h--;)s=cr(s.times(s),c);return m.precision=p,t==null?(br=!0,cr(s,p)):s}s=o}}function Jr(e){for(var t=e.e*xr,r=e.d[0];r>=10;r/=10)t++;return t}function __(e,t,r){if(t>e.LN10.sd())throw br=!0,r&&(e.precision=r),Error(ls+"LN10 precision limit exceeded");return cr(new e(e.LN10),t)}function nl(e){for(var t="";e--;)t+="0";return t}function Vh(e,t){var r,n,i,s,o,c,f,h,m,p=1,x=10,v=e,j=v.d,S=v.constructor,_=S.precision;if(v.s<1)throw Error(ls+(v.s?"NaN":"-Infinity"));if(v.eq(Di))return new S(0);if(t==null?(br=!1,h=_):h=t,v.eq(10))return t==null&&(br=!0),__(S,h);if(h+=x,S.precision=h,r=ga(j),n=r.charAt(0),s=Jr(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=ga(v.d),n=r.charAt(0),p++;s=Jr(v),n>1?(v=new S("0."+r),s++):v=new S(n+"."+r.slice(1))}else return f=__(S,h+2,_).times(s+""),v=Vh(new S(n+"."+r.slice(1)),h-x).plus(f),S.precision=_,t==null?(br=!0,cr(v,_)):v;for(c=o=v=so(v.minus(Di),v.plus(Di),h),m=cr(v.times(v),h),i=3;;){if(o=cr(o.times(m),h),f=c.plus(so(o,new S(i),h)),ga(f.d).slice(0,h)===ga(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(__(S,h+2,_).times(s+""))),c=so(c,new S(p),h),S.precision=_,t==null?(br=!0,cr(c,_)):c;c=f,i+=2}}function PM(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Od(r/xr),e.d=[],n=(r+1)%xr,r<0&&(n+=xr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xr;n<i;)e.d.push(+t.slice(n,n+=xr));t=t.slice(n),n=xr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),br&&(e.e>My||e.e<-My))throw Error(fk+r)}else e.s=0,e.e=0,e.d=[0];return e}function cr(e,t,r){var n,i,s,o,c,f,h,m,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=xr,i=t,h=p[m=0];else{if(m=Math.ceil((n+1)/xr),s=p.length,m>=s)return e;for(h=s=p[m],o=1;s>=10;s/=10)o++;n%=xr,i=n-xr+o}if(r!==void 0&&(s=rc(10,o-i-1),c=h/s%10|0,f=t<0||p[m+1]!==void 0||h%s,f=r<4?(c||f)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||f||r==6&&(n>0?i>0?h/rc(10,o-i):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return f?(s=Jr(e),p.length=1,t=t-s-1,p[0]=rc(10,(xr-t%xr)%xr),e.e=Od(-t/xr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,s=1,m--):(p.length=m+1,s=rc(10,xr-n),p[m]=i>0?(h/rc(10,o-i)%rc(10,i)|0)*s:0),f)for(;;)if(m==0){(p[0]+=s)==yn&&(p[0]=1,++e.e);break}else{if(p[m]+=s,p[m]!=yn)break;p[m--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(br&&(e.e>My||e.e<-My))throw Error(fk+Jr(e));return e}function L6(e,t){var r,n,i,s,o,c,f,h,m,p,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),br?cr(t,v):t;if(f=e.d,p=t.d,n=t.e,h=e.e,f=f.slice(),o=h-n,o){for(m=o<0,m?(r=f,o=-o,c=p.length):(r=p,n=h,c=f.length),i=Math.max(Math.ceil(v/xr),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=f.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}o=0}for(m&&(r=f,f=p,p=r,t.s=-t.s),c=f.length,i=p.length-c;i>0;--i)f[c++]=0;for(i=p.length;i>o;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=yn-1;--f[s],f[i]+=yn}f[i]-=p[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,br?cr(t,v):t):new x(0)}function Nc(e,t,r){var n,i=Jr(e),s=ga(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+nl(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+nl(-i-1)+s,r&&(n=r-o)>0&&(s+=nl(n))):i>=o?(s+=nl(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+nl(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=nl(n))),e.s<0?"-"+s:s}function TM(e,t){if(e.length>t)return e.length=t,!0}function D6(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return PM(o,s.toString())}else if(typeof s!="string")throw Error(wc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Nse.test(s))PM(o,s);else throw Error(wc+s)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D6,i.config=i.set=kse,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kse(e){if(!e||typeof e!="object")throw Error(ls+"Object expected");var t,r,n,i=["precision",1,Ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Od(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wc+r+": "+n);return this}var hk=D6(Sse);Di=new hk(1);const lr=hk;function Pse(e){return Ase(e)||Cse(e)||Ese(e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ese(e,t){if(e){if(typeof e=="string")return j2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(e,t)}}function Cse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ase(e){if(Array.isArray(e))return j2(e)}function j2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ose=function(t){return t},$6={},z6=function(t){return t===$6},EM=function(t){return function r(){return arguments.length===0||arguments.length===1&&z6(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Mse=function e(t,r){return t===1?r:EM(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==$6}).length;return o>=t?r.apply(void 0,i):e(t-o,EM(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var m=i.map(function(p){return z6(p)?f.shift():p});return r.apply(void 0,Pse(m).concat(f))}))})},Ux=function(t){return Mse(t.length,t)},S2=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Rse=Ux(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Ise=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ose;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,f){return f(c)},s.apply(void 0,arguments))}},N2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},W6=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,f){return c===r[f]})||(r=s,n=t.apply(void 0,s)),n}};function Lse(e){var t;return e===0?t=1:t=Math.floor(new lr(e).abs().log(10).toNumber())+1,t}function Dse(e,t,r){for(var n=new lr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var $se=Ux(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),zse=Ux(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Wse=Ux(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vx={rangeStep:Dse,getDigitCount:Lse,interpolateNumber:$se,uninterpolateNumber:zse,uninterpolateTruncation:Wse};function k2(e){return Use(e)||Fse(e)||B6(e)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Use(e){if(Array.isArray(e))return P2(e)}function qh(e,t){return Hse(e)||qse(e,t)||B6(e,t)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6(e,t){if(e){if(typeof e=="string")return P2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(e,t)}}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qse(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(f){i=!0,s=f}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Hse(e){if(Array.isArray(e))return e}function F6(e){var t=qh(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function U6(e,t,r){if(e.lte(0))return new lr(0);var n=Vx.getDigitCount(e.toNumber()),i=new lr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,c=new lr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),f=c.mul(i);return t?f:new lr(Math.ceil(f))}function Kse(e,t,r){var n=1,i=new lr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new lr(10).pow(Vx.getDigitCount(e)-1),i=new lr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new lr(Math.floor(e)))}else e===0?i=new lr(Math.floor((t-1)/2)):r||(i=new lr(Math.floor(e)));var o=Math.floor((t-1)/2),c=Ise(Rse(function(f){return i.add(new lr(f-o).mul(n)).toNumber()}),S2);return c(0,t)}function V6(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new lr(0),tickMin:new lr(0),tickMax:new lr(0)};var s=U6(new lr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new lr(0):(o=new lr(e).add(t).div(2),o=o.sub(new lr(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),f=Math.ceil(new lr(t).sub(o).div(s).toNumber()),h=c+f+1;return h>r?V6(e,t,r,n,i+1):(h<r&&(f=t>0?f+(r-h):f,c=t>0?c:c+(r-h)),{step:s,tickMin:o.sub(new lr(c).mul(s)),tickMax:o.add(new lr(f).mul(s))})}function Gse(e){var t=qh(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=F6([r,n]),f=qh(c,2),h=f[0],m=f[1];if(h===-1/0||m===1/0){var p=m===1/0?[h].concat(k2(S2(0,i-1).map(function(){return 1/0}))):[].concat(k2(S2(0,i-1).map(function(){return-1/0})),[m]);return r>n?N2(p):p}if(h===m)return Kse(h,i,s);var x=V6(h,m,o,s),v=x.step,j=x.tickMin,S=x.tickMax,_=Vx.rangeStep(j,S.add(new lr(.1).mul(v)),v);return r>n?N2(_):_}function Zse(e,t){var r=qh(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=F6([n,i]),c=qh(o,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[n,i];if(f===h)return[f];var m=Math.max(t,2),p=U6(new lr(h).sub(f).div(m-1),s,0),x=[].concat(k2(Vx.rangeStep(new lr(f),new lr(h).sub(new lr(.99).mul(p)),p)),[h]);return n>i?N2(x):x}var Yse=W6(Gse),Xse=W6(Zse),Jse="Invariant failed";function kc(e,t){throw new Error(Jse)}var Qse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function eae(e,t){return iae(e)||nae(e,t)||rae(e,t)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(e,t){if(e){if(typeof e=="string")return CM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(e,t)}}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function iae(e){if(Array.isArray(e))return e}function sae(e,t){if(e==null)return{};var r=aae(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K6(n.key),n)}}function cae(e,t,r){return t&&lae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uae(e,t,r){return t=Iy(t),dae(e,q6()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function dae(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fae(e)}function fae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q6=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function hae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T2(e,t)}function T2(e,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T2(e,t)}function H6(e,t,r){return t=K6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6(e){var t=pae(e,"string");return ld(t)=="symbol"?t:t+""}function pae(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rp=(function(e){function t(){return oae(this,t),uae(this,t,arguments)}return hae(t,e),cae(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,f=n.data,h=n.dataPointFormatter,m=n.xAxis,p=n.yAxis,x=sae(n,Qse),v=zt(x,!1);this.props.direction==="x"&&m.type!=="number"&&kc();var j=f.map(function(S){var _=h(S,c),N=_.x,k=_.y,C=_.value,R=_.errorVal;if(!R)return null;var A=[],E,$;if(Array.isArray(R)){var I=eae(R,2);E=I[0],$=I[1]}else E=$=R;if(s==="vertical"){var D=m.scale,W=k+i,B=W+o,q=W-o,J=D(C-E),X=D(C+$);A.push({x1:X,y1:B,x2:X,y2:q}),A.push({x1:J,y1:W,x2:X,y2:W}),A.push({x1:J,y1:B,x2:J,y2:q})}else if(s==="horizontal"){var Z=p.scale,F=N+i,K=F-o,U=F+o,ie=Z(C-E),se=Z(C+$);A.push({x1:K,y1:se,x2:U,y2:se}),A.push({x1:F,y1:ie,x2:F,y2:se}),A.push({x1:K,y1:ie,x2:U,y2:ie})}return re.createElement(Dr,Ry({className:"recharts-errorBar",key:"bar-".concat(A.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},v),A.map(function(G){return re.createElement("line",Ry({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return re.createElement(Dr,{className:"recharts-errorBars"},j)}}])})(re.Component);H6(Rp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});H6(Rp,"displayName","ErrorBar");function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mae(e,t,r){return t=gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=yae(e,"string");return Hh(t)=="symbol"?t:t+""}function yae(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G6=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=Oi(r,Ku);if(!o)return null;var c=Ku.defaultProps,f=c!==void 0?Jl(Jl({},c),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:s==="children"?h=(n||[]).reduce(function(m,p){var x=p.item,v=p.props,j=v.sectors||v.data||[];return m.concat(j.map(function(S){return{type:o.props.iconType||x.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(n||[]).map(function(m){var p=m.item,x=p.type.defaultProps,v=x!==void 0?Jl(Jl({},x),p.props):{},j=v.dataKey,S=v.name,_=v.legendType,N=v.hide;return{inactive:N,dataKey:j,type:f.iconType||_||"square",color:pk(p),value:S||j,payload:v}}),Jl(Jl(Jl({},f),Ku.getWithHeight(o,i)),{},{payload:h,item:o})};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function OM(e){return wae(e)||bae(e)||vae(e)||xae()}function xae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(e,t){if(e){if(typeof e=="string")return E2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(e,t)}}function bae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wae(e){if(Array.isArray(e))return E2(e)}function E2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Zu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=jae(e,"string");return Kh(t)=="symbol"?t:t+""}function jae(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(e,t,r){return Lt(e)||Lt(t)?r:cn(t)?ss(e,t,r):It(t)?t(e):r}function lh(e,t,r,n){var i=wse(e,function(c){return $i(c,t)});if(r==="number"){var s=i.filter(function(c){return rt(c)||parseFloat(c)});return s.length?[Bx(s),Wx(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!Lt(c)}):i;return o.map(function(c){return cn(c)||c instanceof Date?c:""})}var Sae=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,h=0;h<c;h++){var m=h>0?i[h-1].coordinate:i[c-1].coordinate,p=i[h].coordinate,x=h>=c-1?i[0].coordinate:i[h+1].coordinate,v=void 0;if(Ds(p-m)!==Ds(x-p)){var j=[];if(Ds(x-p)===Ds(f[1]-f[0])){v=x;var S=p+f[1]-f[0];j[0]=Math.min(S,(S+m)/2),j[1]=Math.max(S,(S+m)/2)}else{v=m;var _=x+f[1]-f[0];j[0]=Math.min(p,(_+p)/2),j[1]=Math.max(p,(_+p)/2)}var N=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>N[0]&&t<=N[1]||t>=j[0]&&t<=j[1]){o=i[h].index;break}}else{var k=Math.min(m,x),C=Math.max(m,x);if(t>(k+p)/2&&t<=(C+p)/2){o=i[h].index;break}}}else for(var R=0;R<c;R++)if(R===0&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<c-1&&t>(n[R].coordinate+n[R-1].coordinate)/2&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R===c-1&&t>(n[R].coordinate+n[R-1].coordinate)/2){o=n[R].index;break}return o},pk=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,o=s.stroke,c=s.fill,f;switch(i){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:c;break;default:f=c;break}return f},Nae=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),f=0,h=c.length;f<h;f++)for(var m=s[c[f]].stackGroups,p=Object.keys(m),x=0,v=p.length;x<v;x++){var j=m[p[x]],S=j.items,_=j.cateAxisId,N=S.filter(function($){return io($.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,C=k!==void 0?Rr(Rr({},k),N[0].props):N[0].props,R=C.barSize,A=C[_];o[A]||(o[A]=[]);var E=Lt(R)?r:R;o[A].push({item:N[0],stackList:N.slice(1),barSize:Lt(E)?void 0:Sc(E,n,0)})}}return o},kae=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,c=t.maxBarSize,f=o.length;if(f<1)return null;var h=Sc(r,i,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var x=!1,v=i/f,j=o.reduce(function(R,A){return R+A.barSize||0},0);j+=(f-1)*h,j>=i&&(j-=(f-1)*h,h=0),j>=i&&v>0&&(x=!0,v*=.9,j=f*v);var S=(i-j)/2>>0,_={offset:S-h,size:0};m=o.reduce(function(R,A){var E={item:A.item,position:{offset:_.offset+_.size+h,size:x?v:A.barSize}},$=[].concat(OM(R),[E]);return _=$[$.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){$.push({item:I,position:_})}),$},p)}else{var N=Sc(n,i,0,!0);i-2*N-(f-1)*h<=0&&(h=0);var k=(i-2*N-(f-1)*h)/f;k>1&&(k>>=0);var C=c===+c?Math.min(k,c):k;m=o.reduce(function(R,A,E){var $=[].concat(OM(R),[{item:A.item,position:{offset:N+(k+h)*E+(k-C)/2,size:C}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){$.push({item:I,position:$[$.length-1].position})}),$},p)}return m},Pae=function(t,r,n,i){var s=n.children,o=n.width,c=n.margin,f=o-(c.left||0)-(c.right||0),h=G6({children:s,legendWidth:f});if(h){var m=i||{},p=m.width,x=m.height,v=h.align,j=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&j==="middle")&&v!=="center"&&rt(t[v]))return Rr(Rr({},t),{},Zu({},v,t[v]+(p||0)));if((S==="horizontal"||S==="vertical"&&v==="center")&&j!=="middle"&&rt(t[j]))return Rr(Rr({},t),{},Zu({},j,t[j]+(x||0)))}return t},Tae=function(t,r,n){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Z6=function(t,r,n,i,s){var o=r.props.children,c=as(o,Rp).filter(function(h){return Tae(i,s,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return t.reduce(function(h,m){var p=$i(m,n);if(Lt(p))return h;var x=Array.isArray(p)?[Bx(p),Wx(p)]:[p,p],v=f.reduce(function(j,S){var _=$i(m,S,0),N=x[0]-Math.abs(Array.isArray(_)?_[0]:_),k=x[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(N,j[0]),Math.max(k,j[1])]},[1/0,-1/0]);return[Math.min(v[0],h[0]),Math.max(v[1],h[1])]},[1/0,-1/0])}return null},Eae=function(t,r,n,i,s){var o=r.map(function(c){return Z6(t,c,n,s,i)}).filter(function(c){return!Lt(c)});return o&&o.length?o.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},Y6=function(t,r,n,i,s){var o=r.map(function(f){var h=f.props.dataKey;return n==="number"&&h&&Z6(t,f,h,i)||lh(t,h,n,s)});if(n==="number")return o.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return o.reduce(function(f,h){for(var m=0,p=h.length;m<p;m++)c[h[m]]||(c[h[m]]=!0,f.push(h[m]));return f},[])},X6=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},gc=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,c=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Ds(c[0]-c[1])*2*h:h,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(p){var x=s?s.indexOf(p):p;return{coordinate:i(x)+h,value:p,offset:h}});return m.filter(function(p){return!Pp(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,x){return{coordinate:i(p)+h,value:p,index:x,offset:h}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+h,value:p,offset:h}}):i.domain().map(function(p,x){return{coordinate:i(p)+h,value:s?s[p]:p,index:x,offset:h}})},j_=new WeakMap,wg=function(t,r){if(typeof r!="function")return t;j_.has(t)||j_.set(t,new WeakMap);var n=j_.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Cae=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,c=t.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:zh(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Ey(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:oh(),realScaleType:"point"}:s==="category"?{scale:zh(),realScaleType:"band"}:{scale:Ey(),realScaleType:"linear"};if(kp(i)){var f="scale".concat(Px(i));return{scale:(xM[f]||oh)(),realScaleType:xM[f]?f:"point"}}return It(i)?{scale:i}:{scale:oh(),realScaleType:"point"}},RM=1e-4,Aae=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-RM,o=Math.max(i[0],i[1])+RM,c=t(r[0]),f=t(r[n-1]);(c<s||c>o||f<s||f>o)&&t.domain([r[0],r[n-1]])}},Oae=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Mae=function(t,r){if(!r||r.length!==2||!rt(r[0])||!rt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!rt(t[0])||t[0]<n)&&(s[0]=n),(!rt(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Rae=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var f=Pp(t[c][n][1])?t[c][n][0]:t[c][n][1];f>=0?(t[c][n][0]=s,t[c][n][1]=s+f,s=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+f,o=t[c][n][1])}},Iae=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=Pp(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Lae={sign:Rae,expand:xQ,none:ed,silhouette:vQ,wiggle:bQ,positive:Iae},Dae=function(t,r,n){var i=r.map(function(c){return c.props.dataKey}),s=Lae[n],o=yQ().keys(i).value(function(c,f){return+$i(c,f,0)}).order(s2).offset(s);return o(t)},$ae=function(t,r,n,i,s,o){if(!t)return null;var c=o?r.reverse():r,f={},h=c.reduce(function(p,x){var v,j=(v=x.type)!==null&&v!==void 0&&v.defaultProps?Rr(Rr({},x.type.defaultProps),x.props):x.props,S=j.stackId,_=j.hide;if(_)return p;var N=j[n],k=p[N]||{hasStack:!1,stackGroups:{}};if(cn(S)){var C=k.stackGroups[S]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(x),k.hasStack=!0,k.stackGroups[S]=C}else k.stackGroups[Tp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[x]};return Rr(Rr({},p),{},Zu({},N,k))},f),m={};return Object.keys(h).reduce(function(p,x){var v=h[x];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(S,_){var N=v.stackGroups[_];return Rr(Rr({},S),{},Zu({},_,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:Dae(t,N.items,s)}))},j)}return Rr(Rr({},p),{},Zu({},x,v))},m)},zae=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=t.domain();if(!h.length)return null;var m=Yse(h,s,c);return t.domain([Bx(m),Wx(m)]),{niceTicks:m}}if(s&&i==="number"){var p=t.domain(),x=Xse(p,s,c);return{niceTicks:x}}return null};function IM(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(i[t.dataKey])){var c=ly(r,"value",i[t.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var f=$i(i,Lt(o)?t.dataKey:o);return Lt(f)?null:t.scale(f)}var LM=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var f=$i(o,r.dataKey,r.domain[c]);return Lt(f)?null:r.scale(f)-s/2+i},Wae=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Bae=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(cn(s)){var o=r[s];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},Fae=function(t){return t.reduce(function(r,n){return[Bx(n.concat([r[0]]).filter(rt)),Wx(n.concat([r[1]]).filter(rt))]},[1/0,-1/0])},J6=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],c=o.stackedData,f=c.reduce(function(h,m){var p=Fae(m.slice(r,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$M=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C2=function(t,r,n){if(It(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(rt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(DM.test(t[0])){var s=+DM.exec(t[0])[1];i[0]=r[0]-s}else It(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(rt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if($M.test(t[1])){var o=+$M.exec(t[1])[1];i[1]=r[1]+o}else It(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Ly=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=FN(r,function(p){return p.coordinate}),o=1/0,c=1,f=s.length;c<f;c++){var h=s[c],m=s[c-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},zM=function(t,r,n){return!t||!t.length||Fx(t,ss(n,"type.defaultProps.domain"))?r:t},Q6=function(t,r){var n=t.type.defaultProps?Rr(Rr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,f=n.tooltipType,h=n.chartType,m=n.hide;return Rr(Rr({},zt(t,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:pk(t),value:$i(r,i),type:f,payload:r,chartType:h,hide:m})};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uae(e,t,r){return t=Vae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=qae(e,"string");return Gh(t)=="symbol"?t:t+""}function qae(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dy=Math.PI/180,Hae=function(t){return t*180/Math.PI},Tn=function(t,r,n,i){return{x:t+Math.cos(-Dy*i)*n,y:r+Math.sin(-Dy*i)*n}},Kae=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Gae=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,c=Kae({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var f=(n-s)/c,h=Math.acos(f);return i>o&&(h=2*Math.PI-h),{radius:c,angle:Hae(h),angleInRadian:h}},Zae=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Yae=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return t+c*360},FM=function(t,r){var n=t.x,i=t.y,s=Gae({x:n,y:i},r),o=s.radius,c=s.angle,f=r.innerRadius,h=r.outerRadius;if(o<f||o>h)return!1;if(o===0)return!0;var m=Zae(r),p=m.startAngle,x=m.endAngle,v=c,j;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;j=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;j=v>=x&&v<=p}return j?BM(BM({},r),{},{radius:o,angle:Yae(v,r)}):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}var Xae=["offset"];function Jae(e){return roe(e)||toe(e)||eoe(e)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(e,t){if(e){if(typeof e=="string")return A2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(e,t)}}function toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function roe(e){if(Array.isArray(e))return A2(e)}function A2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function noe(e,t){if(e==null)return{};var r=ioe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ioe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function soe(e,t,r){return t=aoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aoe(e){var t=ooe(e,"string");return Zh(t)=="symbol"?t:t+""}function ooe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}var loe=function(t){var r=t.value,n=t.formatter,i=Lt(t.children)?r:t.children;return It(n)?n(i):i},coe=function(t,r){var n=Ds(r-t),i=Math.min(Math.abs(r-t),360);return n*i},uoe=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,c=t.className,f=s,h=f.cx,m=f.cy,p=f.innerRadius,x=f.outerRadius,v=f.startAngle,j=f.endAngle,S=f.clockWise,_=(p+x)/2,N=coe(v,j),k=N>=0?1:-1,C,R;i==="insideStart"?(C=v+k*o,R=S):i==="insideEnd"?(C=j-k*o,R=!S):i==="end"&&(C=j+k*o,R=S),R=N<=0?R:!R;var A=Tn(h,m,_,C),E=Tn(h,m,_,C+(R?1:-1)*359),$="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(E.x,",").concat(E.y),I=Lt(t.id)?Tp("recharts-radial-line-"):t.id;return re.createElement("text",Yh({},n,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",c)}),re.createElement("defs",null,re.createElement("path",{id:I,d:$})),re.createElement("textPath",{xlinkHref:"#".concat(I)},r))},doe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,c=s.cy,f=s.innerRadius,h=s.outerRadius,m=s.startAngle,p=s.endAngle,x=(m+p)/2;if(i==="outside"){var v=Tn(o,c,h+n,x),j=v.x,S=v.y;return{x:j,y:S,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var _=(f+h)/2,N=Tn(o,c,_,x),k=N.x,C=N.y;return{x:k,y:C,textAnchor:"middle",verticalAnchor:"middle"}},foe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,c=o.x,f=o.y,h=o.width,m=o.height,p=m>=0?1:-1,x=p*i,v=p>0?"end":"start",j=p>0?"start":"end",S=h>=0?1:-1,_=S*i,N=S>0?"end":"start",k=S>0?"start":"end";if(s==="top"){var C={x:c+h/2,y:f-p*i,textAnchor:"middle",verticalAnchor:v};return nn(nn({},C),n?{height:Math.max(f-n.y,0),width:h}:{})}if(s==="bottom"){var R={x:c+h/2,y:f+m+x,textAnchor:"middle",verticalAnchor:j};return nn(nn({},R),n?{height:Math.max(n.y+n.height-(f+m),0),width:h}:{})}if(s==="left"){var A={x:c-_,y:f+m/2,textAnchor:N,verticalAnchor:"middle"};return nn(nn({},A),n?{width:Math.max(A.x-n.x,0),height:m}:{})}if(s==="right"){var E={x:c+h+_,y:f+m/2,textAnchor:k,verticalAnchor:"middle"};return nn(nn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:m}:{})}var $=n?{width:h,height:m}:{};return s==="insideLeft"?nn({x:c+_,y:f+m/2,textAnchor:k,verticalAnchor:"middle"},$):s==="insideRight"?nn({x:c+h-_,y:f+m/2,textAnchor:N,verticalAnchor:"middle"},$):s==="insideTop"?nn({x:c+h/2,y:f+x,textAnchor:"middle",verticalAnchor:j},$):s==="insideBottom"?nn({x:c+h/2,y:f+m-x,textAnchor:"middle",verticalAnchor:v},$):s==="insideTopLeft"?nn({x:c+_,y:f+x,textAnchor:k,verticalAnchor:j},$):s==="insideTopRight"?nn({x:c+h-_,y:f+x,textAnchor:N,verticalAnchor:j},$):s==="insideBottomLeft"?nn({x:c+_,y:f+m-x,textAnchor:k,verticalAnchor:v},$):s==="insideBottomRight"?nn({x:c+h-_,y:f+m-x,textAnchor:N,verticalAnchor:v},$):Pd(s)&&(rt(s.x)||hc(s.x))&&(rt(s.y)||hc(s.y))?nn({x:c+Sc(s.x,h),y:f+Sc(s.y,m),textAnchor:"end",verticalAnchor:"end"},$):nn({x:c+h/2,y:f+m/2,textAnchor:"middle",verticalAnchor:"middle"},$)},hoe=function(t){return"cx"in t&&rt(t.cx)};function Wn(e){var t=e.offset,r=t===void 0?5:t,n=noe(e,Xae),i=nn({offset:r},n),s=i.viewBox,o=i.position,c=i.value,f=i.children,h=i.content,m=i.className,p=m===void 0?"":m,x=i.textBreakAll;if(!s||Lt(c)&&Lt(f)&&!O.isValidElement(h)&&!It(h))return null;if(O.isValidElement(h))return O.cloneElement(h,i);var v;if(It(h)){if(v=O.createElement(h,i),O.isValidElement(v))return v}else v=loe(i);var j=hoe(s),S=zt(i,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uoe(i,v,S);var _=j?doe(i):foe(i);return re.createElement(wy,Yh({className:Vt("recharts-label",p)},S,_,{breakAll:x}),v)}Wn.displayName="Label";var e7=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,c=t.r,f=t.radius,h=t.innerRadius,m=t.outerRadius,p=t.x,x=t.y,v=t.top,j=t.left,S=t.width,_=t.height,N=t.clockWise,k=t.labelViewBox;if(k)return k;if(rt(S)&&rt(_)){if(rt(p)&&rt(x))return{x:p,y:x,width:S,height:_};if(rt(v)&&rt(j))return{x:v,y:j,width:S,height:_}}return rt(p)&&rt(x)?{x:p,y:x,width:0,height:0}:rt(r)&&rt(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:m||f||c||0,clockWise:N}:t.viewBox?t.viewBox:{}},poe=function(t,r){return t?t===!0?re.createElement(Wn,{key:"label-implicit",viewBox:r}):cn(t)?re.createElement(Wn,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Wn?O.cloneElement(t,{key:"label-implicit",viewBox:r}):re.createElement(Wn,{key:"label-implicit",content:t,viewBox:r}):It(t)?re.createElement(Wn,{key:"label-implicit",content:t,viewBox:r}):Pd(t)?re.createElement(Wn,Yh({viewBox:r},t,{key:"label-implicit"})):null:null},moe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=e7(t),o=as(i,Wn).map(function(f,h){return O.cloneElement(f,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return o;var c=poe(t.label,r||s);return[c].concat(Jae(o))};Wn.parseViewBox=e7;Wn.renderCallByParent=moe;var S_,VM;function goe(){if(VM)return S_;VM=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return S_=e,S_}var yoe=goe();const xoe=rr(yoe);function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var voe=["valueAccessor"],boe=["data","dataKey","clockWise","id","textBreakAll"];function woe(e){return Noe(e)||Soe(e)||joe(e)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(e,t){if(e){if(typeof e=="string")return O2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(e,t)}}function Soe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Noe(e){if(Array.isArray(e))return O2(e)}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function koe(e,t,r){return t=Poe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Toe(e,"string");return Xh(t)=="symbol"?t:t+""}function Toe(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KM(e,t){if(e==null)return{};var r=Eoe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Coe=function(t){return Array.isArray(t.value)?xoe(t.value):t.value};function hl(e){var t=e.valueAccessor,r=t===void 0?Coe:t,n=KM(e,voe),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,f=n.textBreakAll,h=KM(n,boe);return!i||!i.length?null:re.createElement(Dr,{className:"recharts-label-list"},i.map(function(m,p){var x=Lt(s)?r(m,p):$i(m&&m.payload,s),v=Lt(c)?{}:{id:"".concat(c,"-").concat(p)};return re.createElement(Wn,$y({},zt(m,!0),h,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:f,viewBox:Wn.parseViewBox(Lt(o)?m:HM(HM({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}hl.displayName="LabelList";function Aoe(e,t){return e?e===!0?re.createElement(hl,{key:"labelList-implicit",data:t}):re.isValidElement(e)||It(e)?re.createElement(hl,{key:"labelList-implicit",data:t,content:e}):Pd(e)?re.createElement(hl,$y({data:t},e,{key:"labelList-implicit"})):null:null}function Ooe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=as(n,hl).map(function(o,c){return O.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return i;var s=Aoe(e.label,t);return[s].concat(woe(i))}hl.renderCallByParent=Ooe;function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(this,arguments)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){Moe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Moe(e,t,r){return t=Roe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Ioe(e,"string");return Jh(t)=="symbol"?t:t+""}function Ioe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Loe=function(t,r){var n=Ds(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},_g=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,c=t.isExternal,f=t.cornerRadius,h=t.cornerIsExternal,m=f*(c?1:-1)+i,p=Math.asin(f/m)/Dy,x=h?s:s+o*p,v=Tn(r,n,m,x),j=Tn(r,n,i,x),S=h?s-o*p:s,_=Tn(r,n,m*Math.cos(p*Dy),S);return{center:v,circleTangency:j,lineTangency:_,theta:p}},t7=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,c=t.endAngle,f=Loe(o,c),h=o+f,m=Tn(r,n,s,o),p=Tn(r,n,s,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Tn(r,n,i,o),j=Tn(r,n,i,h);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},Doe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,f=t.cornerIsExternal,h=t.startAngle,m=t.endAngle,p=Ds(m-h),x=_g({cx:r,cy:n,radius:s,angle:h,sign:p,cornerRadius:o,cornerIsExternal:f}),v=x.circleTangency,j=x.lineTangency,S=x.theta,_=_g({cx:r,cy:n,radius:s,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:f}),N=_.circleTangency,k=_.lineTangency,C=_.theta,R=f?Math.abs(h-m):Math.abs(h-m)-S-C;if(R<0)return c?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):t7({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m});var A="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(R>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var E=_g({cx:r,cy:n,radius:i,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),$=E.circleTangency,I=E.lineTangency,D=E.theta,W=_g({cx:r,cy:n,radius:i,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),B=W.circleTangency,q=W.lineTangency,J=W.theta,X=f?Math.abs(h-m):Math.abs(h-m)-D-J;if(X<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(p>0),",").concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},$oe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r7=function(t){var r=ZM(ZM({},$oe),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,f=r.forceCornerRadius,h=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,x=r.className;if(o<s||m===p)return null;var v=Vt("recharts-sector",x),j=o-s,S=Sc(c,j,0,!0),_;return S>0&&Math.abs(m-p)<360?_=Doe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(S,j/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:p}):_=t7({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:m,endAngle:p}),re.createElement("path",M2({},zt(r,!0),{className:v,d:_,role:"img"}))};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R2.apply(this,arguments)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zoe(e,t,r){return t=Woe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=Boe(e,"string");return Qh(t)=="symbol"?t:t+""}function Boe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JM={curveBasisClosed:aQ,curveBasisOpen:oQ,curveBasis:sQ,curveBumpX:qJ,curveBumpY:HJ,curveLinearClosed:lQ,curveLinear:Ex,curveMonotoneX:cQ,curveMonotoneY:uQ,curveNatural:dQ,curveStep:fQ,curveStepAfter:pQ,curveStepBefore:hQ},jg=function(t){return t.x===+t.x&&t.y===+t.y},Mf=function(t){return t.x},Rf=function(t){return t.y},Foe=function(t,r){if(It(t))return t;var n="curve".concat(Px(t));return(n==="curveMonotone"||n==="curveBump")&&r?JM["".concat(n).concat(r==="vertical"?"Y":"X")]:JM[n]||Ex},Uoe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,c=t.layout,f=t.connectNulls,h=f===void 0?!1:f,m=Foe(n,c),p=h?s.filter(function(S){return jg(S)}):s,x;if(Array.isArray(o)){var v=h?o.filter(function(S){return jg(S)}):o,j=p.map(function(S,_){return XM(XM({},S),{},{base:v[_]})});return c==="vertical"?x=pg().y(Rf).x1(Mf).x0(function(S){return S.base.x}):x=pg().x(Mf).y1(Rf).y0(function(S){return S.base.y}),x.defined(jg).curve(m),x(j)}return c==="vertical"&&rt(o)?x=pg().y(Rf).x1(Mf).x0(o):rt(o)?x=pg().x(Mf).y1(Rf).y0(o):x=lD().x(Mf).y(Rf),x.defined(jg).curve(m),x(p)},I2=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Uoe(t):i;return re.createElement("path",R2({},zt(t,!1),cy(t),{className:Vt("recharts-curve",r),d:o,ref:s}))},N_={exports:{}},k_,QM;function Voe(){if(QM)return k_;QM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k_=e,k_}var P_,e3;function qoe(){if(e3)return P_;e3=1;var e=Voe();function t(){}function r(){}return r.resetWarningCache=t,P_=function(){function n(o,c,f,h,m,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},P_}var t3;function Hoe(){return t3||(t3=1,N_.exports=qoe()()),N_.exports}var Koe=Hoe();const er=rr(Koe),{getOwnPropertyNames:Goe,getOwnPropertySymbols:Zoe}=Object,{hasOwnProperty:Yoe}=Object.prototype;function T_(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Sg(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);const f=e(r,n,i);return s.delete(r),s.delete(n),f}}function Xoe(e){return e!=null?e[Symbol.toStringTag]:void 0}function r3(e){return Goe(e).concat(Zoe(e))}const Joe=Object.hasOwn||((e,t)=>Yoe.call(e,t));function Ac(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Qoe="__v",ele="__o",tle="_owner",{getOwnPropertyDescriptor:n3,keys:i3}=Object;function rle(e,t){return e.byteLength===t.byteLength&&zy(new Uint8Array(e),new Uint8Array(t))}function nle(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ile(e,t){return e.byteLength===t.byteLength&&zy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function sle(e,t){return Ac(e.getTime(),t.getTime())}function ale(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ole(e,t){return e===t}function s3(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,c,f=0;for(;(o=s.next())&&!o.done;){const h=t.entries();let m=!1,p=0;for(;(c=h.next())&&!c.done;){if(i[p]){p++;continue}const x=o.value,v=c.value;if(r.equals(x[0],v[0],f,p,e,t,r)&&r.equals(x[1],v[1],x[0],v[0],e,t,r)){m=i[p]=!0;break}p++}if(!m)return!1;f++}return!0}const lle=Ac;function cle(e,t,r){const n=i3(e);let i=n.length;if(i3(t).length!==i)return!1;for(;i-- >0;)if(!n7(e,t,r,n[i]))return!1;return!0}function If(e,t,r){const n=r3(e);let i=n.length;if(r3(t).length!==i)return!1;let s,o,c;for(;i-- >0;)if(s=n[i],!n7(e,t,r,s)||(o=n3(e,s),c=n3(t,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function ule(e,t){return Ac(e.valueOf(),t.valueOf())}function dle(e,t){return e.source===t.source&&e.flags===t.flags}function a3(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,c;for(;(o=s.next())&&!o.done;){const f=t.values();let h=!1,m=0;for(;(c=f.next())&&!c.done;){if(!i[m]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1}return!0}function zy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function fle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function n7(e,t,r,n){return(n===tle||n===ele||n===Qoe)&&(e.$$typeof||t.$$typeof)?!0:Joe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const hle="[object ArrayBuffer]",ple="[object Arguments]",mle="[object Boolean]",gle="[object DataView]",yle="[object Date]",xle="[object Error]",vle="[object Map]",ble="[object Number]",wle="[object Object]",_le="[object RegExp]",jle="[object Set]",Sle="[object String]",Nle={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kle="[object URL]",Ple=Object.prototype.toString;function Tle({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:c,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:j}){return function(_,N,k){if(_===N)return!0;if(_==null||N==null)return!1;const C=typeof _;if(C!==typeof N)return!1;if(C!=="object")return C==="number"?c(_,N,k):C==="function"?s(_,N,k):!1;const R=_.constructor;if(R!==N.constructor)return!1;if(R===Object)return f(_,N,k);if(Array.isArray(_))return t(_,N,k);if(R===Date)return n(_,N,k);if(R===RegExp)return m(_,N,k);if(R===Map)return o(_,N,k);if(R===Set)return p(_,N,k);const A=Ple.call(_);if(A===yle)return n(_,N,k);if(A===_le)return m(_,N,k);if(A===vle)return o(_,N,k);if(A===jle)return p(_,N,k);if(A===wle)return typeof _.then!="function"&&typeof N.then!="function"&&f(_,N,k);if(A===kle)return v(_,N,k);if(A===xle)return i(_,N,k);if(A===ple)return f(_,N,k);if(Nle[A])return x(_,N,k);if(A===hle)return e(_,N,k);if(A===gle)return r(_,N,k);if(A===mle||A===ble||A===Sle)return h(_,N,k);if(j){let E=j[A];if(!E){const $=Xoe(_);$&&(E=j[$])}if(E)return E(_,N,k)}return!1}}function Ele({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:rle,areArraysEqual:r?If:nle,areDataViewsEqual:ile,areDatesEqual:sle,areErrorsEqual:ale,areFunctionsEqual:ole,areMapsEqual:r?T_(s3,If):s3,areNumbersEqual:lle,areObjectsEqual:r?If:cle,arePrimitiveWrappersEqual:ule,areRegExpsEqual:dle,areSetsEqual:r?T_(a3,If):a3,areTypedArraysEqual:r?T_(zy,If):zy,areUrlsEqual:fle,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Sg(n.areArraysEqual),s=Sg(n.areMapsEqual),o=Sg(n.areObjectsEqual),c=Sg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return n}function Cle(e){return function(t,r,n,i,s,o,c){return e(t,r,c)}}function Ale({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(c,f){const{cache:h=e?new WeakMap:void 0,meta:m}=r();return t(c,f,{cache:h,equals:n,meta:m,strict:i})};if(e)return function(c,f){return t(c,f,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,f){return t(c,f,s)}}const Ole=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:()=>Ac});Sl({strict:!0,createInternalComparator:()=>Ac});Sl({circular:!0,createInternalComparator:()=>Ac});Sl({circular:!0,createInternalComparator:()=>Ac,strict:!0});function Sl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=Ele(e),o=Tle(s),c=r?r(o):Cle(o);return Ale({circular:t,comparator:o,createState:n,equals:c,strict:i})}function Mle(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function o3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Mle(i)};requestAnimationFrame(n)}function L2(e){"@babel/helpers - typeof";return L2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L2(e)}function Rle(e){return $le(e)||Dle(e)||Lle(e)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $le(e){if(Array.isArray(e))return e}function zle(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=Rle(o),f=c[0],h=c.slice(1);if(typeof f=="number"){o3(i.bind(null,h),f);return}i(f),o3(i.bind(null,h));return}L2(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){i7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7(e,t,r){return t=Wle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e){var t=Ble(e,"string");return ep(t)==="symbol"?t:String(t)}function Ble(e,t){if(ep(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fle=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Ule=function(t){return t},Vle=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ch=function(t,r){return Object.keys(r).reduce(function(n,i){return u3(u3({},n),{},i7({},i,t(i,r[i])))},{})},d3=function(t,r,n){return t.map(function(i){return"".concat(Vle(i)," ").concat(r,"ms ").concat(n)}).join(",")};function qle(e,t){return Gle(e)||Kle(e,t)||s7(e,t)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Gle(e){if(Array.isArray(e))return e}function Zle(e){return Jle(e)||Xle(e)||s7(e)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7(e,t){if(e){if(typeof e=="string")return D2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(e,t)}}function Xle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jle(e){if(Array.isArray(e))return D2(e)}function D2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wy=1e-4,a7=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},o7=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},f3=function(t,r){return function(n){var i=a7(t,r);return o7(i,n)}},Qle=function(t,r){return function(n){var i=a7(t,r),s=[].concat(Zle(i.map(function(o,c){return o*c}).slice(1)),[0]);return o7(s,n)}},h3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),m=qle(h,4);i=m[0],s=m[1],o=m[2],c=m[3]}}}var p=f3(i,o),x=f3(s,c),v=Qle(i,o),j=function(N){return N>1?1:N<0?0:N},S=function(N){for(var k=N>1?1:N,C=k,R=0;R<8;++R){var A=p(C)-k,E=v(C);if(Math.abs(A-k)<Wy||E<Wy)return x(C);C=j(C-A/E)}return x(C)};return S.isStepper=!1,S},ece=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,c=o===void 0?17:o,f=function(m,p,x){var v=-(m-p)*n,j=x*s,S=x+(v-j)*c/1e3,_=x*c/1e3+m;return Math.abs(_-p)<Wy&&Math.abs(S)<Wy?[p,0]:[_,S]};return f.isStepper=!0,f.dt=c,f},tce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h3(i);case"spring":return ece();default:if(i.split("(")[0]==="cubic-bezier")return h3(i)}return typeof i=="function"?i:null};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function p3(e){return ice(e)||nce(e)||l7(e)||rce()}function rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ice(e){if(Array.isArray(e))return z2(e)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $2(e,t,r){return t=sce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sce(e){var t=ace(e,"string");return tp(t)==="symbol"?t:String(t)}function ace(e,t){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oce(e,t){return uce(e)||cce(e,t)||l7(e,t)||lce()}function lce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e,t){if(e){if(typeof e=="string")return z2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z2(e,t)}}function z2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function uce(e){if(Array.isArray(e))return e}var By=function(t,r,n){return t+(r-t)*n},W2=function(t){var r=t.from,n=t.to;return r!==n},dce=function e(t,r,n){var i=ch(function(s,o){if(W2(o)){var c=t(o.from,o.to,o.velocity),f=oce(c,2),h=f[0],m=f[1];return Sn(Sn({},o),{},{from:h,velocity:m})}return o},r);return n<1?ch(function(s,o){return W2(o)?Sn(Sn({},o),{},{velocity:By(o.velocity,i[s].velocity,n),from:By(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const fce=(function(e,t,r,n,i){var s=Fle(e,t),o=s.reduce(function(_,N){return Sn(Sn({},_),{},$2({},N,[e[N],t[N]]))},{}),c=s.reduce(function(_,N){return Sn(Sn({},_),{},$2({},N,{from:e[N],velocity:0,to:t[N]}))},{}),f=-1,h,m,p=function(){return null},x=function(){return ch(function(N,k){return k.from},c)},v=function(){return!Object.values(c).filter(W2).length},j=function(N){h||(h=N);var k=N-h,C=k/r.dt;c=dce(r,c,C),i(Sn(Sn(Sn({},e),t),x())),h=N,v()||(f=requestAnimationFrame(p))},S=function(N){m||(m=N);var k=(N-m)/n,C=ch(function(A,E){return By.apply(void 0,p3(E).concat([r(k)]))},o);if(i(Sn(Sn(Sn({},e),t),C)),k<1)f=requestAnimationFrame(p);else{var R=ch(function(A,E){return By.apply(void 0,p3(E).concat([r(1)]))},o);i(Sn(Sn(Sn({},e),t),R))}};return p=r.isStepper?j:S,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}});function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}var hce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pce(e,t){if(e==null)return{};var r=mce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function E_(e){return vce(e)||xce(e)||yce(e)||gce()}function gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(e,t){if(e){if(typeof e=="string")return B2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(e,t)}}function xce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vce(e){if(Array.isArray(e))return B2(e)}function B2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hf(e,t,r){return t=c7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c7(n.key),n)}}function _ce(e,t,r){return t&&wce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c7(e){var t=jce(e,"string");return cd(t)==="symbol"?t:String(t)}function jce(e,t){if(cd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F2(e,t)}function F2(e,t){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F2(e,t)}function Nce(e){var t=kce();return function(){var n=Fy(e),i;if(t){var s=Fy(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return U2(this,i)}}function U2(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V2(e)}function V2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(e)}var fo=(function(e){Sce(r,e);var t=Nce(r);function r(n,i){var s;bce(this,r),s=t.call(this,n,i);var o=s.props,c=o.isActive,f=o.attributeName,h=o.from,m=o.to,p=o.steps,x=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(V2(s)),s.changeStyle=s.changeStyle.bind(V2(s)),!c||v<=0)return s.state={style:{}},typeof x=="function"&&(s.state={style:m}),U2(s);if(p&&p.length)s.state={style:p[0].style};else if(h){if(typeof x=="function")return s.state={style:h},U2(s);s.state={style:f?Hf({},f,h):h}}else s.state={style:{}};return s}return _ce(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,f=s.attributeName,h=s.shouldReAnimate,m=s.to,p=s.from,x=this.state.style;if(c){if(!o){var v={style:f?Hf({},f,m):m};this.state&&x&&(f&&x[f]!==m||!f&&x!==m)&&this.setState(v);return}if(!(Ole(i.to,m)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=j||h?p:i.to;if(this.state&&x){var _={style:f?Hf({},f,S):S};(f&&x[f]!==S||!f&&x!==S)&&this.setState(_)}this.runAnimation(Ss(Ss({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,f=i.duration,h=i.easing,m=i.begin,p=i.onAnimationEnd,x=i.onAnimationStart,v=fce(o,c,tce(h),f,this.changeStyle),j=function(){s.stopJSAnimation=v()};this.manager.start([x,m,j,f,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,f=i.onAnimationStart,h=o[0],m=h.style,p=h.duration,x=p===void 0?0:p,v=function(S,_,N){if(N===0)return S;var k=_.duration,C=_.easing,R=C===void 0?"ease":C,A=_.style,E=_.properties,$=_.onAnimationEnd,I=N>0?o[N-1]:_,D=E||Object.keys(A);if(typeof R=="function"||R==="spring")return[].concat(E_(S),[s.runJSAnimation.bind(s,{from:I.style,to:A,duration:k,easing:R}),k]);var W=d3(D,k,R),B=Ss(Ss(Ss({},I.style),A),{},{transition:W});return[].concat(E_(S),[B,k,$]).filter(Ule)};return this.manager.start([f].concat(E_(o.reduce(v,[m,Math.max(x,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zle());var s=i.begin,o=i.duration,c=i.attributeName,f=i.to,h=i.easing,m=i.onAnimationStart,p=i.onAnimationEnd,x=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof h=="function"||typeof v=="function"||h==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var S=c?Hf({},c,f):f,_=d3(Object.keys(S),o,h);j.start([m,s,Ss(Ss({},S),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=pce(i,hce),h=O.Children.count(s),m=this.state.style;if(typeof s=="function")return s(m);if(!c||h===0||o<=0)return s;var p=function(v){var j=v.props,S=j.style,_=S===void 0?{}:S,N=j.className,k=O.cloneElement(v,Ss(Ss({},f),{},{style:Ss(Ss({},_),m),className:N}));return k};return h===1?p(O.Children.only(s)):re.createElement("div",null,O.Children.map(s,function(x){return p(x)}))}}]),r})(O.PureComponent);fo.displayName="Animate";fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fo.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function Pce(e,t){return Ace(e)||Cce(e,t)||Ece(e,t)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){if(e){if(typeof e=="string")return y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Ace(e){if(Array.isArray(e))return e}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){Oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t,r){return t=Mce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mce(e){var t=Rce(e,"string");return rp(t)=="symbol"?t:t+""}function Rce(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b3=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,f=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=s[x]>o?o:s[x];m="M".concat(t,",").concat(r+c*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+f*p[0],",").concat(r)),m+="L ".concat(t+n-f*p[1],",").concat(r),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(r+c*p[1])),m+="L ".concat(t+n,",").concat(r+i-c*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-f*p[2],",").concat(r+i)),m+="L ".concat(t+f*p[3],",").concat(r+i),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(r+i-c*p[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var j=Math.min(o,s);m="M ".concat(t,",").concat(r+c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+f*j,",").concat(r,`
            L `).concat(t+n-f*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n,",").concat(r+c*j,`
            L `).concat(t+n,",").concat(r+i-c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n-f*j,",").concat(r+i,`
            L `).concat(t+f*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t,",").concat(r+i-c*j," Z")}else m="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},Ice=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,c=r.width,f=r.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(s,s+c),m=Math.max(s,s+c),p=Math.min(o,o+f),x=Math.max(o,o+f);return n>=h&&n<=m&&i>=p&&i<=x}return!1},Lce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mk=function(t){var r=v3(v3({},Lce),t),n=O.useRef(),i=O.useState(-1),s=Pce(i,2),o=s[0],c=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&c(R)}catch{}},[]);var f=r.x,h=r.y,m=r.width,p=r.height,x=r.radius,v=r.className,j=r.animationEasing,S=r.animationDuration,_=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(f!==+f||h!==+h||m!==+m||p!==+p||m===0||p===0)return null;var C=Vt("recharts-rectangle",v);return k?re.createElement(fo,{canBegin:o>0,from:{width:m,height:p,x:f,y:h},to:{width:m,height:p,x:f,y:h},duration:S,animationEasing:j,isActive:k},function(R){var A=R.width,E=R.height,$=R.x,I=R.y;return re.createElement(fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,isActive:N,easing:j},re.createElement("path",Uy({},zt(r,!0),{className:C,d:b3($,I,A,E,x),ref:n})))}):re.createElement("path",Uy({},zt(r,!0),{className:C,d:b3(f,h,m,p,x)}))};function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q2.apply(this,arguments)}var gk=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Vt("recharts-dot",s);return r===+r&&n===+n&&i===+i?re.createElement("circle",q2({},zt(t,!1),cy(t),{className:o,cx:r,cy:n,r:i})):null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var Dce=["x","y","top","left","width","height","className"];function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zce(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Bce(e,"string");return np(t)=="symbol"?t:t+""}function Bce(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fce(e,t){if(e==null)return{};var r=Uce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Vce=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},qce=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,c=o===void 0?0:o,f=t.left,h=f===void 0?0:f,m=t.width,p=m===void 0?0:m,x=t.height,v=x===void 0?0:x,j=t.className,S=Fce(t,Dce),_=$ce({x:n,y:s,top:c,left:h,width:p,height:v},S);return!rt(n)||!rt(s)||!rt(p)||!rt(v)||!rt(c)||!rt(h)?null:re.createElement("path",H2({},zt(_,!0),{className:Vt("recharts-cross",j),d:Vce(n,s,p,v,c,h)}))},C_,_3;function Hce(){if(_3)return C_;_3=1;var e=AD(),t=e(Object.getPrototypeOf,Object);return C_=t,C_}var A_,j3;function Kce(){if(j3)return A_;j3=1;var e=mo(),t=Hce(),r=go(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,c=s.hasOwnProperty,f=o.call(Object);function h(m){if(!r(m)||e(m)!=n)return!1;var p=t(m);if(p===null)return!0;var x=c.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==f}return A_=h,A_}var Gce=Kce();const Zce=rr(Gce);var O_,S3;function Yce(){if(S3)return O_;S3=1;var e=mo(),t=go(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return O_=n,O_}var Xce=Yce();const Jce=rr(Xce);function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(this,arguments)}function Qce(e,t){return nue(e)||rue(e,t)||tue(e,t)||eue()}function eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tue(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function nue(e){if(Array.isArray(e))return e}function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return t=sue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=aue(e,"string");return ip(t)=="symbol"?t:t+""}function aue(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T3=function(t,r,n,i,s){var o=n-i,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+s),c+="L ".concat(t+n-o/2-i,",").concat(r+s),c+="L ".concat(t,",").concat(r," Z"),c},oue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lue=function(t){var r=P3(P3({},oue),t),n=O.useRef(),i=O.useState(-1),s=Qce(i,2),o=s[0],c=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&c(C)}catch{}},[]);var f=r.x,h=r.y,m=r.upperWidth,p=r.lowerWidth,x=r.height,v=r.className,j=r.animationEasing,S=r.animationDuration,_=r.animationBegin,N=r.isUpdateAnimationActive;if(f!==+f||h!==+h||m!==+m||p!==+p||x!==+x||m===0&&p===0||x===0)return null;var k=Vt("recharts-trapezoid",v);return N?re.createElement(fo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:h},to:{upperWidth:m,lowerWidth:p,height:x,x:f,y:h},duration:S,animationEasing:j,isActive:N},function(C){var R=C.upperWidth,A=C.lowerWidth,E=C.height,$=C.x,I=C.y;return re.createElement(fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:S,easing:j},re.createElement("path",Vy({},zt(r,!0),{className:k,d:T3($,I,R,A,E),ref:n})))}):re.createElement("g",null,re.createElement("path",Vy({},zt(r,!0),{className:k,d:T3(f,h,m,p,x)})))},cue=["option","shapeType","propTransformer","activeClassName","isActive"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function uue(e,t){if(e==null)return{};var r=due(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function due(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){fue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fue(e,t,r){return t=hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hue(e){var t=pue(e,"string");return sp(t)=="symbol"?t:t+""}function pue(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mue(e,t){return qy(qy({},t),e)}function gue(e,t){return e==="symbols"}function C3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return re.createElement(mk,r);case"trapezoid":return re.createElement(lue,r);case"sector":return re.createElement(r7,r);case"symbols":if(gue(t))return re.createElement(RN,r);break;default:return null}}function yue(e){return O.isValidElement(e)?e.props:e}function xue(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?mue:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,c=e.isActive,f=uue(e,cue),h;if(O.isValidElement(t))h=O.cloneElement(t,qy(qy({},f),yue(t)));else if(It(t))h=t(f);else if(Zce(t)&&!Jce(t)){var m=i(t,f);h=re.createElement(C3,{shapeType:r,elementProps:m})}else{var p=f;h=re.createElement(C3,{shapeType:r,elementProps:p})}return c?re.createElement(Dr,{className:o},h):h}function qx(e,t){return t!=null&&"trapezoids"in e.props}function Hx(e,t){return t!=null&&"sectors"in e.props}function ap(e,t){return t!=null&&"points"in e.props}function vue(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function bue(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wue(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function _ue(e,t){var r;return qx(e,t)?r=vue:Hx(e,t)?r=bue:ap(e,t)&&(r=wue),r}function jue(e,t){var r;return qx(e,t)?r="trapezoids":Hx(e,t)?r="sectors":ap(e,t)&&(r="points"),r}function Sue(e,t){if(qx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Hx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ap(e,t)?t.payload:{}}function Nue(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=jue(r,t),s=Sue(r,t),o=n.filter(function(f,h){var m=Fx(s,f),p=r.props[i].filter(function(j){var S=_ue(r,t);return S(j,t)}),x=r.props[i].indexOf(p[p.length-1]),v=h===x;return m&&v}),c=n.indexOf(o[o.length-1]);return c}var M_,A3;function kue(){if(A3)return M_;A3=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var c=-1,f=t(e((i-n)/(s||1)),0),h=Array(f);f--;)h[o?f:++c]=n,n+=s;return h}return M_=r,M_}var R_,O3;function u7(){if(O3)return R_;O3=1;var e=KD(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return R_=n,R_}var I_,M3;function Pue(){if(M3)return I_;M3=1;var e=kue(),t=Mx(),r=u7();function n(i){return function(s,o,c){return c&&typeof c!="number"&&t(s,o,c)&&(o=c=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),c=c===void 0?s<o?1:-1:r(c),e(s,o,c,i)}}return I_=n,I_}var L_,R3;function Tue(){if(R3)return L_;R3=1;var e=Pue(),t=e();return L_=t,L_}var Eue=Tue();const Hy=rr(Eue);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return t=Cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Aue(e,"string");return op(t)=="symbol"?t:t+""}function Aue(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oue=["Webkit","Moz","O","ms"],Mue=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Oue.reduce(function(s,o){return L3(L3({},s),{},d7({},o+n,r))},{});return i[t]=r,i};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){Ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h7(n.key),n)}}function Iue(e,t,r){return t&&$3(e.prototype,t),r&&$3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lue(e,t,r){return t=Gy(t),Due(e,f7()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function Due(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(e)}function $ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function zue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K2(e,t)}function K2(e,t){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K2(e,t)}function Ai(e,t,r){return t=h7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=Wue(e,"string");return ud(t)=="symbol"?t:t+""}function Wue(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bue=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,h=oh().domain(Hy(0,f)).range([s,s+o-c]),m=h.domain().map(function(p){return h(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:m}},z3=function(t){return t.changedTouches&&!!t.changedTouches.length},dd=(function(e){function t(r){var n;return Rue(this,t),n=Lue(this,t,[r]),Ai(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ai(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ai(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o==null||o({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Ai(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ai(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ai(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ai(n,"handleSlideDragStart",function(i){var s=z3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zue(t,e),Iue(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,m=h.length-1,p=Math.min(i,s),x=Math.max(i,s),v=t.getIndexInRange(o,p),j=t.getIndexInRange(o,x);return{startIndex:v-v%f,endIndex:j===m?m:j-j%f}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,f=$i(s[n],c,n);return It(o)?o(f,n):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,f=this.props,h=f.x,m=f.width,p=f.travellerWidth,x=f.startIndex,v=f.endIndex,j=f.onChange,S=n.pageX-s;S>0?S=Math.min(S,h+m-p-c,h+m-p-o):S<0&&(S=Math.max(S,h-o,h-c));var _=this.getIndex({startX:o+S,endX:c+S});(_.startIndex!==x||_.endIndex!==v)&&j&&j(_),this.setState({startX:o+S,endX:c+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=z3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[o],m=this.props,p=m.x,x=m.width,v=m.travellerWidth,j=m.onChange,S=m.gap,_=m.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-s;k>0?k=Math.min(k,p+x-v-h):k<0&&(k=Math.max(k,p-h)),N[o]=h+k;var C=this.getIndex(N),R=C.startIndex,A=C.endIndex,E=function(){var I=_.length-1;return o==="startX"&&(c>f?R%S===0:A%S===0)||c<f&&A===I||o==="endX"&&(c>f?A%S===0:R%S===0)||c>f&&A===I};this.setState(Ai(Ai({},o,h+k),"brushMoveStartX",n.pageX),function(){j&&E()&&j(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,f=o.startX,h=o.endX,m=this.state[i],p=c.indexOf(m);if(p!==-1){var x=p+n;if(!(x===-1||x>=c.length)){var v=c[x];i==="startX"&&v>=h||i==="endX"&&v<=f||this.setState(Ai({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,f=n.fill,h=n.stroke;return re.createElement("rect",{stroke:h,fill:f,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,f=n.data,h=n.children,m=n.padding,p=O.Children.only(h);return p?re.cloneElement(p,{x:i,y:s,width:o,height:c,margin:m,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,f=this.props,h=f.y,m=f.travellerWidth,p=f.height,x=f.traveller,v=f.ariaLabel,j=f.data,S=f.startIndex,_=f.endIndex,N=Math.max(n,this.props.x),k=D_(D_({},zt(this.props,!1)),{},{x:N,y:h,width:m,height:p}),C=v||"Min value: ".concat((s=j[S])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=j[_])===null||o===void 0?void 0:o.name);return re.createElement(Dr,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),c.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,k))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,f=s.stroke,h=s.travellerWidth,m=Math.min(n,i)+h,p=Math.max(Math.abs(i-n)-h,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:m,y:o,width:p,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,f=n.travellerWidth,h=n.stroke,m=this.state,p=m.startX,x=m.endX,v=5,j={pointerEvents:"none",fill:h};return re.createElement(Dr,{className:"recharts-brush-texts"},re.createElement(wy,Ky({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:o+c/2},j),this.getTextOfTick(i)),re.createElement(wy,Ky({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+f+v,y:o+c/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,f=n.y,h=n.width,m=n.height,p=n.alwaysShowText,x=this.state,v=x.startX,j=x.endX,S=x.isTextActive,_=x.isSlideMoving,N=x.isTravellerMoving,k=x.isTravellerFocused;if(!i||!i.length||!rt(c)||!rt(f)||!rt(h)||!rt(m)||h<=0||m<=0)return null;var C=Vt("recharts-brush",s),R=re.Children.count(o)===1,A=Mue("userSelect","none");return re.createElement(Dr,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(S||_||N||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,f=n.stroke,h=Math.floor(s+c/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:s,width:o,height:c,fill:f,stroke:"none"}),re.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return re.isValidElement(n)?s=re.cloneElement(n,i):It(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,f=n.travellerWidth,h=n.updateId,m=n.startIndex,p=n.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return D_({prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:o},s&&s.length?Bue({data:s,width:o,x:c,travellerWidth:f,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+o-f]);var x=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var f=Math.floor((o+c)/2);n[f]>i?c=f:o=f}return i>=n[c]?c:o}}])})(O.PureComponent);Ai(dd,"displayName","Brush");Ai(dd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $_,W3;function Fue(){if(W3)return $_;W3=1;var e=BN();function t(r,n){var i;return e(r,function(s,o,c){return i=n(s,o,c),!i}),!!i}return $_=t,$_}var z_,B3;function Uue(){if(B3)return z_;B3=1;var e=SD(),t=wl(),r=Fue(),n=xi(),i=Mx();function s(o,c,f){var h=n(o)?e:r;return f&&i(o,c,f)&&(c=void 0),h(o,t(c,3))}return z_=s,z_}var Vue=Uue();const que=rr(Vue);var ba=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},W_,F3;function Hue(){if(F3)return W_;F3=1;var e=FD();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return W_=t,W_}var B_,U3;function Kue(){if(U3)return B_;U3=1;var e=Hue(),t=WD(),r=wl();function n(i,s){var o={};return s=r(s,3),t(i,function(c,f,h){e(o,f,s(c,f,h))}),o}return B_=n,B_}var Gue=Kue();const Zue=rr(Gue);var F_,V3;function Yue(){if(V3)return F_;V3=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return F_=e,F_}var U_,q3;function Xue(){if(q3)return U_;q3=1;var e=BN();function t(r,n){var i=!0;return e(r,function(s,o,c){return i=!!n(s,o,c),i}),i}return U_=t,U_}var V_,H3;function Jue(){if(H3)return V_;H3=1;var e=Yue(),t=Xue(),r=wl(),n=xi(),i=Mx();function s(o,c,f){var h=n(o)?e:t;return f&&i(o,c,f)&&(c=void 0),h(o,r(c,3))}return V_=s,V_}var Que=Jue();const ede=rr(Que);var tde=["x","y"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G2.apply(this,arguments)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rde(e,t,r){return t=nde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nde(e){var t=ide(e,"string");return lp(t)=="symbol"?t:t+""}function ide(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sde(e,t){if(e==null)return{};var r=ade(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ade(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ode(e,t){var r=e.x,n=e.y,i=sde(e,tde),s="".concat(r),o=parseInt(s,10),c="".concat(n),f=parseInt(c,10),h="".concat(t.height||i.height),m=parseInt(h,10),p="".concat(t.width||i.width),x=parseInt(p,10);return Lf(Lf(Lf(Lf(Lf({},t),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:m,width:x,name:t.name,radius:t.radius})}function G3(e){return re.createElement(xue,G2({shapeType:"rectangle",propTransformer:ode,activeClassName:"recharts-active-bar"},e))}var lde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,i):(s||kc(),r)}},cde=["value","background"],p7;function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function ude(e,t){if(e==null)return{};var r=dde(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g7(n.key),n)}}function hde(e,t,r){return t&&Y3(e.prototype,t),r&&Y3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pde(e,t,r){return t=Yy(t),mde(e,m7()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function mde(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(e)}function gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function yde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z2(e,t)}function Z2(e,t){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z2(e,t)}function cl(e,t,r){return t=g7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=xde(e,"string");return fd(t)=="symbol"?t:t+""}function xde(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ip=(function(e){function t(){var r;fde(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=pde(this,t,[].concat(i)),cl(r,"state",{isAnimationFinished:!1}),cl(r,"id",Tp("recharts-bar-")),cl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),cl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return yde(t,e),hde(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,f=s.activeIndex,h=s.activeBar,m=zt(this.props,!1);return n&&n.map(function(p,x){var v=x===f,j=v?h:o,S=Kr(Kr(Kr({},m),p),{},{isActive:v,option:j,index:x,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(Dr,Zy({className:"recharts-bar-rectangle"},uy(i.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x)}),re.createElement(G3,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,m=i.animationEasing,p=i.animationId,x=this.state.prevData;return re.createElement(fo,{begin:f,duration:h,isActive:c,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,S=s.map(function(_,N){var k=x&&x[N];if(k){var C=Os(k.x,_.x),R=Os(k.y,_.y),A=Os(k.width,_.width),E=Os(k.height,_.height);return Kr(Kr({},_),{},{x:C(j),y:R(j),width:A(j),height:E(j)})}if(o==="horizontal"){var $=Os(0,_.height),I=$(j);return Kr(Kr({},_),{},{y:_.y+_.height-I,height:I})}var D=Os(0,_.width),W=D(j);return Kr(Kr({},_),{},{width:W})});return re.createElement(Dr,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Fx(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,f=zt(this.props.background,!1);return s.map(function(h,m){h.value;var p=h.background,x=ude(h,cde);if(!p)return null;var v=Kr(Kr(Kr(Kr(Kr({},x),{},{fill:"#eee"},p),f),uy(n.props,h,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return re.createElement(G3,Zy({key:"background-bar-".concat(m),option:n.props.background,isActive:m===c},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,f=s.yAxis,h=s.layout,m=s.children,p=as(m,Rp);if(!p)return null;var x=h==="vertical"?o[0].height/2:o[0].width/2,v=function(_,N){var k=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:k,errorVal:$i(_,N)}},j={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Dr,j,p.map(function(S){return re.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:c,yAxis:f,layout:h,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,f=n.yAxis,h=n.left,m=n.top,p=n.width,x=n.height,v=n.isAnimationActive,j=n.background,S=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,N=Vt("recharts-bar",o),k=c&&c.allowDataOverflow,C=f&&f.allowDataOverflow,R=k||C,A=Lt(S)?this.id:S;return re.createElement(Dr,{className:N},k||C?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(A)},re.createElement("rect",{x:k?h:h-p/2,y:C?m:m-x/2,width:k?p:p*2,height:C?x:x*2}))):null,re.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(A,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,A),(!v||_)&&hl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(O.PureComponent);p7=Ip;cl(Ip,"displayName","Bar");cl(Ip,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ed.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cl(Ip,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,c=e.xAxisTicks,f=e.yAxisTicks,h=e.stackedData,m=e.dataStartIndex,p=e.displayedData,x=e.offset,v=Oae(n,r);if(!v)return null;var j=t.layout,S=r.type.defaultProps,_=S!==void 0?Kr(Kr({},S),r.props):r.props,N=_.dataKey,k=_.children,C=_.minPointSize,R=j==="horizontal"?o:s,A=h?R.scale.domain():null,E=Wae({numericAxis:R}),$=as(k,ZD),I=p.map(function(D,W){var B,q,J,X,Z,F;h?B=Mae(h[m+W],A):(B=$i(D,N),Array.isArray(B)||(B=[E,B]));var K=lde(C,p7.defaultProps.minPointSize)(B[1],W);if(j==="horizontal"){var U,ie=[o.scale(B[0]),o.scale(B[1])],se=ie[0],G=ie[1];q=LM({axis:s,ticks:c,bandSize:i,offset:v.offset,entry:D,index:W}),J=(U=G??se)!==null&&U!==void 0?U:void 0,X=v.size;var Y=se-G;if(Z=Number.isNaN(Y)?0:Y,F={x:q,y:o.y,width:X,height:o.height},Math.abs(K)>0&&Math.abs(Z)<Math.abs(K)){var oe=Ds(Z||K)*(Math.abs(K)-Math.abs(Z));J-=oe,Z+=oe}}else{var _e=[s.scale(B[0]),s.scale(B[1])],Ce=_e[0],Ne=_e[1];if(q=Ce,J=LM({axis:o,ticks:f,bandSize:i,offset:v.offset,entry:D,index:W}),X=Ne-Ce,Z=v.size,F={x:s.x,y:J,width:s.width,height:Z},Math.abs(K)>0&&Math.abs(X)<Math.abs(K)){var Be=Ds(X||K)*(Math.abs(K)-Math.abs(X));X+=Be}}return Kr(Kr(Kr({},D),{},{x:q,y:J,width:X,height:Z,value:h?B:B[1],payload:D,background:F},$&&$[W]&&$[W].props),{},{tooltipPayload:[Q6(r,D)],tooltipPosition:{x:q+X/2,y:J+Z/2}})});return Kr({data:I,layout:j},x)});function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function vde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y7(n.key),n)}}function bde(e,t,r){return t&&X3(e.prototype,t),r&&X3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){Kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kx(e,t,r){return t=y7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=wde(e,"string");return cp(t)=="symbol"?t:t+""}function wde(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _de=function(t,r,n,i,s){var o=t.width,c=t.height,f=t.layout,h=t.children,m=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},x=!!Oi(h,Ip);return m.reduce(function(v,j){var S=r[j],_=S.orientation,N=S.domain,k=S.padding,C=k===void 0?{}:k,R=S.mirror,A=S.reversed,E="".concat(_).concat(R?"Mirror":""),$,I,D,W,B;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var q=N[1]-N[0],J=1/0,X=S.categoricalDomain.sort();if(X.forEach(function(_e,Ce){Ce>0&&(J=Math.min((_e||0)-(X[Ce-1]||0),J))}),Number.isFinite(J)){var Z=J/q,F=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&($=Z*F/2),S.padding==="no-gap"){var K=Sc(t.barCategoryGap,Z*F),U=Z*F/2;$=U-K-(U-K)/F*K}}}i==="xAxis"?I=[n.left+(C.left||0)+($||0),n.left+n.width-(C.right||0)-($||0)]:i==="yAxis"?I=f==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+($||0),n.top+n.height-(C.bottom||0)-($||0)]:I=S.range,A&&(I=[I[1],I[0]]);var ie=Cae(S,s,x),se=ie.scale,G=ie.realScaleType;se.domain(N).range(I),Aae(se);var Y=zae(se,Cs(Cs({},S),{},{realScaleType:G}));i==="xAxis"?(B=_==="top"&&!R||_==="bottom"&&R,D=n.left,W=p[E]-B*S.height):i==="yAxis"&&(B=_==="left"&&!R||_==="right"&&R,D=p[E]-B*S.width,W=n.top);var oe=Cs(Cs(Cs({},S),Y),{},{realScaleType:G,x:D,y:W,scale:se,width:i==="xAxis"?n.width:S.width,height:i==="yAxis"?n.height:S.height});return oe.bandSize=Ly(oe,Y),!S.hide&&i==="xAxis"?p[E]+=(B?-1:1)*oe.height:S.hide||(p[E]+=(B?-1:1)*oe.width),Cs(Cs({},v),{},Kx({},j,oe))},{})},x7=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},jde=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return x7({x:r,y:n},{x:i,y:s})},v7=(function(){function e(t){vde(this,e),this.scale=t}return bde(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Kx(v7,"EPS",1e-4);var yk=function(t){var r=Object.keys(t).reduce(function(n,i){return Cs(Cs({},n),{},Kx({},i,v7.create(t[i])))},{});return Cs(Cs({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return Zue(i,function(f,h){return r[h].apply(f,{bandAware:o,position:c})})},isInRange:function(i){return ede(i,function(s,o){return r[o].isInRange(s)})}})};function Sde(e){return(e%180+180)%180}var Nde=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sde(i),o=s*Math.PI/180,c=Math.atan(n/r),f=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(f)},q_,Q3;function kde(){if(Q3)return q_;Q3=1;var e=wl(),t=Ep(),r=Ax();function n(i){return function(s,o,c){var f=Object(s);if(!t(s)){var h=e(o,3);s=r(s),o=function(p){return h(f[p],p,f)}}var m=i(s,o,c);return m>-1?f[h?s[m]:m]:void 0}}return q_=n,q_}var H_,eR;function Pde(){if(eR)return H_;eR=1;var e=u7();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return H_=t,H_}var K_,tR;function Tde(){if(tR)return K_;tR=1;var e=ID(),t=wl(),r=Pde(),n=Math.max;function i(s,o,c){var f=s==null?0:s.length;if(!f)return-1;var h=c==null?0:r(c);return h<0&&(h=n(f+h,0)),e(s,t(o,3),h)}return K_=i,K_}var G_,rR;function Ede(){if(rR)return G_;rR=1;var e=kde(),t=Tde(),r=e(t);return G_=r,G_}Ede();var Cde=X4();const Ade=rr(Cde);var Ode=Ade(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),b7=O.createContext(void 0),w7=O.createContext(void 0),_7=O.createContext(void 0),Mde=O.createContext({}),j7=O.createContext(void 0),S7=O.createContext(0),N7=O.createContext(0),nR=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,c=t.children,f=t.width,h=t.height,m=Ode(s);return re.createElement(b7.Provider,{value:n},re.createElement(w7.Provider,{value:i},re.createElement(Mde.Provider,{value:s},re.createElement(_7.Provider,{value:m},re.createElement(j7.Provider,{value:o},re.createElement(S7.Provider,{value:h},re.createElement(N7.Provider,{value:f},c)))))))},Rde=function(){return O.useContext(j7)},k7=function(t){var r=O.useContext(b7);r==null&&kc();var n=r[t];return n==null&&kc(),n},P7=function(t){var r=O.useContext(w7);r==null&&kc();var n=r[t];return n==null&&kc(),n},Ide=function(){var t=O.useContext(_7);return t},T7=function(){return O.useContext(N7)},E7=function(){return O.useContext(S7)};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Lde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A7(n.key),n)}}function $de(e,t,r){return t&&Dde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zde(e,t,r){return t=Xy(t),Wde(e,C7()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function Wde(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(e)}function Bde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function Fde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function Y2(e,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y2(e,t)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xk(e,t,r){return t=A7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=Ude(e,"string");return hd(t)=="symbol"?t:t+""}function Ude(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vde(e,t){return Gde(e)||Kde(e,t)||Hde(e,t)||qde()}function qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Gde(e){if(Array.isArray(e))return e}function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(this,arguments)}var Zde=function(t,r){var n;return re.isValidElement(t)?n=re.cloneElement(t,r):It(t)?n=t(r):n=re.createElement("line",X2({},r,{className:"recharts-reference-line-line"})),n},Yde=function(t,r,n,i,s,o,c,f,h){var m=s.x,p=s.y,x=s.width,v=s.height;if(n){var j=h.y,S=t.y.apply(j,{position:o});if(ba(h,"discard")&&!t.y.isInRange(S))return null;var _=[{x:m+x,y:S},{x:m,y:S}];return f==="left"?_.reverse():_}if(r){var N=h.x,k=t.x.apply(N,{position:o});if(ba(h,"discard")&&!t.x.isInRange(k))return null;var C=[{x:k,y:p+v},{x:k,y:p}];return c==="top"?C.reverse():C}if(i){var R=h.segment,A=R.map(function(E){return t.apply(E,{position:o})});return ba(h,"discard")&&que(A,function(E){return!t.isInRange(E)})?null:A}return null};function Xde(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,c=e.className,f=e.alwaysShow,h=Rde(),m=k7(i),p=P7(s),x=Ide();if(!h||!x)return null;vc(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=yk({x:m.scale,y:p.scale}),j=cn(t),S=cn(r),_=n&&n.length===2,N=Yde(v,j,S,_,x,e.position,m.orientation,p.orientation,e);if(!N)return null;var k=Vde(N,2),C=k[0],R=C.x,A=C.y,E=k[1],$=E.x,I=E.y,D=ba(e,"hidden")?"url(#".concat(h,")"):void 0,W=sR(sR({clipPath:D},zt(e,!0)),{},{x1:R,y1:A,x2:$,y2:I});return re.createElement(Dr,{className:Vt("recharts-reference-line",c)},Zde(o,W),Wn.renderCallByParent(e,jde({x1:R,y1:A,x2:$,y2:I})))}var vk=(function(e){function t(){return Lde(this,t),zde(this,t,arguments)}return Fde(t,e),$de(t,[{key:"render",value:function(){return re.createElement(Xde,this.props)}}])})(re.Component);xk(vk,"displayName","ReferenceLine");xk(vk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(this,arguments)}function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){Gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function efe(e,t,r){return t&&Qde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tfe(e,t,r){return t=Jy(t),rfe(e,O7()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function rfe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nfe(e)}function nfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function ife(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q2(e,t)}function Q2(e,t){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q2(e,t)}function Gx(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=sfe(e,"string");return pd(t)=="symbol"?t:t+""}function sfe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var afe=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=yk({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return ba(t,"discard")&&!o.isInRange(c)?null:c},Zx=(function(e){function t(){return Jde(this,t),tfe(this,t,arguments)}return ife(t,e),efe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,f=n.clipPathId,h=cn(i),m=cn(s);if(vc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!m)return null;var p=afe(this.props);if(!p)return null;var x=p.x,v=p.y,j=this.props,S=j.shape,_=j.className,N=ba(this.props,"hidden")?"url(#".concat(f,")"):void 0,k=lR(lR({clipPath:N},zt(this.props,!0)),{},{cx:x,cy:v});return re.createElement(Dr,{className:Vt("recharts-reference-dot",_)},t.renderDot(S,k),Wn.renderCallByParent(this.props,{x:x-o,y:v-o,width:2*o,height:2*o}))}}])})(re.Component);Gx(Zx,"displayName","ReferenceDot");Gx(Zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gx(Zx,"renderDot",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):It(e)?r=e(t):r=re.createElement(gk,J2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ofe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I7(n.key),n)}}function cfe(e,t,r){return t&&lfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ufe(e,t,r){return t=Qy(t),dfe(e,R7()?Reflect.construct(t,r||[],Qy(e).constructor):t.apply(e,r))}function dfe(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ffe(e)}function ffe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R7=function(){return!!e})()}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(e)}function hfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tS(e,t)}function Yx(e,t,r){return t=I7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=pfe(e,"string");return md(t)=="symbol"?t:t+""}function pfe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mfe=function(t,r,n,i,s){var o=s.x1,c=s.x2,f=s.y1,h=s.y2,m=s.xAxis,p=s.yAxis;if(!m||!p)return null;var x=yk({x:m.scale,y:p.scale}),v={x:t?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(f,{position:"start"}):x.y.rangeMin},j={x:r?x.x.apply(c,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(h,{position:"end"}):x.y.rangeMax};return ba(s,"discard")&&(!x.isInRange(v)||!x.isInRange(j))?null:x7(v,j)},Xx=(function(e){function t(){return ofe(this,t),ufe(this,t,arguments)}return hfe(t,e),cfe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,f=n.className,h=n.alwaysShow,m=n.clipPathId;vc(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cn(i),x=cn(s),v=cn(o),j=cn(c),S=this.props.shape;if(!p&&!x&&!v&&!j&&!S)return null;var _=mfe(p,x,v,j,this.props);if(!_&&!S)return null;var N=ba(this.props,"hidden")?"url(#".concat(m,")"):void 0;return re.createElement(Dr,{className:Vt("recharts-reference-area",f)},t.renderRect(S,uR(uR({clipPath:N},zt(this.props,!0)),_)),Wn.renderCallByParent(this.props,_))}}])})(re.Component);Yx(Xx,"displayName","ReferenceArea");Yx(Xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yx(Xx,"renderRect",function(e,t){var r;return re.isValidElement(e)?r=re.cloneElement(e,t):It(e)?r=e(t):r=re.createElement(mk,eS({},t,{className:"recharts-reference-area-rect"})),r});function L7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function gfe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Nde(n,r)}function yfe(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,c=e.height;return t===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function ex(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function xfe(e,t){return L7(e,t+1)}function vfe(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,c=t.end,f=0,h=1,m=o,p=function(){var j=n==null?void 0:n[f];if(j===void 0)return{v:L7(n,h)};var S=f,_,N=function(){return _===void 0&&(_=r(j,S)),_},k=j.coordinate,C=f===0||ex(e,k,N,m,c);C||(f=0,m=o,h+=1),C&&(m=k+e*(N()/2+i),f+=h)},x;h<=s.length;)if(x=p(),x)return x.v;return[]}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bfe(e,t,r){return t=wfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wfe(e){var t=_fe(e,"string");return up(t)=="symbol"?t:t+""}function _fe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jfe(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=t.start,f=t.end,h=function(x){var v=s[x],j,S=function(){return j===void 0&&(j=r(v,x)),j};if(x===o-1){var _=e*(v.coordinate+e*S()/2-f);s[x]=v=zn(zn({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else s[x]=v=zn(zn({},v),{},{tickCoord:v.coordinate});var N=ex(e,v.tickCoord,S,c,f);N&&(f=v.tickCoord-e*(S()/2+i),s[x]=zn(zn({},v),{},{isShow:!0}))},m=o-1;m>=0;m--)h(m);return s}function Sfe(e,t,r,n,i,s){var o=(n||[]).slice(),c=o.length,f=t.start,h=t.end;if(s){var m=n[c-1],p=r(m,c-1),x=e*(m.coordinate+e*p/2-h);o[c-1]=m=zn(zn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate});var v=ex(e,m.tickCoord,function(){return p},f,h);v&&(h=m.tickCoord-e*(p/2+i),o[c-1]=zn(zn({},m),{},{isShow:!0}))}for(var j=s?c-1:c,S=function(k){var C=o[k],R,A=function(){return R===void 0&&(R=r(C,k)),R};if(k===0){var E=e*(C.coordinate-e*A()/2-f);o[k]=C=zn(zn({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else o[k]=C=zn(zn({},C),{},{tickCoord:C.coordinate});var $=ex(e,C.tickCoord,A,f,h);$&&(f=C.tickCoord+e*(A()/2+i),o[k]=zn(zn({},C),{},{isShow:!0}))},_=0;_<j;_++)S(_);return o}function Nfe(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,c=e.orientation,f=e.interval,h=e.tickFormatter,m=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(rt(f)||Ed.isSsr)return xfe(i,typeof f=="number"&&rt(f)?f:0);var x=[],v=c==="top"||c==="bottom"?"width":"height",j=m&&v==="width"?ah(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=function(C,R){var A=It(h)?h(C.value,R):C.value;return v==="width"?gfe(ah(A,{fontSize:t,letterSpacing:r}),j,p):ah(A,{fontSize:t,letterSpacing:r})[v]},_=i.length>=2?Ds(i[1].coordinate-i[0].coordinate):1,N=yfe(s,_,v);return f==="equidistantPreserveStart"?vfe(_,N,S,i,o):(f==="preserveStart"||f==="preserveStartEnd"?x=Sfe(_,N,S,i,o,f==="preserveStartEnd"):x=jfe(_,N,S,i,o),x.filter(function(k){return k.isShow}))}var kfe=["viewBox"],Pfe=["viewBox"],Tfe=["ticks"];function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z_(e,t){if(e==null)return{};var r=Efe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Efe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$7(n.key),n)}}function Afe(e,t,r){return t&&hR(e.prototype,t),r&&hR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ofe(e,t,r){return t=tx(t),Mfe(e,D7()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function Mfe(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(e)}function Rfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function Ife(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rS(e,t)}function bk(e,t,r){return t=$7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=Lfe(e,"string");return gd(t)=="symbol"?t:t+""}function Lfe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jx=(function(e){function t(r){var n;return Cfe(this,t),n=Ofe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ife(t,e),Afe(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Z_(n,kfe),c=this.props,f=c.viewBox,h=Z_(c,Pfe);return!Hu(s,f)||!Hu(o,h)||!Hu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,f=i.height,h=i.orientation,m=i.tickSize,p=i.mirror,x=i.tickMargin,v,j,S,_,N,k,C=p?-1:1,R=n.tickSize||m,A=rt(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":v=j=n.coordinate,_=o+ +!p*f,S=_-C*R,k=S-C*x,N=A;break;case"left":S=_=n.coordinate,j=s+ +!p*c,v=j-C*R,N=v-C*x,k=A;break;case"right":S=_=n.coordinate,j=s+ +p*c,v=j+C*R,N=v+C*x,k=A;break;default:v=j=n.coordinate,_=o+ +p*f,S=_+C*R,k=S+C*x,N=A;break}return{line:{x1:v,y1:S,x2:j,y2:_},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,f=n.orientation,h=n.mirror,m=n.axisLine,p=Yn(Yn(Yn({},zt(this.props,!1)),zt(m,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var x=+(f==="top"&&!h||f==="bottom"&&h);p=Yn(Yn({},p),{},{x1:i,y1:s+x*c,x2:i+o,y2:s+x*c})}else{var v=+(f==="left"&&!h||f==="right"&&h);p=Yn(Yn({},p),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+c})}return re.createElement("line",Wu({},p,{className:Vt("recharts-cartesian-axis-line",ss(m,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,f=c.tickLine,h=c.stroke,m=c.tick,p=c.tickFormatter,x=c.unit,v=Nfe(Yn(Yn({},this.props),{},{ticks:n}),i,s),j=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),_=zt(this.props,!1),N=zt(m,!1),k=Yn(Yn({},_),{},{fill:"none"},zt(f,!1)),C=v.map(function(R,A){var E=o.getTickLineCoord(R),$=E.line,I=E.tick,D=Yn(Yn(Yn(Yn({textAnchor:j,verticalAnchor:S},_),{},{stroke:"none",fill:h},N),I),{},{index:A,payload:R,visibleTicksCount:v.length,tickFormatter:p});return re.createElement(Dr,Wu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},uy(o.props,R,A)),f&&re.createElement("line",Wu({},k,$,{className:Vt("recharts-cartesian-axis-tick-line",ss(f,"className"))})),m&&t.renderTickItem(m,D,"".concat(It(p)?p(R.value,A):R.value).concat(x||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,f=i.ticksGenerator,h=i.className,m=i.hide;if(m)return null;var p=this.props,x=p.ticks,v=Z_(p,Tfe),j=x;return It(f)&&(j=x&&x.length>0?f(this.props):f(v)),o<=0||c<=0||!j||!j.length?null:re.createElement(Dr,{className:Vt("recharts-cartesian-axis",h),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return re.isValidElement(n)?o=re.cloneElement(n,i):It(n)?o=n(i):o=re.createElement(wy,Wu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(O.Component);bk(Jx,"displayName","CartesianAxis");bk(Jx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Dfe=["type","layout","connectNulls","ref"],$fe=["key"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function pR(e,t){if(e==null)return{};var r=zfe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(this,arguments)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){As(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nu(e){return Ufe(e)||Ffe(e)||Bfe(e)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function Ffe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ufe(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W7(n.key),n)}}function qfe(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hfe(e,t,r){return t=rx(t),Kfe(e,z7()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function Kfe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gfe(e)}function Gfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function Zfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iS(e,t)}function As(e,t,r){return t=W7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7(e){var t=Yfe(e,"string");return yd(t)=="symbol"?t:t+""}function Yfe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lp=(function(e){function t(){var r;Vfe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Hfe(this,t,[].concat(i)),As(r,"state",{isAnimationFinished:!0,totalLength:0}),As(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),As(r,"getStrokeDasharray",function(o,c,f){var h=f.reduce(function(N,k){return N+k});if(!h)return r.generateSimpleStrokeDasharray(c,o);for(var m=Math.floor(o/h),p=o%h,x=c-o,v=[],j=0,S=0;j<f.length;S+=f[j],++j)if(S+f[j]>p){v=[].concat(Nu(f.slice(0,j)),[p-S]);break}var _=v.length%2===0?[0,x]:[x];return[].concat(Nu(t.repeat(f,m)),Nu(v),_).map(function(N){return"".concat(N,"px")}).join(", ")}),As(r,"id",Tp("recharts-line-")),As(r,"pathRef",function(o){r.mainCurve=o}),As(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),As(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Zfe(t,e),qfe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,f=s.yAxis,h=s.layout,m=s.children,p=as(m,Rp);if(!p)return null;var x=function(S,_){return{x:S.x,y:S.y,value:S.value,errorVal:$i(S.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Dr,v,p.map(function(j){return re.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:o,xAxis:c,yAxis:f,layout:h,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,m=c.dataKey,p=zt(this.props,!1),x=zt(f,!0),v=h.map(function(S,_){var N=Ci(Ci(Ci({key:"dot-".concat(_),r:3},p),x),{},{index:_,cx:S.x,cy:S.y,value:S.value,dataKey:m,payload:S.payload,points:h});return t.renderDotItem(f,N)}),j={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return re.createElement(Dr,uh({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var c=this.props,f=c.type,h=c.layout,m=c.connectNulls;c.ref;var p=pR(c,Dfe),x=Ci(Ci(Ci({},zt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:f,layout:h,connectNulls:m});return re.createElement(I2,uh({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,f=o.strokeDasharray,h=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,x=o.animationEasing,v=o.animationId,j=o.animateNewValues,S=o.width,_=o.height,N=this.state,k=N.prevPoints,C=N.totalLength;return re.createElement(fo,{begin:m,duration:p,isActive:h,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var A=R.t;if(k){var E=k.length/c.length,$=c.map(function(q,J){var X=Math.floor(J*E);if(k[X]){var Z=k[X],F=Os(Z.x,q.x),K=Os(Z.y,q.y);return Ci(Ci({},q),{},{x:F(A),y:K(A)})}if(j){var U=Os(S*2,q.x),ie=Os(_/2,q.y);return Ci(Ci({},q),{},{x:U(A),y:ie(A)})}return Ci(Ci({},q),{},{x:q.x,y:q.y})});return s.renderCurveStatically($,n,i)}var I=Os(0,C),D=I(A),W;if(f){var B="".concat(f).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});W=s.getStrokeDasharray(D,C,B)}else W=s.generateSimpleStrokeDasharray(C,D);return s.renderCurveStatically(c,n,i,{strokeDasharray:W})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,c=s.isAnimationActive,f=this.state,h=f.prevPoints,m=f.totalLength;return c&&o&&o.length&&(!h&&m>0||!Fx(h,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,f=i.className,h=i.xAxis,m=i.yAxis,p=i.top,x=i.left,v=i.width,j=i.height,S=i.isAnimationActive,_=i.id;if(s||!c||!c.length)return null;var N=this.state.isAnimationFinished,k=c.length===1,C=Vt("recharts-line",f),R=h&&h.allowDataOverflow,A=m&&m.allowDataOverflow,E=R||A,$=Lt(_)?this.id:_,I=(n=zt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=I.r,W=D===void 0?3:D,B=I.strokeWidth,q=B===void 0?2:B,J=SJ(o)?o:{},X=J.clipDot,Z=X===void 0?!0:X,F=W*2+q;return re.createElement(Dr,{className:C},R||A?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat($)},re.createElement("rect",{x:R?x:x-v/2,y:A?p:p-j/2,width:R?v:v*2,height:A?j:j*2})),!Z&&re.createElement("clipPath",{id:"clipPath-dots-".concat($)},re.createElement("rect",{x:x-F/2,y:p-F/2,width:v+F,height:j+F}))):null,!k&&this.renderCurve(E,$),this.renderErrorBar(E,$),(k||o)&&this.renderDots(E,Z,$),(!S||N)&&hl.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Nu(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(Nu(o),Nu(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(re.isValidElement(n))s=re.cloneElement(n,i);else if(It(n))s=n(i);else{var o=i.key,c=pR(i,$fe),f=Vt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=re.createElement(gk,uh({key:o},c,{className:f}))}return s}}])})(O.PureComponent);As(Lp,"displayName","Line");As(Lp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ed.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});As(Lp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,c=e.bandSize,f=e.displayedData,h=e.offset,m=t.layout,p=f.map(function(x,v){var j=$i(x,o);return m==="horizontal"?{x:IM({axis:r,ticks:i,bandSize:c,entry:x,index:v}),y:Lt(j)?null:n.scale(j),value:j,payload:x}:{x:Lt(j)?null:r.scale(j),y:IM({axis:n,ticks:s,bandSize:c,entry:x,index:v}),value:j,payload:x}});return Ci({points:p,layout:m},h)});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Xfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U7(n.key),n)}}function Qfe(e,t,r){return t&&Jfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ehe(e,t,r){return t=nx(t),the(e,B7()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function the(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(e)}function rhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function nhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(e,t)}function F7(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=ihe(e,"string");return xd(t)=="symbol"?t:t+""}function ihe(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function she(e){var t=e.xAxisId,r=T7(),n=E7(),i=k7(t);return i==null?null:re.createElement(Jx,aS({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return gc(o,!0)}}))}var wk=(function(e){function t(){return Xfe(this,t),ehe(this,t,arguments)}return nhe(t,e),Qfe(t,[{key:"render",value:function(){return re.createElement(she,this.props)}}])})(re.Component);F7(wk,"displayName","XAxis");F7(wk,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function ahe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H7(n.key),n)}}function lhe(e,t,r){return t&&ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function che(e,t,r){return t=ix(t),uhe(e,V7()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function uhe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dhe(e)}function dhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function fhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oS(e,t)}function q7(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=hhe(e,"string");return vd(t)=="symbol"?t:t+""}function hhe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}var phe=function(t){var r=t.yAxisId,n=T7(),i=E7(),s=P7(r);return s==null?null:re.createElement(Jx,lS({},s,{className:Vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return gc(c,!0)}}))},_k=(function(e){function t(){return ahe(this,t),che(this,t,arguments)}return fhe(t,e),lhe(t,[{key:"render",value:function(){return re.createElement(phe,this.props)}}])})(re.Component);q7(_k,"displayName","YAxis");q7(_k,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yR(e){return xhe(e)||yhe(e)||ghe(e)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ghe(e,t){if(e){if(typeof e=="string")return cS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(e,t)}}function yhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xhe(e){if(Array.isArray(e))return cS(e)}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uS=function(t,r,n,i,s){var o=as(t,vk),c=as(t,Zx),f=[].concat(yR(o),yR(c)),h=as(t,Xx),m="".concat(i,"Id"),p=i[0],x=r;if(f.length&&(x=f.reduce(function(S,_){if(_.props[m]===n&&ba(_.props,"extendDomain")&&rt(_.props[p])){var N=_.props[p];return[Math.min(S[0],N),Math.max(S[1],N)]}return S},x)),h.length){var v="".concat(p,"1"),j="".concat(p,"2");x=h.reduce(function(S,_){if(_.props[m]===n&&ba(_.props,"extendDomain")&&rt(_.props[v])&&rt(_.props[j])){var N=_.props[v],k=_.props[j];return[Math.min(S[0],N,k),Math.max(S[1],N,k)]}return S},x)}return s&&s.length&&(x=s.reduce(function(S,_){return rt(_)?[Math.min(S[0],_),Math.max(S[1],_)]:S},x)),x},Y_={exports:{}},xR;function vhe(){return xR||(xR=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||f,x),j=r?r+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],v]:f._events[j].push(v):(f._events[j]=v,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,j=new Array(v);x<v;x++)j[x]=p[x].fn;return j},c.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,x,v,j){var S=r?r+h:h;if(!this._events[S])return!1;var _=this._events[S],N=arguments.length,k,C;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,p),!0;case 4:return _.fn.call(_.context,m,p,x),!0;case 5:return _.fn.call(_.context,m,p,x,v),!0;case 6:return _.fn.call(_.context,m,p,x,v,j),!0}for(C=1,k=new Array(N-1);C<N;C++)k[C-1]=arguments[C];_.fn.apply(_.context,k)}else{var R=_.length,A;for(C=0;C<R;C++)switch(_[C].once&&this.removeListener(h,_[C].fn,void 0,!0),N){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,m);break;case 3:_[C].fn.call(_[C].context,m,p);break;case 4:_[C].fn.call(_[C].context,m,p,x);break;default:if(!k)for(A=1,k=new Array(N-1);A<N;A++)k[A-1]=arguments[A];_[C].fn.apply(_[C].context,k)}}return!0},c.prototype.on=function(h,m,p){return s(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return s(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,x){var v=r?r+h:h;if(!this._events[v])return this;if(!m)return o(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!x||j.once)&&(!p||j.context===p)&&o(this,v);else{for(var S=0,_=[],N=j.length;S<N;S++)(j[S].fn!==m||x&&!j[S].once||p&&j[S].context!==p)&&_.push(j[S]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(Y_)),Y_.exports}var bhe=vhe();const whe=rr(bhe);var X_=new whe,J_="recharts.syncMouseEvents";function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function _he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K7(n.key),n)}}function She(e,t,r){return t&&jhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q_(e,t,r){return t=K7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=Nhe(e,"string");return dp(t)=="symbol"?t:t+""}function Nhe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var khe=(function(){function e(){_he(this,e),Q_(this,"activeIndex",0),Q_(this,"coordinateList",[]),Q_(this,"layout","horizontal")}return She(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,f=r.layout,h=f===void 0?null:f,m=r.offset,p=m===void 0?null:m,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+f+h,x=o+this.offset.top+c/2+m;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])})();function Phe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&rt(n)&&rt(i))return!0}return!1}function The(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function G7(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Tn(t,r,n,i),c=Tn(t,r,n,s);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Ehe(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,f=t.cy,h=t.innerRadius,m=t.outerRadius,p=t.angle,x=Tn(c,f,h,p),v=Tn(c,f,m,p);n=x.x,i=x.y,s=v.x,o=v.y}else return G7(t);return[{x:n,y:i},{x:s,y:o}]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){Che(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Che(e,t,r){return t=Ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=Ohe(e,"string");return fp(t)=="symbol"?t:t+""}function Ohe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mhe(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,c=e.activePayload,f=e.offset,h=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,x=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||x!=="ScatterChart"&&i!=="axis")return null;var j,S=I2;if(x==="ScatterChart")j=o,S=qce;else if(x==="BarChart")j=The(p,o,f,m),S=mk;else if(p==="radial"){var _=G7(o),N=_.cx,k=_.cy,C=_.radius,R=_.startAngle,A=_.endAngle;j={cx:N,cy:k,startAngle:R,endAngle:A,innerRadius:C,outerRadius:C},S=r7}else j={points:Ehe(p,o,f)},S=I2;var E=Ng(Ng(Ng(Ng({stroke:"#ccc",pointerEvents:"none"},f),j),zt(v,!1)),{},{payload:c,payloadIndex:h,className:Vt("recharts-tooltip-cursor",v.className)});return O.isValidElement(v)?O.cloneElement(v,E):O.createElement(S,E)}var Rhe=["item"],Ihe=["children","className","width","height","style","compact","title","desc"];function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}function bR(e,t){return $he(e)||Dhe(e,t)||Y7(e,t)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],f=!0,h=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);f=!0);}catch(m){h=!0,i=m}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function $he(e){if(Array.isArray(e))return e}function wR(e,t){if(e==null)return{};var r=zhe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Whe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X7(n.key),n)}}function Fhe(e,t,r){return t&&Bhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uhe(e,t,r){return t=sx(t),Vhe(e,Z7()?Reflect.construct(t,r||[],sx(e).constructor):t.apply(e,r))}function Vhe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qhe(e)}function qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(e)}function Hhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(e,t)}function wd(e){return Zhe(e)||Ghe(e)||Y7(e)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function Ghe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zhe(e){if(Array.isArray(e))return fS(e)}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t=X7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X7(e){var t=Yhe(e,"string");return bd(t)=="symbol"?t:t+""}function Yhe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xhe={xAxis:["bottom","top"],yAxis:["left","right"]},Jhe={width:"100%",height:"100%"},J7={x:0,y:0};function kg(e){return e}var Qhe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},epe=function(t,r,n,i){var s=r.find(function(m){return m&&m.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,c=i.radius;return Ie(Ie(Ie({},i),Tn(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var f=s.coordinate,h=i.angle;return Ie(Ie(Ie({},i),Tn(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return J7},Qx=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(wd(c),wd(h)):c},[]);return o.length>0?o:t&&t.length&&rt(i)&&rt(s)?t.slice(i,s+1):[]};function Q7(e){return e==="number"?[0,"auto"]:void 0}var hS=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,c=Qx(r,t);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(f,h){var m,p=(m=h.props.data)!==null&&m!==void 0?m:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?c:p;x=ly(v,o.dataKey,i)}else x=p&&p[n]||c[n];return x?[].concat(wd(f),[Q6(h,x)]):f},[])},jR=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Qhe(s,n),c=t.orderedTooltipTicks,f=t.tooltipAxis,h=t.tooltipTicks,m=Sae(o,c,h,f);if(m>=0&&h){var p=h[m]&&h[m].value,x=hS(t,r,m,p),v=epe(n,c,m,s);return{activeTooltipIndex:m,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},tpe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=t.stackOffset,v=X6(m,s);return n.reduce(function(j,S){var _,N=S.type.defaultProps!==void 0?Ie(Ie({},S.type.defaultProps),S.props):S.props,k=N.type,C=N.dataKey,R=N.allowDataOverflow,A=N.allowDuplicatedCategory,E=N.scale,$=N.ticks,I=N.includeHidden,D=N[o];if(j[D])return j;var W=Qx(t.data,{graphicalItems:i.filter(function(Y){var oe,_e=o in Y.props?Y.props[o]:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe[o];return _e===D}),dataStartIndex:f,dataEndIndex:h}),B=W.length,q,J,X;Phe(N.domain,R,k)&&(q=C2(N.domain,null,R),v&&(k==="number"||E!=="auto")&&(X=lh(W,C,"category")));var Z=Q7(k);if(!q||q.length===0){var F,K=(F=N.domain)!==null&&F!==void 0?F:Z;if(C){if(q=lh(W,C,k),k==="category"&&v){var U=mJ(q);A&&U?(J=q,q=Hy(0,B)):A||(q=zM(K,q,S).reduce(function(Y,oe){return Y.indexOf(oe)>=0?Y:[].concat(wd(Y),[oe])},[]))}else if(k==="category")A?q=q.filter(function(Y){return Y!==""&&!Lt(Y)}):q=zM(K,q,S).reduce(function(Y,oe){return Y.indexOf(oe)>=0||oe===""||Lt(oe)?Y:[].concat(wd(Y),[oe])},[]);else if(k==="number"){var ie=Eae(W,i.filter(function(Y){var oe,_e,Ce=o in Y.props?Y.props[o]:(oe=Y.type.defaultProps)===null||oe===void 0?void 0:oe[o],Ne="hide"in Y.props?Y.props.hide:(_e=Y.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===D&&(I||!Ne)}),C,s,m);ie&&(q=ie)}v&&(k==="number"||E!=="auto")&&(X=lh(W,C,"category"))}else v?q=Hy(0,B):c&&c[D]&&c[D].hasStack&&k==="number"?q=x==="expand"?[0,1]:J6(c[D].stackGroups,f,h):q=Y6(W,i.filter(function(Y){var oe=o in Y.props?Y.props[o]:Y.type.defaultProps[o],_e="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return oe===D&&(I||!_e)}),k,m,!0);if(k==="number")q=uS(p,q,D,s,$),K&&(q=C2(K,q,R));else if(k==="category"&&K){var se=K,G=q.every(function(Y){return se.indexOf(Y)>=0});G&&(q=se)}}return Ie(Ie({},j),{},wt({},D,Ie(Ie({},N),{},{axisType:s,domain:q,categoricalDomain:X,duplicateDomain:J,originalDomain:(_=N.domain)!==null&&_!==void 0?_:Z,isCategorical:v,layout:m})))},{})},rpe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,m=t.layout,p=t.children,x=Qx(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:h}),v=x.length,j=X6(m,s),S=-1;return n.reduce(function(_,N){var k=N.type.defaultProps!==void 0?Ie(Ie({},N.type.defaultProps),N.props):N.props,C=k[o],R=Q7("number");if(!_[C]){S++;var A;return j?A=Hy(0,v):c&&c[C]&&c[C].hasStack?(A=J6(c[C].stackGroups,f,h),A=uS(p,A,C,s)):(A=C2(R,Y6(x,n.filter(function(E){var $,I,D=o in E.props?E.props[o]:($=E.type.defaultProps)===null||$===void 0?void 0:$[o],W="hide"in E.props?E.props.hide:(I=E.type.defaultProps)===null||I===void 0?void 0:I.hide;return D===C&&!W}),"number",m),i.defaultProps.allowDataOverflow),A=uS(p,A,C,s)),Ie(Ie({},_),{},wt({},C,Ie(Ie({axisType:s},i.defaultProps),{},{hide:!0,orientation:ss(Xhe,"".concat(s,".").concat(S%2),null),domain:A,originalDomain:R,isCategorical:j,layout:m})))}return _},{})},npe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,f=r.dataStartIndex,h=r.dataEndIndex,m=t.children,p="".concat(i,"Id"),x=as(m,s),v={};return x&&x.length?v=tpe(t,{axes:x,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):o&&o.length&&(v=rpe(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),v},ipe=function(t){var r=Ou(t),n=gc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:FN(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ly(r,n)}},SR=function(t){var r=t.children,n=t.defaultShowTooltip,i=Oi(r,dd),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},spe=function(t){return!t||!t.length?!1:t.some(function(r){var n=io(r&&r.type);return n&&n.indexOf("Bar")>=0})},NR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ape=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,c=t.yAxisMap,f=c===void 0?{}:c,h=n.width,m=n.height,p=n.children,x=n.margin||{},v=Oi(p,dd),j=Oi(p,Ku),S=Object.keys(f).reduce(function(A,E){var $=f[E],I=$.orientation;return!$.mirror&&!$.hide?Ie(Ie({},A),{},wt({},I,A[I]+$.width)):A},{left:x.left||0,right:x.right||0}),_=Object.keys(o).reduce(function(A,E){var $=o[E],I=$.orientation;return!$.mirror&&!$.hide?Ie(Ie({},A),{},wt({},I,ss(A,"".concat(I))+$.height)):A},{top:x.top||0,bottom:x.bottom||0}),N=Ie(Ie({},_),S),k=N.bottom;v&&(N.bottom+=v.props.height||dd.defaultProps.height),j&&r&&(N=Pae(N,i,n,r));var C=h-N.left-N.right,R=m-N.top-N.bottom;return Ie(Ie({brushBottom:k},N),{},{width:Math.max(C,0),height:Math.max(R,0)})},ope=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},lpe=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,f=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,p=t.defaultProps,x=function(N,k){var C=k.graphicalItems,R=k.stackGroups,A=k.offset,E=k.updateId,$=k.dataStartIndex,I=k.dataEndIndex,D=N.barSize,W=N.layout,B=N.barGap,q=N.barCategoryGap,J=N.maxBarSize,X=NR(W),Z=X.numericAxisName,F=X.cateAxisName,K=spe(C),U=[];return C.forEach(function(ie,se){var G=Qx(N.data,{graphicalItems:[ie],dataStartIndex:$,dataEndIndex:I}),Y=ie.type.defaultProps!==void 0?Ie(Ie({},ie.type.defaultProps),ie.props):ie.props,oe=Y.dataKey,_e=Y.maxBarSize,Ce=Y["".concat(Z,"Id")],Ne=Y["".concat(F,"Id")],Be={},ye=f.reduce(function(Je,Q){var pe=k["".concat(Q.axisType,"Map")],ne=Y["".concat(Q.axisType,"Id")];pe&&pe[ne]||Q.axisType==="zAxis"||kc();var je=pe[ne];return Ie(Ie({},Je),{},wt(wt({},Q.axisType,je),"".concat(Q.axisType,"Ticks"),gc(je)))},Be),ee=ye[F],xe=ye["".concat(F,"Ticks")],ke=R&&R[Ce]&&R[Ce].hasStack&&Bae(ie,R[Ce].stackGroups),te=io(ie.type).indexOf("Bar")>=0,ue=Ly(ee,xe),de=[],Re=K&&Nae({barSize:D,stackGroups:R,totalSize:ope(ye,F)});if(te){var Me,Ye,qe=Lt(_e)?J:_e,he=(Me=(Ye=Ly(ee,xe,!0))!==null&&Ye!==void 0?Ye:qe)!==null&&Me!==void 0?Me:0;de=kae({barGap:B,barCategoryGap:q,bandSize:he!==ue?he:ue,sizeList:Re[Ne],maxBarSize:qe}),he!==ue&&(de=de.map(function(Je){return Ie(Ie({},Je),{},{position:Ie(Ie({},Je.position),{},{offset:Je.position.offset-he/2})})}))}var Fe=ie&&ie.type&&ie.type.getComposedData;Fe&&U.push({props:Ie(Ie({},Fe(Ie(Ie({},ye),{},{displayedData:G,props:N,dataKey:oe,item:ie,bandSize:ue,barPosition:de,offset:A,stackedData:ke,layout:W,dataStartIndex:$,dataEndIndex:I}))),{},wt(wt(wt({key:ie.key||"item-".concat(se)},Z,ye[Z]),F,ye[F]),"animationId",E)),childIndex:PJ(ie,N.children),item:ie})}),U},v=function(N,k){var C=N.props,R=N.dataStartIndex,A=N.dataEndIndex,E=N.updateId;if(!Q8({props:C}))return null;var $=C.children,I=C.layout,D=C.stackOffset,W=C.data,B=C.reverseStackOrder,q=NR(I),J=q.numericAxisName,X=q.cateAxisName,Z=as($,n),F=$ae(W,Z,"".concat(J,"Id"),"".concat(X,"Id"),D,B),K=f.reduce(function(Y,oe){var _e="".concat(oe.axisType,"Map");return Ie(Ie({},Y),{},wt({},_e,npe(C,Ie(Ie({},oe),{},{graphicalItems:Z,stackGroups:oe.axisType===J&&F,dataStartIndex:R,dataEndIndex:A}))))},{}),U=ape(Ie(Ie({},K),{},{props:C,graphicalItems:Z}),k==null?void 0:k.legendBBox);Object.keys(K).forEach(function(Y){K[Y]=m(C,K[Y],U,Y.replace("Map",""),r)});var ie=K["".concat(X,"Map")],se=ipe(ie),G=x(C,Ie(Ie({},K),{},{dataStartIndex:R,dataEndIndex:A,updateId:E,graphicalItems:Z,stackGroups:F,offset:U}));return Ie(Ie({formattedGraphicalItems:G,graphicalItems:Z,offset:U,stackGroups:F},se),K)},j=(function(_){function N(k){var C,R,A;return Whe(this,N),A=Uhe(this,N,[k]),wt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(A,"accessibilityManager",new khe),wt(A,"handleLegendBBoxUpdate",function(E){if(E){var $=A.state,I=$.dataStartIndex,D=$.dataEndIndex,W=$.updateId;A.setState(Ie({legendBBox:E},v({props:A.props,dataStartIndex:I,dataEndIndex:D,updateId:W},Ie(Ie({},A.state),{},{legendBBox:E}))))}}),wt(A,"handleReceiveSyncEvent",function(E,$,I){if(A.props.syncId===E){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent($)}}),wt(A,"handleBrushChange",function(E){var $=E.startIndex,I=E.endIndex;if($!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var D=A.state.updateId;A.setState(function(){return Ie({dataStartIndex:$,dataEndIndex:I},v({props:A.props,dataStartIndex:$,dataEndIndex:I,updateId:D},A.state))}),A.triggerSyncEvent({dataStartIndex:$,dataEndIndex:I})}}),wt(A,"handleMouseEnter",function(E){var $=A.getMouseInfo(E);if($){var I=Ie(Ie({},$),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var D=A.props.onMouseEnter;It(D)&&D(I,E)}}),wt(A,"triggeredAfterMouseMove",function(E){var $=A.getMouseInfo(E),I=$?Ie(Ie({},$),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var D=A.props.onMouseMove;It(D)&&D(I,E)}),wt(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),wt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),wt(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),wt(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var $={isTooltipActive:!1};A.setState($),A.triggerSyncEvent($);var I=A.props.onMouseLeave;It(I)&&I($,E)}),wt(A,"handleOuterEvent",function(E){var $=kJ(E),I=ss(A.props,"".concat($));if($&&It(I)){var D,W;/.*touch.*/i.test($)?W=A.getMouseInfo(E.changedTouches[0]):W=A.getMouseInfo(E),I((D=W)!==null&&D!==void 0?D:{},E)}}),wt(A,"handleClick",function(E){var $=A.getMouseInfo(E);if($){var I=Ie(Ie({},$),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var D=A.props.onClick;It(D)&&D(I,E)}}),wt(A,"handleMouseDown",function(E){var $=A.props.onMouseDown;if(It($)){var I=A.getMouseInfo(E);$(I,E)}}),wt(A,"handleMouseUp",function(E){var $=A.props.onMouseUp;if(It($)){var I=A.getMouseInfo(E);$(I,E)}}),wt(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),wt(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),wt(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),wt(A,"handleDoubleClick",function(E){var $=A.props.onDoubleClick;if(It($)){var I=A.getMouseInfo(E);$(I,E)}}),wt(A,"handleContextMenu",function(E){var $=A.props.onContextMenu;if(It($)){var I=A.getMouseInfo(E);$(I,E)}}),wt(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&X_.emit(J_,A.props.syncId,E,A.eventEmitterSymbol)}),wt(A,"applySyncEvent",function(E){var $=A.props,I=$.layout,D=$.syncMethod,W=A.state.updateId,B=E.dataStartIndex,q=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(Ie({dataStartIndex:B,dataEndIndex:q},v({props:A.props,dataStartIndex:B,dataEndIndex:q,updateId:W},A.state)));else if(E.activeTooltipIndex!==void 0){var J=E.chartX,X=E.chartY,Z=E.activeTooltipIndex,F=A.state,K=F.offset,U=F.tooltipTicks;if(!K)return;if(typeof D=="function")Z=D(U,E);else if(D==="value"){Z=-1;for(var ie=0;ie<U.length;ie++)if(U[ie].value===E.activeLabel){Z=ie;break}}var se=Ie(Ie({},K),{},{x:K.left,y:K.top}),G=Math.min(J,se.x+se.width),Y=Math.min(X,se.y+se.height),oe=U[Z]&&U[Z].value,_e=hS(A.state,A.props.data,Z),Ce=U[Z]?{x:I==="horizontal"?U[Z].coordinate:G,y:I==="horizontal"?Y:U[Z].coordinate}:J7;A.setState(Ie(Ie({},E),{},{activeLabel:oe,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:Z}))}else A.setState(E)}),wt(A,"renderCursor",function(E){var $,I=A.state,D=I.isTooltipActive,W=I.activeCoordinate,B=I.activePayload,q=I.offset,J=I.activeTooltipIndex,X=I.tooltipAxisBandSize,Z=A.getTooltipEventType(),F=($=E.props.active)!==null&&$!==void 0?$:D,K=A.props.layout,U=E.key||"_recharts-cursor";return re.createElement(Mhe,{key:U,activeCoordinate:W,activePayload:B,activeTooltipIndex:J,chartName:r,element:E,isActive:F,layout:K,offset:q,tooltipAxisBandSize:X,tooltipEventType:Z})}),wt(A,"renderPolarAxis",function(E,$,I){var D=ss(E,"type.axisType"),W=ss(A.state,"".concat(D,"Map")),B=E.type.defaultProps,q=B!==void 0?Ie(Ie({},B),E.props):E.props,J=W&&W[q["".concat(D,"Id")]];return O.cloneElement(E,Ie(Ie({},J),{},{className:Vt(D,J.className),key:E.key||"".concat($,"-").concat(I),ticks:gc(J,!0)}))}),wt(A,"renderPolarGrid",function(E){var $=E.props,I=$.radialLines,D=$.polarAngles,W=$.polarRadius,B=A.state,q=B.radiusAxisMap,J=B.angleAxisMap,X=Ou(q),Z=Ou(J),F=Z.cx,K=Z.cy,U=Z.innerRadius,ie=Z.outerRadius;return O.cloneElement(E,{polarAngles:Array.isArray(D)?D:gc(Z,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(W)?W:gc(X,!0).map(function(se){return se.coordinate}),cx:F,cy:K,innerRadius:U,outerRadius:ie,key:E.key||"polar-grid",radialLines:I})}),wt(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,$=A.props,I=$.children,D=$.width,W=$.height,B=A.props.margin||{},q=D-(B.left||0)-(B.right||0),J=G6({children:I,formattedGraphicalItems:E,legendWidth:q,legendContent:h});if(!J)return null;var X=J.item,Z=wR(J,Rhe);return O.cloneElement(X,Ie(Ie({},Z),{},{chartWidth:D,chartHeight:W,margin:B,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),wt(A,"renderTooltip",function(){var E,$=A.props,I=$.children,D=$.accessibilityLayer,W=Oi(I,Ja);if(!W)return null;var B=A.state,q=B.isTooltipActive,J=B.activeCoordinate,X=B.activePayload,Z=B.activeLabel,F=B.offset,K=(E=W.props.active)!==null&&E!==void 0?E:q;return O.cloneElement(W,{viewBox:Ie(Ie({},F),{},{x:F.left,y:F.top}),active:K,label:Z,payload:K?X:[],coordinate:J,accessibilityLayer:D})}),wt(A,"renderBrush",function(E){var $=A.props,I=$.margin,D=$.data,W=A.state,B=W.offset,q=W.dataStartIndex,J=W.dataEndIndex,X=W.updateId;return O.cloneElement(E,{key:E.key||"_recharts-brush",onChange:wg(A.handleBrushChange,E.props.onChange),data:D,x:rt(E.props.x)?E.props.x:B.left,y:rt(E.props.y)?E.props.y:B.top+B.height+B.brushBottom-(I.bottom||0),width:rt(E.props.width)?E.props.width:B.width,startIndex:q,endIndex:J,updateId:"brush-".concat(X)})}),wt(A,"renderReferenceElement",function(E,$,I){if(!E)return null;var D=A,W=D.clipPathId,B=A.state,q=B.xAxisMap,J=B.yAxisMap,X=B.offset,Z=E.type.defaultProps||{},F=E.props,K=F.xAxisId,U=K===void 0?Z.xAxisId:K,ie=F.yAxisId,se=ie===void 0?Z.yAxisId:ie;return O.cloneElement(E,{key:E.key||"".concat($,"-").concat(I),xAxis:q[U],yAxis:J[se],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:W})}),wt(A,"renderActivePoints",function(E){var $=E.item,I=E.activePoint,D=E.basePoint,W=E.childIndex,B=E.isRange,q=[],J=$.props.key,X=$.item.type.defaultProps!==void 0?Ie(Ie({},$.item.type.defaultProps),$.item.props):$.item.props,Z=X.activeDot,F=X.dataKey,K=Ie(Ie({index:W,dataKey:F,cx:I.x,cy:I.y,r:4,fill:pk($.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},zt(Z,!1)),cy(Z));return q.push(N.renderActiveDot(Z,K,"".concat(J,"-activePoint-").concat(W))),D?q.push(N.renderActiveDot(Z,Ie(Ie({},K),{},{cx:D.x,cy:D.y}),"".concat(J,"-basePoint-").concat(W))):B&&q.push(null),q}),wt(A,"renderGraphicChild",function(E,$,I){var D=A.filterFormatItem(E,$,I);if(!D)return null;var W=A.getTooltipEventType(),B=A.state,q=B.isTooltipActive,J=B.tooltipAxis,X=B.activeTooltipIndex,Z=B.activeLabel,F=A.props.children,K=Oi(F,Ja),U=D.props,ie=U.points,se=U.isRange,G=U.baseLine,Y=D.item.type.defaultProps!==void 0?Ie(Ie({},D.item.type.defaultProps),D.item.props):D.item.props,oe=Y.activeDot,_e=Y.hide,Ce=Y.activeBar,Ne=Y.activeShape,Be=!!(!_e&&q&&K&&(oe||Ce||Ne)),ye={};W!=="axis"&&K&&K.props.trigger==="click"?ye={onClick:wg(A.handleItemMouseEnter,E.props.onClick)}:W!=="axis"&&(ye={onMouseLeave:wg(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:wg(A.handleItemMouseEnter,E.props.onMouseEnter)});var ee=O.cloneElement(E,Ie(Ie({},D.props),ye));function xe(Q){return typeof J.dataKey=="function"?J.dataKey(Q.payload):null}if(Be)if(X>=0){var ke,te;if(J.dataKey&&!J.allowDuplicatedCategory){var ue=typeof J.dataKey=="function"?xe:"payload.".concat(J.dataKey.toString());ke=ly(ie,ue,Z),te=se&&G&&ly(G,ue,Z)}else ke=ie==null?void 0:ie[X],te=se&&G&&G[X];if(Ne||Ce){var de=E.props.activeIndex!==void 0?E.props.activeIndex:X;return[O.cloneElement(E,Ie(Ie(Ie({},D.props),ye),{},{activeIndex:de})),null,null]}if(!Lt(ke))return[ee].concat(wd(A.renderActivePoints({item:D,activePoint:ke,basePoint:te,childIndex:X,isRange:se})))}else{var Re,Me=(Re=A.getItemByXY(A.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:ee},Ye=Me.graphicalItem,qe=Ye.item,he=qe===void 0?E:qe,Fe=Ye.childIndex,Je=Ie(Ie(Ie({},D.props),ye),{},{activeIndex:Fe});return[O.cloneElement(he,Je),null,null]}return se?[ee,null,null]:[ee,null]}),wt(A,"renderCustomized",function(E,$,I){return O.cloneElement(E,Ie(Ie({key:"recharts-customized-".concat(I)},A.props),A.state))}),wt(A,"renderMap",{CartesianGrid:{handler:kg,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:kg},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:kg},YAxis:{handler:kg},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((C=k.id)!==null&&C!==void 0?C:Tp("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=GD(A.triggeredAfterMouseMove,(R=k.throttleDelay)!==null&&R!==void 0?R:1e3/60),A.state={},A}return Hhe(N,_),Fhe(N,[{key:"componentDidMount",value:function(){var C,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,R=C.children,A=C.data,E=C.height,$=C.layout,I=Oi(R,Ja);if(I){var D=I.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,B=hS(this.state,A,D,W),q=this.state.tooltipTicks[D].coordinate,J=(this.state.offset.top+E)/2,X=$==="horizontal",Z=X?{x:q,y:J}:{y:q,x:J},F=this.state.formattedGraphicalItems.find(function(U){var ie=U.item;return ie.type.name==="Scatter"});F&&(Z=Ie(Ie({},Z),F.props.points[D].tooltipPosition),B=F.props.points[D].tooltipPayload);var K={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:W,activePayload:B,activeCoordinate:Z};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(C){Jj([Oi(C.children,Ja)],[Oi(this.props.children,Ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Oi(this.props.children,Ja);if(C&&typeof C.props.shared=="boolean"){var R=C.props.shared?"axis":"item";return c.indexOf(R)>=0?R:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var R=this.container,A=R.getBoundingClientRect(),E=pre(A),$={chartX:Math.round(C.pageX-E.left),chartY:Math.round(C.pageY-E.top)},I=A.width/R.offsetWidth||1,D=this.inRange($.chartX,$.chartY,I);if(!D)return null;var W=this.state,B=W.xAxisMap,q=W.yAxisMap,J=this.getTooltipEventType(),X=jR(this.state,this.props.data,this.props.layout,D);if(J!=="axis"&&B&&q){var Z=Ou(B).scale,F=Ou(q).scale,K=Z&&Z.invert?Z.invert($.chartX):null,U=F&&F.invert?F.invert($.chartY):null;return Ie(Ie({},$),{},{xValue:K,yValue:U},X)}return X?Ie(Ie({},$),X):null}},{key:"inRange",value:function(C,R){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,$=C/A,I=R/A;if(E==="horizontal"||E==="vertical"){var D=this.state.offset,W=$>=D.left&&$<=D.left+D.width&&I>=D.top&&I<=D.top+D.height;return W?{x:$,y:I}:null}var B=this.state,q=B.angleAxisMap,J=B.radiusAxisMap;if(q&&J){var X=Ou(q);return FM({x:$,y:I},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,R=this.getTooltipEventType(),A=Oi(C,Ja),E={};A&&R==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var $=cy(this.props,this.handleOuterEvent);return Ie(Ie({},$),E)}},{key:"addListener",value:function(){X_.on(J_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X_.removeListener(J_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,R,A){for(var E=this.state.formattedGraphicalItems,$=0,I=E.length;$<I;$++){var D=E[$];if(D.item===C||D.props.key===C.key||R===io(D.item.type)&&A===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,R=this.state.offset,A=R.left,E=R.top,$=R.height,I=R.width;return re.createElement("defs",null,re.createElement("clipPath",{id:C},re.createElement("rect",{x:A,y:E,height:$,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(R,A){var E=bR(A,2),$=E[0],I=E[1];return Ie(Ie({},R),{},wt({},$,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(R,A){var E=bR(A,2),$=E[0],I=E[1];return Ie(Ie({},R),{},wt({},$,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[C])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(C){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[C])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(C){var R=this.state,A=R.formattedGraphicalItems,E=R.activeItem;if(A&&A.length)for(var $=0,I=A.length;$<I;$++){var D=A[$],W=D.props,B=D.item,q=B.type.defaultProps!==void 0?Ie(Ie({},B.type.defaultProps),B.props):B.props,J=io(B.type);if(J==="Bar"){var X=(W.data||[]).find(function(U){return Ice(C,U)});if(X)return{graphicalItem:D,payload:X}}else if(J==="RadialBar"){var Z=(W.data||[]).find(function(U){return FM(C,U)});if(Z)return{graphicalItem:D,payload:Z}}else if(qx(D,E)||Hx(D,E)||ap(D,E)){var F=Nue({graphicalItem:D,activeTooltipItem:E,itemData:q.data}),K=q.activeIndex===void 0?F:q.activeIndex;return{graphicalItem:Ie(Ie({},D),{},{childIndex:K}),payload:ap(D,E)?q.data[F]:D.props.data[F]}}}return null}},{key:"render",value:function(){var C=this;if(!Q8(this))return null;var R=this.props,A=R.children,E=R.className,$=R.width,I=R.height,D=R.style,W=R.compact,B=R.title,q=R.desc,J=wR(R,Ihe),X=zt(J,!1);if(W)return re.createElement(nR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(e2,Bu({},X,{width:$,height:I,title:B,desc:q}),this.renderClipPath(),t5(A,this.renderMap)));if(this.props.accessibilityLayer){var Z,F;X.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,X.role=(F=this.props.role)!==null&&F!==void 0?F:"application",X.onKeyDown=function(U){C.accessibilityManager.keyboardEvent(U)},X.onFocus=function(){C.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return re.createElement(nR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",Bu({className:Vt("recharts-wrapper",E),style:Ie({position:"relative",cursor:"default",width:$,height:I},D)},K,{ref:function(ie){C.container=ie}}),re.createElement(e2,Bu({},X,{width:$,height:I,title:B,desc:q,style:Jhe}),this.renderClipPath(),t5(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(O.Component);wt(j,"displayName",r),wt(j,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),wt(j,"getDerivedStateFromProps",function(_,N){var k=_.dataKey,C=_.data,R=_.children,A=_.width,E=_.height,$=_.layout,I=_.stackOffset,D=_.margin,W=N.dataStartIndex,B=N.dataEndIndex;if(N.updateId===void 0){var q=SR(_);return Ie(Ie(Ie({},q),{},{updateId:0},v(Ie(Ie({props:_},q),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:C,prevWidth:A,prevHeight:E,prevLayout:$,prevStackOffset:I,prevMargin:D,prevChildren:R})}if(k!==N.prevDataKey||C!==N.prevData||A!==N.prevWidth||E!==N.prevHeight||$!==N.prevLayout||I!==N.prevStackOffset||!Hu(D,N.prevMargin)){var J=SR(_),X={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Z=Ie(Ie({},jR(N,C,$)),{},{updateId:N.updateId+1}),F=Ie(Ie(Ie({},J),X),Z);return Ie(Ie(Ie({},F),v(Ie({props:_},F),N)),{},{prevDataKey:k,prevData:C,prevWidth:A,prevHeight:E,prevLayout:$,prevStackOffset:I,prevMargin:D,prevChildren:R})}if(!Jj(R,N.prevChildren)){var K,U,ie,se,G=Oi(R,dd),Y=G&&(K=(U=G.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:W,oe=G&&(ie=(se=G.props)===null||se===void 0?void 0:se.endIndex)!==null&&ie!==void 0?ie:B,_e=Y!==W||oe!==B,Ce=!Lt(C),Ne=Ce&&!_e?N.updateId:N.updateId+1;return Ie(Ie({updateId:Ne},v(Ie(Ie({props:_},N),{},{updateId:Ne,dataStartIndex:Y,dataEndIndex:oe}),N)),{},{prevChildren:R,dataStartIndex:Y,dataEndIndex:oe})}return null}),wt(j,"renderActiveDot",function(_,N,k){var C;return O.isValidElement(_)?C=O.cloneElement(_,N):It(_)?C=_(N):C=re.createElement(gk,N),re.createElement(Dr,{className:"recharts-active-dot",key:k},C)});var S=O.forwardRef(function(N,k){return re.createElement(j,Bu({},N,{ref:k}))});return S.displayName=j.displayName,S},cpe=lpe({chartName:"LineChart",GraphicalChild:Lp,axisComponents:[{axisType:"xAxis",AxisComp:wk},{axisType:"yAxis",AxisComp:_k}],formatAxisMap:_de});function dh(e,t=1800){const[r,n]=O.useState(0),i=O.useRef(null),s=O.useRef(!1),o=O.useRef(e);o.current=e;const c=O.useCallback(()=>{if(s.current)return;s.current=!0;const f=performance.now(),h=m=>{const p=m-f,x=Math.min(p/t,1),v=x===1?1:1-Math.pow(2,-10*x);n(Math.round(v*o.current)),x<1&&requestAnimationFrame(h)};requestAnimationFrame(h)},[t]);return O.useEffect(()=>{const f=i.current;if(!f){c();return}const h=new IntersectionObserver(([m])=>{m.isIntersecting&&c()},{threshold:.3});return h.observe(f),()=>h.disconnect()},[c]),O.useEffect(()=>{s.current&&n(e)},[e]),{value:r,ref:i}}const upe={leads:[5,7,6,9,8,11,12].map(e=>({v:e})),quotes:[50,48,52,47,44,46,45].map(e=>({v:e})),projects:[20,22,24,23,26,27,28].map(e=>({v:e})),events:[6,7,5,8,9,7,8].map(e=>({v:e}))},dpe=["leads","quotes","projects","events"],kR=['   "  "    4829-24',"    #4832    -  180,000","  3      ",'    "  "     4.8',"      Q2  +8%  ",'   "  Q1"   '],PR=[{id:"1",title:" ",subtitle:"  - 45,000 ",time:" ",iconColor:"#16A34A",iconBg:"#f0fdf4",icon:Xr},{id:"2",title:"  ",subtitle:'  - "   "',time:" ",iconColor:"#2563EB",iconBg:"#eff6ff",icon:AU},{id:"3",title:' "',subtitle:"   -   '",time:"",iconColor:"#EA580C",iconBg:"#fff7ed",icon:Bs}];function fpe({percent:e,size:t=160,strokeWidth:r=12}){const n=(t-r)/2,i=2*Math.PI*n,[s,o]=O.useState(i);return O.useEffect(()=>{const c=setTimeout(()=>{o(i-e/100*i)},800);return()=>clearTimeout(c)},[e,i]),a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r:n,fill:"none",stroke:"#ece8e3",strokeWidth:r}),a.jsx("circle",{cx:t/2,cy:t/2,r:n,fill:"none",stroke:"url(#ringGradient)",strokeWidth:r,strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:s,style:{transition:"stroke-dashoffset 3s cubic-bezier(0.25,0.46,0.45,0.94)"}}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"ringGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FF8C00"}),a.jsx("stop",{offset:"100%",stopColor:"#F59E0B"})]})})]})}function hpe(e){return e?[{label:" ",value:e.projects.leads,change:e.projects.leads>0?`${e.projects.leads} `:"0",changePositive:e.projects.leads>0?!0:null,iconBg:"rgba(255,140,0,0.1)",iconColor:"#FF8C00",sparkColor:"#FF8C00",icon:vh,link:"/projects"},{label:" ",value:e.projects.quotesSent+e.projects.building,change:e.projects.building>0?`${e.projects.building} `:"-",changePositive:null,iconBg:"#EFF6FF",iconColor:"#3B82F6",sparkColor:"#3B82F6",icon:Er,link:"/projects"},{label:" ",value:e.projects.approved,change:e.projects.approved>0?"":"-",changePositive:e.projects.approved>0?!0:null,iconBg:"#FAF5FF",iconColor:"#A855F7",sparkColor:"#A855F7",icon:Xr,link:"/projects"},{label:'" ',value:e.projects.total,change:`${e.suppliers.total} `,changePositive:null,iconBg:"#FFF7ED",iconColor:"#EA580C",sparkColor:"#EA580C",icon:_c,link:"/projects"}]:[{label:" ",value:0,change:"-",changePositive:null,iconBg:"rgba(255,140,0,0.1)",iconColor:"#FF8C00",sparkColor:"#FF8C00",icon:vh,link:"/projects"},{label:" ",value:0,change:"-",changePositive:null,iconBg:"#EFF6FF",iconColor:"#3B82F6",sparkColor:"#3B82F6",icon:Er,link:"/projects"},{label:" ",value:0,change:"-",changePositive:null,iconBg:"#FAF5FF",iconColor:"#A855F7",sparkColor:"#A855F7",icon:Xr,link:"/projects"},{label:'" ',value:0,change:"-",changePositive:null,iconBg:"#FFF7ED",iconColor:"#EA580C",sparkColor:"#EA580C",icon:_c,link:"/projects"}]}function ppe(e){return e?[{label:"",value:e.projects.leads,color:"#3B82F6",bg:"#EFF6FF"},{label:" ",value:e.projects.building,color:"#F59E0B",bg:"#FFFBEB"},{label:" ",value:e.projects.quotesSent,color:"#8B5CF6",bg:"#F5F3FF"},{label:"",value:e.projects.approved,color:"#22C55E",bg:"#F0FDF4"},{label:"",value:e.projects.inProgress,color:"#FF8C00",bg:"#FFF7ED"}]:[]}function mpe({stat:e,index:t,sparkKey:r}){const n=Fr(),i=dh(e.value,1600+t*200),s=e.icon,o=e.changePositive===!0?"#f0fdf4":e.changePositive===!1?"#fef2f2":"#f5f3f0",c=e.changePositive===!0?"#078810":e.changePositive===!1?"#e71008":"#8d785e";return a.jsxs(Ke.button,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1,ease:[.25,.46,.45,.94]},onClick:()=>n(e.link),className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-5 pb-2 flex flex-col gap-1 text-right hover:shadow-lg hover:border-[#d4cdc3] hover:-translate-y-0.5 transition-all cursor-pointer relative overflow-hidden group",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("span",{className:"px-2 py-1 rounded text-[12px]",style:{backgroundColor:o,color:c,fontWeight:700},children:e.change}),a.jsx("div",{className:"w-[34px] h-[36px] rounded-lg flex items-center justify-center",style:{backgroundColor:e.iconBg},children:a.jsx(s,{size:18,style:{color:e.iconColor}})})]}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-1",children:e.label}),a.jsx("p",{ref:i.ref,className:"text-[30px] text-[#181510] leading-[36px]",style:{fontWeight:700},children:i.value}),a.jsx("div",{className:"h-[36px] -mx-2 mt-1 opacity-60 group-hover:opacity-100 transition-opacity",style:{minWidth:0,minHeight:36},children:a.jsx(ore,{width:"100%",height:36,minWidth:50,children:a.jsx(cpe,{data:upe[r],children:a.jsx(Lp,{type:"monotone",dataKey:"v",stroke:e.sparkColor,strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:2e3,animationBegin:600+t*150})})})})]})}function gpe({stage:e,index:t,maxVal:r}){const n=dh(e.value,1400),i=r>0?Math.max(e.value/r*100,18):18;return a.jsxs(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3+t*.08},className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-[90px] text-left shrink-0",children:a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:500},children:e.label})}),a.jsx("div",{className:"flex-1 h-[32px] bg-[#f5f3f0] rounded-lg overflow-hidden relative",children:a.jsx(Ke.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:1.2,delay:.5+t*.12,ease:[.25,.46,.45,.94]},className:"h-full rounded-lg flex items-center justify-end px-3",style:{backgroundColor:e.color+"20",borderRight:`3px solid ${e.color}`},children:a.jsx("span",{ref:n.ref,className:"text-[13px]",style:{color:e.color,fontWeight:700},children:n.value})})}),t<4&&a.jsx(qs,{size:14,className:"text-[#ddd6cb] shrink-0"}),t===4&&a.jsx("div",{className:"w-[14px] shrink-0"})]})}function ype(e){const t=[];for(const r of e)r.status===" "?t.push({id:r.id,title:`${r.name}  ${r.client}`,badge:"",badgeColor:"#dc2626",badgeBg:"#fef2f2",detail:" ",detailColor:"#8d785e",detailIcon:_c,borderColor:"#ef4444",action:" ",actionPrimary:!0,cardIcon:mF}):r.status===" "&&r.totalPrice===0&&t.push({id:r.id,title:`${r.name}  ${r.client}`,badge:" ",badgeColor:"#2563eb",badgeBg:"#eff6ff",detail:"  ",detailColor:"#8d785e",detailIcon:Er,borderColor:"#3b82f6",action:" ",actionPrimary:!0,cardIcon:vh});return t.slice(0,3)}function xpe(){var $,I;const e=Fr(),{user:t}=yx(),[r,n]=O.useState(null),[i,s]=O.useState([]),[o,c]=O.useState(!0);O.useEffect(()=>{(async()=>{try{c(!0);const[W,B]=await Promise.all([WV.stats(),Ii.list()]);n(W),s(B)}catch(W){console.error("[Dashboard] Failed to load data:",W)}finally{c(!1)}})()},[]);const f=hpe(r),h=ppe(r),m=Math.max(...h.map(D=>D.value),1),p=5e5,x=(r==null?void 0:r.revenue.total)??0,v=(r==null?void 0:r.revenue.avgMargin)??0,j=Math.round(x*(v/100)),S=Math.round(x/p*100),_=x>0?v:0,N=dh(x,3200),k=dh(j,3200),C=dh(S,3200),R=ype(i),A=(r==null?void 0:r.projects.leads)??0,E=(r==null?void 0:r.projects.inProgress)??0;return o?a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  ..."})]}):a.jsxs("div",{className:"p-8 space-y-8 w-full",dir:"rtl",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[30px] text-[#181510] tracking-[-0.75px]",style:{fontWeight:600},children:"  -  "}),a.jsxs("p",{className:"text-[16px] text-[#8d785e] mt-1",children:[" , ",(($=t==null?void 0:t.user_metadata)==null?void 0:$.name)||((I=t==null?void 0:t.email)==null?void 0:I.split("@")[0])||"",".      ."]})]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsxs("button",{onClick:()=>e("/prd"),className:"flex items-center gap-1.5 border border-[#e7e1da] hover:bg-[#f5f3f0] text-[#181510] px-4 py-[9px] rounded-lg transition-all text-[14px]",style:{fontWeight:600},children:[a.jsx(hF,{size:15})," "]}),a.jsx("button",{onClick:()=>e("/projects"),className:"bg-[#ff8c00] hover:bg-[#e67e00] text-white px-4 py-[9px] rounded-lg shadow-sm transition-all text-[14px]",style:{fontWeight:600},children:" "})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"relative overflow-hidden rounded-xl h-[44px] flex items-center border border-[#e7e1da] bg-gradient-to-l from-[#fffaf3] via-white to-[#fffaf3]",dir:"ltr",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-14 bg-gradient-to-r from-white to-transparent z-10 pointer-events-none"}),a.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-14 bg-gradient-to-l from-white to-transparent z-10 pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-1.5 px-4 shrink-0 z-20 border-l border-[#e7e1da] h-full",children:[a.jsxs("span",{className:"relative flex h-2 w-2",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#ff8c00] opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#ff8c00]"})]}),a.jsx("span",{className:"text-[11px] text-[#ff8c00] whitespace-nowrap tracking-wider",style:{fontWeight:800},children:"LIVE"})]}),a.jsx("div",{className:"overflow-hidden flex-1",children:a.jsx("div",{className:"flex items-center whitespace-nowrap",style:{animation:"tickerScroll 80s linear infinite",direction:"rtl"},children:[...kR,...kR].map((D,W)=>a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx("span",{className:"text-[13px] text-[#3d3426] px-5",style:{fontWeight:500},children:D}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-[#ddd6cb] shrink-0"})]},W))})}),a.jsx("style",{children:`
          @keyframes tickerScroll {
            0% { transform: translateX(50%); }
            100% { transform: translateX(-50%); }
          }
        `})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((D,W)=>a.jsx(mpe,{stat:D,index:W,sparkKey:dpe[W]},D.label))}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"lg:flex-[2] bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-6 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[a.jsx(VI,{size:18,className:"text-[#ff8c00]"}),a.jsx("h2",{className:"text-[18px] text-[#181510]",style:{fontWeight:600},children:" "}),a.jsx("span",{className:"text-[12px] text-[#8d785e] bg-[#f5f3f0] px-2 py-0.5 rounded-full mr-2",style:{fontWeight:600},children:" "})]}),a.jsx("div",{className:"space-y-3",children:h.map((D,W)=>a.jsx(gpe,{stage:D,index:W,maxVal:m},D.label))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[#f5f3f0] flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:"  :"}),a.jsxs("span",{className:"text-[14px] text-[#22c55e]",style:{fontWeight:700},children:[A>0?Math.round(E/A*100):0,"%"]}),a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:"(  )"})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.55},className:"lg:flex-1 bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-6 flex flex-col items-center justify-center min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 self-start",children:[a.jsx(vV,{size:18,className:"text-[#ff8c00]"}),a.jsx("h2",{className:"text-[18px] text-[#181510]",style:{fontWeight:600},children:""})]}),a.jsxs("div",{className:"relative flex items-center justify-center my-2",children:[a.jsx(fpe,{percent:S,size:160,strokeWidth:14}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center rotate-0",children:[a.jsxs("span",{ref:C.ref,className:"text-[32px] text-[#181510]",style:{fontWeight:800},children:[C.value,"%"]}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:""})]})]}),a.jsxs("div",{className:"w-full mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-[13px]",children:[a.jsx("span",{className:"text-[#8d785e]",children:" "}),a.jsxs("span",{ref:N.ref,className:"text-[#181510]",style:{fontWeight:700},children:["",N.value.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-[13px]",children:[a.jsx("span",{className:"text-[#8d785e]",children:" "}),a.jsxs("span",{ref:k.ref,className:"text-[#22c55e]",style:{fontWeight:700},children:["",k.value.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-[13px]",children:[a.jsx("span",{className:"text-[#8d785e]",children:"  "}),a.jsxs("span",{className:"text-[#8d785e]",style:{fontWeight:600},children:[_,"%"]})]}),a.jsxs("div",{className:"flex justify-between text-[13px]",children:[a.jsx("span",{className:"text-[#8d785e]",children:" "}),a.jsxs("span",{className:"text-[#8d785e]",style:{fontWeight:600},children:["",p.toLocaleString()]})]})]})]})]}),R.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.6},className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-[18px] bg-[#ef4444] rounded-sm"}),a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:600},children:"  "})]}),a.jsx("div",{className:"space-y-4",children:R.map((D,W)=>{const B=D.cardIcon,q=D.detailIcon;return a.jsx(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.45,delay:.65+W*.1},className:"bg-white rounded-lg shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] overflow-hidden hover:shadow-md transition-shadow",style:{border:`1px solid ${D.borderColor}`,borderRight:`4px solid ${D.borderColor}`},children:a.jsxs("div",{className:"flex items-center justify-between px-6 py-5",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#f5f3f0] flex items-center justify-center shrink-0",children:a.jsx(B,{size:18,className:"text-[#8d785e]"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[18px] text-[#181510]",style:{fontWeight:600},children:D.title}),a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("span",{className:"flex items-center gap-1 text-[12px]",style:{color:D.detailColor},children:[a.jsx(q,{size:12}),D.detail]}),D.badge&&a.jsx("span",{className:"text-[12px] px-2.5 py-0.5 rounded-full",style:{backgroundColor:D.badgeBg,color:D.badgeColor,fontWeight:600,letterSpacing:"0.6px"},children:D.badge})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>e(`/projects/${D.id}`),className:`text-[12px] px-4 py-2 rounded transition-colors ${D.actionPrimary?"bg-[#ff8c00] text-white hover:bg-[#e67e00]":"bg-[#f5f3f0] text-[#181510] hover:bg-[#ece8e3]"}`,style:{fontWeight:600},children:D.action}),a.jsx("button",{onClick:()=>e(`/projects/${D.id}`),className:"p-2 rounded-lg hover:bg-[#f5f3f0] transition-colors text-[#8d785e]",title:" ",children:a.jsx(II,{size:16})})]})]})},D.id)})})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},className:"lg:flex-[2] space-y-4 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 px-1",children:a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:600},children:"  "})}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-[#f5f3f0]",children:[a.jsx("button",{onClick:()=>e("/calendar"),className:"text-[12px] text-[#ff8c00]",style:{fontWeight:600},children:"  "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[14px] text-[#181510] px-2",style:{fontWeight:700},children:"16-22 , 2026"}),a.jsx("button",{className:"w-8 h-8 bg-[#f5f3f0] rounded-lg flex items-center justify-center hover:bg-[#ece8e3] transition-colors",children:a.jsx(xl,{size:14,className:"text-[#181510]"})}),a.jsx("button",{className:"w-8 h-8 bg-[#f5f3f0] rounded-lg flex items-center justify-center hover:bg-[#ece8e3] transition-colors",children:a.jsx(qs,{size:14,className:"text-[#181510]"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-[#fdfcfb]",children:[a.jsx(xp,{size:27,className:"text-[#e7e1da] mb-2",strokeWidth:1.5}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"     "})]})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},className:"lg:flex-1 space-y-4 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 px-1",children:a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:600},children:" "})}),a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-6",children:a.jsx("div",{className:"space-y-6",children:PR.map((D,W)=>{const B=D.icon;return a.jsxs(Ke.div,{initial:{opacity:0,x:16},animate:{opacity:1,x:0},transition:{duration:.35,delay:1.05+W*.1},className:"flex gap-3 items-start",children:[a.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:D.iconBg},children:a.jsx(B,{size:15,style:{color:D.iconColor}})}),W<PR.length-1&&a.jsx("div",{className:"w-0.5 flex-1 min-h-[24px] bg-[#f5f3f0] mt-1.5"})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:D.title}),a.jsx("p",{className:"text-[12px] text-[#8d785e] truncate",children:D.subtitle}),a.jsx("p",{className:"text-[11px] text-[#c4b89a] mt-0.5",children:D.time})]})]},D.id)})})})]})]})]})}const vpe=[""," "," "," ",""," ",""],bpe=[" "," "," ",""," ",""],TR={" ":"#3b82f6"," ":"#f97316"," ":"#8b5cf6",:"#22c55e"," ":"#eab308",:"#ff8c00"};function wpe(){const e=Fr(),[t]=vI(),r=t.get("status")||"",[n,i]=O.useState(r),[s,o]=O.useState(""),[c,f]=O.useState([]),[h,m]=O.useState(!0),[p,x]=O.useState(null),[v,j]=O.useState(null),[S,_]=O.useState(null),[N,k]=O.useState(null),[C,R]=O.useState(!1),A=O.useRef(null),E=os({mode:"onChange",defaultValues:{name:"",client:"",participants:"",region:""}});O.useEffect(()=>{m(!0),Ii.list().then(f).catch(Z=>console.error("[ProjectsList] fetch failed:",Z)).finally(()=>m(!1))},[]),O.useEffect(()=>{function Z(F){A.current&&!A.current.contains(F.target)&&x(null)}return p&&document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[p]);const $=c.filter(Z=>{const F=n===""||Z.status===n,K=!s||Z.name.includes(s)||Z.company.includes(s);return F&&K}),I=Z=>{j(Z),E.reset({name:Z.name,client:Z.client||Z.company,participants:String(Z.participants||""),region:Z.region}),x(null)},D=async Z=>{if(v)try{R(!0);const F=await Ii.update(v.id,{name:Z.name.trim(),client:Z.client.trim(),company:Z.client.trim(),participants:parseInt(Z.participants)||0,region:Z.region.trim()});f(K=>K.map(U=>U.id===v.id?F:U)),j(null),E.reset(),We.success(" ",`"${F.name}"  `)}catch(F){console.error("[ProjectsList] Update failed:",F),We.error("","    ")}finally{R(!1)}},W=Z=>{k(Z),x(null)},B=async Z=>{if(N)try{R(!0);const F=await Ii.update(N.id,{status:Z,statusColor:TR[Z]||"#8d785e"});f(K=>K.map(U=>U.id===N.id?F:U)),k(null),We.success(" ",`"${F.name}"  ${Z}`)}catch(F){console.error("[ProjectsList] Status change failed:",F),We.error("","    ")}finally{R(!1)}},q=async Z=>{x(null);try{const F=await Ii.create({name:`${Z.name} ()`,client:Z.client,company:Z.company,participants:Z.participants,region:Z.region});f(K=>[F,...K]),We.success(" ",`"${F.name}"  `)}catch(F){console.error("[ProjectsList] Duplicate failed:",F),We.error("  ")}},J=Z=>{_(Z),x(null)},X=async()=>{if(S)try{R(!0),await Ii.delete(S.id),f(Z=>Z.filter(F=>F.id!==S.id)),We.success(" ",`"${S.name}"  `),_(null)}catch(Z){console.error("[ProjectsList] Delete failed:",Z),We.error("","    ")}finally{R(!1)}};return a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx(kn,{size:20,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[26px] text-[#181510]",style:{fontWeight:700},children:""})]}),a.jsxs("button",{onClick:()=>e("/projects?newProject=true"),className:"flex items-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white px-4 py-2.5 rounded-xl shadow-lg shadow-[#ff8c00]/20 transition-all text-[14px]",style:{fontWeight:600},children:[a.jsx($r,{size:16}),"  "]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-5",children:[a.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[a.jsx(ho,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),a.jsx("input",{value:s,onChange:Z=>o(Z.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg pr-9 pl-3 py-2.5 text-[14px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",placeholder:" ..."})]}),a.jsx("div",{className:"flex gap-1 bg-white border border-[#e7e1da] rounded-lg p-1 overflow-x-auto",children:vpe.map(Z=>a.jsx("button",{onClick:()=>i(Z),className:`px-3 py-1.5 rounded-md text-[12px] transition-all whitespace-nowrap ${n===Z?"bg-[#181510] text-white":"text-[#8d785e] hover:bg-[#f5f3f0]"}`,style:{fontWeight:n===Z?600:400},children:Z},Z))})]}),h&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:" ..."})]}),!h&&a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(Z=>a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5 text-right hover:shadow-lg hover:border-[#d4cdc3] transition-all group relative",children:[a.jsxs("div",{className:"absolute top-3 left-3 z-10",ref:p===Z.id?A:void 0,children:[a.jsx("button",{onClick:F=>{F.stopPropagation(),x(p===Z.id?null:Z.id)},className:"w-8 h-8 flex items-center justify-center rounded-lg text-[#8d785e] hover:bg-[#f5f3f0] hover:text-[#181510] transition-colors",children:a.jsx(II,{size:16})}),p===Z.id&&a.jsxs("div",{className:"absolute left-0 top-9 bg-white rounded-xl border border-[#e7e1da] shadow-xl py-1 w-44 z-50",children:[a.jsxs("button",{onClick:()=>I(Z),className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-[13px] text-[#181510] hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(jc,{size:14,className:"text-[#8d785e]"})," "]}),a.jsxs("button",{onClick:()=>W(Z),className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-[13px] text-[#181510] hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(oF,{size:14,className:"text-[#8d785e]"})," "]}),a.jsxs("button",{onClick:()=>q(Z),className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-[13px] text-[#181510] hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(MI,{size:14,className:"text-[#8d785e]"})," "]}),a.jsx("div",{className:"border-t border-[#f5f3f0] my-1"}),a.jsxs("button",{onClick:()=>J(Z),className:"w-full flex items-center gap-2.5 px-3 py-2.5 text-[13px] text-red-500 hover:bg-red-50 transition-colors",children:[a.jsx(Un,{size:14})," "]})]})]}),a.jsxs("button",{onClick:()=>e(`/projects/${Z.id}`),className:"w-full text-right",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full",style:{backgroundColor:Z.statusColor+"15",color:Z.statusColor,fontWeight:600},children:Z.status}),a.jsxs("span",{className:"text-[11px] text-[#8d785e]",children:["#",Z.id]})]}),a.jsx("h3",{className:"text-[16px] text-[#181510] mb-1 group-hover:text-[#ff8c00] transition-colors",style:{fontWeight:600},children:Z.name}),a.jsx("p",{className:"text-[12px] text-[#8d785e] mb-3",children:Z.company}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-[12px] text-[#8d785e]",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Pa,{size:12})," ",Z.participants]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qa,{size:12})," ",Z.region]}),Z.totalPrice>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(RI,{size:12})," ",Z.totalPrice.toLocaleString()]})]}),Z.profitMargin>0&&a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-[#ece8e3] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-400 rounded-full",style:{width:`${Z.profitMargin}%`}})}),a.jsxs("span",{className:"text-[11px] text-green-600",style:{fontWeight:600},children:[Z.profitMargin,"%"]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-end text-[12px] text-[#ff8c00] opacity-0 group-hover:opacity-100 transition-opacity",children:["  ",a.jsx(qs,{size:12})]})]})]},Z.id))}),!h&&$.length===0&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-[40px] mb-3",children:""}),a.jsx("p",{className:"text-[16px] text-[#8d785e]",children:"  "}),a.jsx("p",{className:"text-[13px] text-[#8d785e] mt-1",children:"       "})]}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{j(null),E.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:Z=>Z.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>{j(null),E.reset()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:E.handleSubmit(D),className:"space-y-4",children:[a.jsx(At,{label:" ",required:!0,error:E.formState.errors.name,isDirty:E.formState.dirtyFields.name,...E.register("name",Ft.requiredMin(" ",2))}),a.jsx(At,{label:" / ",required:!0,error:E.formState.errors.client,isDirty:E.formState.dirtyFields.client,...E.register("client",Ft.requiredMin("",2))}),a.jsx(At,{label:" ",type:"number",required:!0,error:E.formState.errors.participants,isDirty:E.formState.dirtyFields.participants,...E.register("participants",Ft.positiveInt(" "))}),a.jsx(At,{label:"",error:E.formState.errors.region,isDirty:E.formState.dirtyFields.region,...E.register("region")}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:C||!E.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[C?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(jc,{size:16}),C?"...":" "]}),a.jsx("button",{type:"button",onClick:()=>{j(null),E.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>k(null),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6",onClick:Z=>Z.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>k(null),className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("p",{className:"text-[13px] text-[#8d785e] mb-4",children:[": ",a.jsx("span",{style:{fontWeight:600,color:"#181510"},children:N.name})]}),a.jsx("div",{className:"space-y-2",children:bpe.map(Z=>{const F=TR[Z]||"#8d785e",K=N.status===Z;return a.jsxs("button",{onClick:()=>!K&&B(Z),disabled:K||C,className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${K?"border-[#ff8c00] bg-[#ff8c00]/5 cursor-default":"border-[#e7e1da] hover:border-[#d4cdc3] hover:bg-[#f5f3f0]"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:F}}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:K?600:400},children:Z})]}),K&&a.jsx("span",{className:"text-[11px] text-[#ff8c00]",style:{fontWeight:600},children:""})]},Z)})})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>_(null),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6",onClick:Z=>Z.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center",children:a.jsx(Pn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:"    "})]})]}),a.jsxs("p",{className:"text-[14px] text-[#181510] mb-5",children:["      "," ",a.jsxs("span",{style:{fontWeight:700},children:['"',S.name,'"']}),"?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:X,disabled:C,className:"flex-1 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[C?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Un,{size:16}),C?"...":", "]}),a.jsx("button",{onClick:()=>_(null),className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})})]})}function _pe({value:e,onChange:t,placeholder:r=" ...",label:n=""}){const[i,s]=O.useState(e),[o,c]=O.useState([]),[f,h]=O.useState([]),[m,p]=O.useState(!1),[x,v]=O.useState(!1),j=O.useRef(null),S=async()=>{if(!x)try{const k=await zr.list();h(k),v(!0)}catch(k){console.error("[SupplierSearch] Failed to load suppliers:",k)}};O.useEffect(()=>{if(!i.trim())c(f.slice(0,8));else{const k=i.toLowerCase();c(f.filter(C=>C.name.toLowerCase().includes(k)||C.category.toLowerCase().includes(k)||C.region.toLowerCase().includes(k)).slice(0,8))}},[i,f]),O.useEffect(()=>{const k=C=>{j.current&&!j.current.contains(C.target)&&p(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const _=k=>{s(k.name),t(k.name),p(!1)},N=k=>{s(k),t(k),m||p(!0)};return a.jsxs("div",{ref:j,className:"relative",children:[a.jsx("label",{className:"block text-[13px] text-[#181510] mb-1",style:{fontWeight:600},children:n}),a.jsxs("div",{className:"relative",children:[a.jsx(ho,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#b8a990] pointer-events-none"}),a.jsx("input",{type:"text",value:i,onChange:k=>N(k.target.value),onFocus:()=>{S(),p(!0)},placeholder:r,className:"w-full pr-9 pl-8 py-2.5 bg-[#f5f3f0] border border-[#e7e1da] rounded-xl text-[14px] text-[#181510] focus:border-[#ff8c00] focus:ring-1 focus:ring-[#ff8c00] outline-none transition-all",autoComplete:"off"}),i&&a.jsx("button",{type:"button",onClick:()=>{s(""),t("")},className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#b8a990] hover:text-[#181510]",children:a.jsx(Ir,{size:14})})]}),m&&o.length>0&&a.jsx("div",{className:"absolute z-50 top-full mt-1 w-full bg-white border border-[#e7e1da] rounded-xl shadow-xl max-h-60 overflow-y-auto",children:o.map(k=>a.jsxs("button",{type:"button",onClick:()=>_(k),className:"w-full flex items-center gap-3 px-4 py-3 text-right hover:bg-[#f5f3f0] transition-colors border-b border-[#f5f3f0] last:border-b-0",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:k.categoryColor+"15"},children:a.jsx("span",{className:"text-[16px]",children:k.icon})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[13px] text-[#181510] truncate",style:{fontWeight:600},children:k.name}),a.jsxs("div",{className:"text-[11px] text-[#8d785e]",children:[k.category,"  ",k.region,"  ","".repeat(Math.round(k.rating))]})]}),k.verificationStatus==="verified"&&a.jsx("span",{className:"text-[10px] text-green-600 bg-green-50 px-1.5 py-0.5 rounded-full shrink-0",style:{fontWeight:600},children:""})]},k.id))}),m&&x&&o.length===0&&i.trim()&&a.jsx("div",{className:"absolute z-50 top-full mt-1 w-full bg-white border border-[#e7e1da] rounded-xl shadow-xl p-4 text-center",children:a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:"  .    ."})})]})}const jpe={:a.jsx(Ju,{size:18}),:a.jsx(RS,{size:18}),:a.jsx(mh,{size:18})," ":a.jsx(mh,{size:18}),:a.jsx(fx,{size:18}),:a.jsx(zS,{size:18}),:a.jsx(Fs,{size:18})},ej=[{value:"approved",label:"",color:"#16a34a",bg:"#f0fdf4"},{value:"modified",label:"",color:"#ff8c00",bg:"rgba(255,140,0,0.1)"},{value:"pending",label:"",color:"#8b5cf6",bg:"#f5f3ff"}];function Spe({item:e,projectId:t,isOpen:r,onClose:n,onUpdate:i}){var xe,ke,te;const[s,o]=O.useState(e.name),[c,f]=O.useState(e.supplier),[h,m]=O.useState(e.description),[p,x]=O.useState(e.cost),[v,j]=O.useState(e.directPrice||0),[S,_]=O.useState(e.sellingPrice),[N,k]=O.useState(e.profitWeight),[C,R]=O.useState(e.status),[A,E]=O.useState(e.notes||""),[$,I]=O.useState(e.images||[]),[D,W]=O.useState(!1),[B,q]=O.useState(!1),[J,X]=O.useState(!1),[Z,F]=O.useState(0),[K,U]=O.useState(!1),ie=O.useRef(null);O.useEffect(()=>{o(e.name),f(e.supplier),m(e.description),x(e.cost),j(e.directPrice||0),_(e.sellingPrice),k(e.profitWeight),R(e.status),E(e.notes||""),I(e.images||[]),F(0),U(!1)},[e]);const se=O.useCallback(async ue=>{if(ue.length){q(!0);try{for(const de of Array.from(ue)){if(!de.type.startsWith("image/")){We.warning("  ",`${de.name}  `);continue}if(de.size>5*1024*1024){We.warning("  ","  5MB");continue}const Re=await al.uploadImage(t,e.id,de);I(Re.images||[]),i(Re),F((Re.images||[]).length-1)}We.success(" ","  ")}catch(de){console.error("[ItemEditor] Upload failed:",de),We.error(" ","    ")}finally{q(!1),X(!1)}}},[t,e.id,i]),G=async ue=>{try{const de=await al.deleteImage(t,e.id,ue);I(de.images||[]),i(de),F(Math.max(0,Z-1)),We.success(" ","")}catch(de){console.error("[ItemEditor] Delete image failed:",de),We.error("","    ")}},Y=O.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation(),X(!0)},[]),oe=O.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation(),X(!1)},[]),_e=O.useCallback(ue=>{var de;ue.preventDefault(),ue.stopPropagation(),X(!1),(de=ue.dataTransfer.files)!=null&&de.length&&se(ue.dataTransfer.files)},[se]),Ce=async()=>{W(!0);try{const ue=await al.update(t,e.id,{name:s.trim(),supplier:c.trim(),description:h.trim(),cost:p,directPrice:v,sellingPrice:S,profitWeight:N,status:C,notes:A.trim()});i(ue),U(!0),We.success(" ",s),setTimeout(()=>U(!1),2e3)}catch(ue){console.error("[ItemEditor] Save failed:",ue),We.error("","    ")}finally{W(!1)}},Ne=S-p,Be=S>0?Math.round(Ne/S*100):0,ye=jpe[e.type]||a.jsx(Fs,{size:18});ej.find(ue=>ue.value===C)||ej[2];const ee=s!==e.name||c!==e.supplier||h!==e.description||p!==e.cost||v!==(e.directPrice||0)||S!==e.sellingPrice||N!==e.profitWeight||C!==e.status||A!==(e.notes||"");return a.jsx(ln,{children:r&&a.jsxs(a.Fragment,{children:[a.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:n}),a.jsxs(Ke.div,{initial:{x:"100%",opacity:.5},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 right-0 h-full w-full max-w-xl bg-[#f8f7f5] z-50 shadow-2xl overflow-hidden flex flex-col",dir:"rtl",children:[a.jsxs(Ke.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"flex items-center justify-between px-5 py-4 bg-white border-b border-[#e7e1da]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-9 h-9 bg-[#ff8c00] rounded-full flex items-center justify-center text-white",children:ye}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-[17px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsxs("p",{className:"text-[12px] text-[#8d785e]",children:[e.type,"  ",e.id]})]})]}),a.jsx("button",{onClick:n,className:"w-8 h-8 rounded-lg hover:bg-[#f5f3f0] flex items-center justify-center text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(Ir,{size:18})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative",children:[$&&$.length>0?a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative h-56 bg-[#181510] overflow-hidden",children:[a.jsx(ln,{mode:"wait",children:a.jsx(Ke.img,{src:(xe=$[Z])==null?void 0:xe.url,alt:(ke=$[Z])==null?void 0:ke.name,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3}},((te=$[Z])==null?void 0:te.id)||Z)}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),a.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white text-[11px] px-2.5 py-1 rounded-full flex items-center gap-1.5",children:[a.jsx(hh,{size:12}),Z+1,"/",$.length]}),$.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>F(ue=>(ue+1)%$.length),className:"absolute left-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-[#181510] hover:bg-white shadow-lg transition-all",children:a.jsx(qs,{size:16})}),a.jsx("button",{onClick:()=>F(ue=>(ue-1+$.length)%$.length),className:"absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-[#181510] hover:bg-white shadow-lg transition-all",children:a.jsx(xl,{size:16})})]}),a.jsxs("button",{onClick:()=>$[Z]&&G($[Z].id),className:"absolute bottom-3 left-3 bg-red-500/80 hover:bg-red-500 backdrop-blur-md text-white text-[11px] px-2.5 py-1 rounded-full flex items-center gap-1 transition-colors",children:[a.jsx(Un,{size:11}),""]})]}),$.length>1&&a.jsxs("div",{className:"flex gap-2 p-3 bg-white border-b border-[#e7e1da] overflow-x-auto",children:[$.map((ue,de)=>a.jsx("button",{onClick:()=>F(de),className:`w-14 h-14 rounded-lg overflow-hidden border-2 transition-all shrink-0 ${de===Z?"border-[#ff8c00] shadow-md scale-105":"border-transparent opacity-60 hover:opacity-100"}`,children:a.jsx("img",{src:ue.url,alt:ue.name,className:"w-full h-full object-cover"})},ue.id)),a.jsx("button",{onClick:()=>{var ue;return(ue=ie.current)==null?void 0:ue.click()},className:"w-14 h-14 rounded-lg border-2 border-dashed border-[#e7e1da] flex items-center justify-center text-[#b8a990] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-colors shrink-0",children:a.jsx(gh,{size:16})})]})]}):a.jsxs("div",{onDragOver:Y,onDragLeave:oe,onDrop:_e,onClick:()=>{var ue;return(ue=ie.current)==null?void 0:ue.click()},className:`relative m-4 rounded-2xl border-2 border-dashed cursor-pointer transition-all duration-300 overflow-hidden ${J?"border-[#ff8c00] bg-[#ff8c00]/5 scale-[1.02]":"border-[#e7e1da] hover:border-[#ff8c00]/50 bg-white"}`,children:[J&&a.jsx(Ke.div,{className:"absolute inset-0 rounded-2xl",animate:{boxShadow:["inset 0 0 0 0 rgba(255,140,0,0)","inset 0 0 30px 0 rgba(255,140,0,0.15)","inset 0 0 0 0 rgba(255,140,0,0)"]},transition:{duration:1.5,repeat:1/0}}),a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[a.jsx(Ke.div,{animate:J?{scale:[1,1.15,1],y:[0,-5,0]}:{},transition:{duration:.8,repeat:J?1/0:0},className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-4 transition-colors duration-300 ${J?"bg-[#ff8c00]/15 text-[#ff8c00]":"bg-[#f5f3f0] text-[#b8a990]"}`,children:B?a.jsx(vt,{size:28,className:"animate-spin text-[#ff8c00]"}):a.jsx(Is,{size:28})}),a.jsx("p",{className:"text-[15px] text-[#181510] mb-1",style:{fontWeight:600},children:J?"  ":B?" ...":"  "}),a.jsx("p",{className:"text-[12px] text-[#b8a990]",children:"     JPG, PNG  5MB"})]})]}),a.jsx("input",{ref:ie,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:ue=>ue.target.files&&se(ue.target.files)}),$&&$.length>0&&a.jsx("div",{className:"px-4 pb-2",children:a.jsxs("button",{onDragOver:Y,onDragLeave:oe,onDrop:_e,onClick:()=>{var ue;return(ue=ie.current)==null?void 0:ue.click()},className:"w-full border-2 border-dashed border-[#e7e1da] rounded-xl p-3 text-[#8d785e] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-all flex items-center justify-center gap-2 text-[13px]",children:[B?a.jsx(vt,{size:14,className:"animate-spin"}):a.jsx(gh,{size:14}),B?"...":"  "]})})]}),a.jsxs("div",{className:"px-4 py-3 space-y-4",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white rounded-xl border border-[#e7e1da] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-1",style:{fontWeight:600},children:[a.jsx(Er,{size:14,className:"text-[#ff8c00]"})," "]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" "}),a.jsx("input",{value:s,onChange:ue=>o(ue.target.value),className:"w-full px-3 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:500},placeholder:" ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:""}),a.jsx("input",{value:c,onChange:ue=>f(ue.target.value),className:"w-full px-3 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",placeholder:" ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:""}),a.jsx("textarea",{value:h,onChange:ue=>m(ue.target.value),rows:3,className:"w-full px-3 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] resize-none transition-all",placeholder:" ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1.5",children:""}),a.jsx("div",{className:"flex gap-2",children:ej.map(ue=>a.jsx("button",{onClick:()=>R(ue.value),className:`flex-1 py-2 px-3 rounded-lg text-[12px] border-2 transition-all ${C===ue.value?"shadow-sm":"border-transparent bg-[#f5f3f0] text-[#8d785e] hover:bg-[#ece8e3]"}`,style:C===ue.value?{borderColor:ue.color,backgroundColor:ue.bg,color:ue.color,fontWeight:600}:{fontWeight:500},children:ue.label},ue.value))})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white rounded-xl border border-[#e7e1da] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-1",style:{fontWeight:600},children:[a.jsx(CI,{size:14,className:"text-[#ff8c00]"}),""]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" ()"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[12px] text-[#b8a990]",children:""}),a.jsx("input",{type:"number",value:p||"",onChange:ue=>x(parseFloat(ue.target.value)||0),className:"w-full pr-7 pl-2 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:600}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[12px] text-[#b8a990]",children:""}),a.jsx("input",{type:"number",value:v||"",onChange:ue=>j(parseFloat(ue.target.value)||0),className:"w-full pr-7 pl-2 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:500}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[12px] text-[#b8a990]",children:""}),a.jsx("input",{type:"number",value:S||"",onChange:ue=>_(parseFloat(ue.target.value)||0),className:"w-full pr-7 pl-2 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:600}})]})]})]}),a.jsxs("div",{className:"bg-[#f5f3f0] rounded-xl p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:""}),a.jsxs("span",{className:`text-[14px] ${Ne>=0?"text-green-600":"text-red-500"}`,style:{fontWeight:700},children:["",Ne.toLocaleString()," (",Be,"%)"]})]}),a.jsx("div",{className:"w-full h-2 bg-[#e7e1da] rounded-full overflow-hidden",children:a.jsx(Ke.div,{className:"h-full rounded-full",initial:{width:0},animate:{width:`${Math.min(Math.max(Be,0),100)}%`},transition:{duration:.5,ease:"easeOut"},style:{background:Be>=20?"linear-gradient(90deg, #22c55e, #16a34a)":Be>=14?"linear-gradient(90deg, #84cc16, #65a30d)":Be>=10?"linear-gradient(90deg, #ff8c00, #e67e00)":"linear-gradient(90deg, #ef4444, #dc2626)"}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1.5",children:" "}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[[1,2,3,4,5].map(ue=>a.jsx("button",{onClick:()=>k(ue),className:"transition-all hover:scale-110",children:a.jsx(dx,{size:22,fill:ue<=N?"#ff8c00":"none",className:ue<=N?"text-[#ff8c00]":"text-[#ddd6cb]"})},ue)),a.jsx("span",{className:"text-[12px] text-[#8d785e] mr-2",children:N===1?"":N===2?"":N===3?"":N===4?"":""})]})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.45},className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-2",style:{fontWeight:600},children:[a.jsx(UI,{size:14,className:"text-[#ff8c00]"})," "]}),a.jsx("textarea",{value:A,onChange:ue=>E(ue.target.value),rows:3,className:"w-full px-3 py-2 text-[13px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] resize-none transition-all",placeholder:"   ..."})]}),a.jsx("div",{className:"h-20"})]})]}),a.jsxs(Ke.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"sticky bottom-0 px-4 py-3 bg-white/95 backdrop-blur-md border-t border-[#e7e1da] flex items-center gap-3",children:[a.jsx(Ke.button,{onClick:Ce,disabled:D||!ee&&!K,whileTap:{scale:.97},className:`flex-1 py-3 rounded-xl text-[14px] flex items-center justify-center gap-2 transition-all ${K?"bg-green-500 text-white":ee?"bg-[#ff8c00] hover:bg-[#e67e00] text-white shadow-lg shadow-[#ff8c00]/25":"bg-[#e7e1da] text-[#b8a990] cursor-not-allowed"}`,style:{fontWeight:600},children:D?a.jsxs(a.Fragment,{children:[a.jsx(vt,{size:16,className:"animate-spin"})," ..."]}):K?a.jsxs(a.Fragment,{children:[a.jsx(OI,{size:16}),"  !"]}):a.jsxs(a.Fragment,{children:[a.jsx(vp,{size:16}),"  "]})}),a.jsx("button",{onClick:n,className:"px-5 py-3 border border-[#e7e1da] rounded-xl text-[14px] text-[#8d785e] hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})})}function Npe(e){return e>=21?{color:"#22c55e",lightColor:"#bbf7d0",bgTint:"rgba(34, 197, 94, 0.15)",glowColor:"rgba(34, 197, 94, 0.35)",gradientFrom:"#0f2a1a",gradientMid:"#132e1c",label:"!",labelBg:"rgba(34, 197, 94, 0.2)",iconRotation:-45,showShimmer:!0}:e>=14?{color:"#84cc16",lightColor:"#d9f99d",bgTint:"rgba(132, 204, 22, 0.12)",glowColor:"rgba(132, 204, 22, 0.25)",gradientFrom:"#172a10",gradientMid:"#1c2e14",label:"",labelBg:"rgba(132, 204, 22, 0.2)",iconRotation:-30,showShimmer:!1}:e>=10?{color:"#ff8c00",lightColor:"#ffb74d",bgTint:"rgba(255, 140, 0, 0.2)",glowColor:"rgba(255, 140, 0, 0.2)",gradientFrom:"#2a2010",gradientMid:"#2a2518",label:"",labelBg:"rgba(255, 140, 0, 0.15)",iconRotation:0,showShimmer:!1}:{color:"#ef4444",lightColor:"#fca5a5",bgTint:"rgba(239, 68, 68, 0.2)",glowColor:"rgba(239, 68, 68, 0.3)",gradientFrom:"#2a1212",gradientMid:"#2a1818",label:"",labelBg:"rgba(239, 68, 68, 0.2)",iconRotation:45,showShimmer:!1}}function tj(e,t=800){const[r,n]=O.useState(e),i=O.useRef(e),s=O.useRef(0);return O.useEffect(()=>{const o=i.current,c=e-o;if(c===0){n(e);return}const f=performance.now(),h=m=>{const p=m-f,x=Math.min(p/t,1),v=1-Math.pow(1-x,3);n(Math.round(o+c*v)),x<1?s.current=requestAnimationFrame(h):i.current=e};return s.current=requestAnimationFrame(h),()=>cancelAnimationFrame(s.current)},[e,t]),r}const pS={:a.jsx(Ju,{size:16}),:a.jsx(RS,{size:16}),:a.jsx(mh,{size:16})," ":a.jsx(mh,{size:16}),:a.jsx(fx,{size:16}),:a.jsx(zS,{size:16}),:a.jsx(Fs,{size:16})},mS={"":a.jsx(Ju,{size:16}),"":a.jsx(RS,{size:16}),"":a.jsx(mh,{size:16}),"":a.jsx(fx,{size:16}),"":a.jsx(zS,{size:16}),"":a.jsx(Fs,{size:16}),"":a.jsx(Bs,{size:16}),"":a.jsx(Ju,{size:16}),"":a.jsx(Qa,{size:16})};function rj(e){return pS[e]?pS[e]:mS[e]?mS[e]:a.jsx(Fs,{size:16})}function ku({children:e,size:t="md"}){const r=t==="sm"?"w-7 h-7":t==="lg"?"w-10 h-10":"w-8 h-8";return a.jsx("span",{className:`${r} bg-[#ff8c00] rounded-full flex items-center justify-center text-white shrink-0`,children:e})}function ER({type:e,iconStr:t,size:r="md"}){const n=r==="sm"?13:r==="lg"?18:15,i=r==="sm"?"w-7 h-7":r==="lg"?"w-10 h-10":"w-8 h-8",s=pS[e]||t&&mS[t]||a.jsx(Fs,{size:n});return a.jsx("span",{className:`${i} bg-[#ff8c00]/10 rounded-lg flex items-center justify-center text-[#ff8c00] shrink-0`,children:re.cloneElement(s,{size:n})})}const CR=[{icon:"",label:"",type:""},{icon:"",label:"",type:""},{icon:"",label:"",type:""},{icon:"",label:"",type:""},{icon:"",label:"",type:""},{icon:"",label:"",type:""}],AR={approved:{label:" ",color:"#16a34a",bg:"#f0fdf4"},modified:{label:" ",color:"#ff8c00",bg:"rgba(255,140,0,0.1)"},pending:{label:" ",color:"#8b5cf6",bg:"#f5f3ff"}},kpe=[{id:"components",label:" "},{id:"pricing",label:"  "},{id:"timeline",label:'" '}];function Ppe(){const e=Fr(),{id:t}=NS(),[r,n]=O.useState("components"),i=O.useRef({}),[s,o]=O.useState(null),[c,f]=O.useState([]),[h,m]=O.useState([]),[p,x]=O.useState(!0),[v,j]=O.useState(!1),[S,_]=O.useState(!1),[N,k]=O.useState(!1),[C,R]=O.useState(null),[A,E]=O.useState(null),[$,I]=O.useState(null),[D,W]=O.useState(null),[B,q]=O.useState(""),J=O.useRef(null),[X,Z]=O.useState(!1),F=he=>{n(he);const Fe=i.current[he];Fe&&Fe.scrollIntoView({behavior:"smooth",block:"start"})};O.useEffect(()=>{const he=new IntersectionObserver(Fe=>{for(const Je of Fe)if(Je.isIntersecting){const Q=Je.target.getAttribute("data-section");Q&&n(Q)}},{rootMargin:"-20% 0px -60% 0px",threshold:0});return Object.values(i.current).forEach(Fe=>{Fe&&he.observe(Fe)}),()=>he.disconnect()},[p]);const K=os({mode:"onChange",defaultValues:{type:"",name:"",supplier:"",description:"",cost:"",directPrice:"",sellingPrice:""}}),U=O.useCallback(async()=>{if(t)try{x(!0);const[he,Fe,Je]=await Promise.all([Ii.get(t),al.list(t),BV.list(t)]);o(he),f(Fe),m(Je)}catch(he){console.error("[QuoteEditor] Failed to load:",he),We.error(" ","     ")}finally{x(!1)}},[t]);O.useEffect(()=>{U()},[U]);const ie=(he,Fe)=>{const Je=.05+Fe*.05;return Math.round(he*(1+Je))},se=c.reduce((he,Fe)=>he+(Fe.cost||0),0),G=c.reduce((he,Fe)=>he+(Fe.directPrice||0),0),Y=c.reduce((he,Fe)=>he+(Fe.sellingPrice||0),0),oe=Y-se,_e=Y>0?Math.round(oe/Y*100):0,Ce=(s==null?void 0:s.participants)||1,Ne=Math.round(Y/Ce),Be=Npe(_e),ye=tj(_e),ee=tj(Y),xe=tj(Ne),ke=async(he,Fe)=>{if(!t)return;const Je=ie(he.cost,Fe);try{const Q=await al.update(t,he.id,{profitWeight:Fe,sellingPrice:Je});f(pe=>pe.map(ne=>ne.id===he.id?Q:ne))}catch(Q){console.error("[QuoteEditor] Failed to update weight:",Q),We.error("","     ")}},te=he=>{W(he.id),q(String(he.directPrice||"")),setTimeout(()=>{var Fe;return(Fe=J.current)==null?void 0:Fe.focus()},50)},ue=()=>{W(null),q("")},de=async he=>{if(!t)return;const Fe=parseFloat(B)||0;if(Fe===(he.directPrice||0)){ue();return}try{const Je=await al.update(t,he.id,{directPrice:Fe});f(Q=>Q.map(pe=>pe.id===he.id?Je:pe)),We.success("  ",`${Fe.toLocaleString()}`)}catch(Je){console.error("[QuoteEditor] Failed to update direct price:",Je),We.error("","     ")}finally{ue()}},Re=async he=>{if(!(!t||!C))try{j(!0);const Fe=CR.find(je=>je.type===C),Je=parseFloat(he.cost)||0,Q=parseFloat(he.directPrice)||Math.round(Je*1.25),pe=parseFloat(he.sellingPrice)||ie(Je,3),ne=await al.create(t,{type:C,icon:(Fe==null?void 0:Fe.icon)||"",name:he.name.trim(),supplier:he.supplier.trim(),description:he.description.trim(),cost:Je,directPrice:Q,sellingPrice:pe,profitWeight:3,status:"pending"});f(je=>[...je,ne]),R(null),k(!1),K.reset(),We.success(" ",`${he.name}  `)}catch(Fe){console.error("[QuoteEditor] Failed to add item:",Fe),We.error("","    ")}finally{j(!1)}},Me=async he=>{if(t)try{E(he),await al.delete(t,he),f(Fe=>Fe.filter(Je=>Je.id!==he)),We.success(" ","  ")}catch(Fe){console.error("[QuoteEditor] Failed to delete item:",Fe),We.error("","    ")}finally{E(null)}},Ye=async()=>{if(!(!t||!s))try{j(!0);const he=Y>0?Math.round(oe/Y*100):0;await Ii.update(t,{totalPrice:Y,pricePerPerson:Ne,profitMargin:he}),We.success(" ","   ")}catch(he){console.error("[QuoteEditor] Failed to save draft:",he),We.error("","    ")}finally{j(!1)}},qe=he=>{f(Fe=>Fe.map(Je=>Je.id===he.id?he:Je)),($==null?void 0:$.id)===he.id&&I(he)};return p?a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  ..."})]}):s?a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:[": ",s.name]}),a.jsxs("p",{className:"text-[12px] text-[#8d785e]",children:[" : #",t,"  ",s.company]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>e(`/quote/${t}`),className:"flex items-center gap-2 text-[13px] text-[#6b5d45] border border-[#e7e1da] px-3 py-2 rounded-lg hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(_a,{size:15}),"  "]}),a.jsxs("button",{onClick:()=>{c.length===0?We.warning(" ","    "):We.success(" ","    ")},className:"flex items-center gap-2 text-[13px] text-[#6b5d45] border border-[#e7e1da] px-3 py-2 rounded-lg hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(hV,{size:15}),"  "]}),a.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-4 py-2 rounded-lg shadow-sm transition-colors",style:{fontWeight:600},children:[a.jsx(Er,{size:15}),"  "]})]})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[{label:"",value:s.status,color:s.statusColor,icon:a.jsx(MF,{size:13})},{label:"",value:s.company,icon:a.jsx(vF,{size:13})},{label:"",value:`${s.participants} `,icon:a.jsx(Pa,{size:13})},{label:"",value:s.region,icon:a.jsx(Qa,{size:13})}].map(he=>a.jsxs("div",{className:"bg-white rounded-xl p-3.5 border border-[#e7e1da] text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-[11px] text-[#8d785e] mb-1",children:[a.jsx("span",{className:"text-[#b8a990]",children:he.icon}),a.jsx("span",{children:he.label})]}),a.jsx("div",{className:"text-[15px] text-[#181510]",style:{fontWeight:600,color:he.color||"#181510"},children:he.value})]},he.label))}),a.jsxs("div",{className:"relative rounded-xl p-4 mb-5 flex flex-wrap items-center justify-between gap-4 overflow-hidden",style:{background:`linear-gradient(to left, #181510 0%, ${Be.gradientMid} 60%, ${Be.gradientFrom} 100%)`,transition:"background 0.8s ease",boxShadow:`0 4px 24px ${Be.glowColor}`},children:[Be.showShimmer&&a.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(105deg, transparent 40%, ${Be.glowColor} 50%, transparent 60%)`,backgroundSize:"200% 100%",animation:"shimmer 3s ease-in-out infinite"}}),a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1/3 pointer-events-none",style:{background:`radial-gradient(ellipse at 20% 50%, ${Be.glowColor} 0%, transparent 70%)`,transition:"background 0.8s ease"}}),a.jsx("style",{children:"@keyframes shimmer { 0%,100% { background-position: 200% 0; } 50% { background-position: -200% 0; } }"}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(PV,{size:16,className:"text-white/60"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[11px] text-[#c4b89a]",children:" "}),a.jsxs("div",{className:"text-[22px] text-white",style:{fontWeight:700},children:["",xe.toLocaleString()]})]})]}),a.jsx("div",{className:"w-px h-10 bg-white/20"}),a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(KU,{size:16,className:"text-white/60"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[11px] text-[#c4b89a]",children:"  ()"}),a.jsxs("div",{className:"text-[22px] text-white",style:{fontWeight:700},children:["",ee.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 rounded-xl relative z-10",style:{backgroundColor:Be.bgTint,boxShadow:`inset 0 0 20px ${Be.glowColor}, 0 0 12px ${Be.glowColor}`,transition:"all 0.8s ease"},children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[11px]",style:{color:Be.lightColor,transition:"color 0.8s ease"},children:"  "}),a.jsxs("div",{className:"flex items-center gap-1.5 justify-center",children:[a.jsxs("span",{className:"text-[22px]",style:{fontWeight:700,color:Be.color,transition:"color 0.8s ease"},children:[ye,"%"]}),a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full",style:{backgroundColor:Be.labelBg,color:Be.color,fontWeight:600,transition:"all 0.8s ease"},children:Be.label})]})]}),a.jsx(Tpe,{color:Be.color,rotation:Be.iconRotation})]})]}),a.jsx("div",{className:"flex gap-1 mb-5 bg-[#ece8e3] rounded-lg p-1",children:kpe.map(he=>a.jsx("button",{onClick:()=>F(he.id),className:`flex-1 py-2 px-3 rounded-md text-[13px] transition-all ${r===he.id?"bg-white text-[#181510] shadow-sm":"text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:700},children:he.label},he.id))}),a.jsxs("div",{ref:he=>{i.current.components=he},"data-section":"components",className:"space-y-5 scroll-mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-[18px] text-[#181510] flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(ku,{children:a.jsx(Fs,{size:15})}),"  (",c.length,")"]}),a.jsxs("button",{onClick:()=>k(!0),className:"text-[13px] text-[#ff8c00] flex items-center gap-1 hover:text-[#e67e00]",style:{fontWeight:600},children:[a.jsx($r,{size:14}),"  "]})]}),c.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-[#e7e1da]",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(ku,{size:"lg",children:a.jsx(Fs,{size:22})})}),a.jsx("p",{className:"text-[16px] text-[#8d785e] mb-2",children:"  "}),a.jsx("p",{className:"text-[13px] text-[#b8a990]",children:"   , ,  "})]}),c.map(he=>{var Q;const Fe=AR[he.status]||AR.pending,Je=((Q=he.images)==null?void 0:Q.length)||0;return a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] overflow-hidden group/card hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#f5f3f0] border-b border-[#e7e1da]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ku,{size:"sm",children:rj(he.type)}),a.jsx("span",{className:"text-[15px] text-[#181510]",style:{fontWeight:600},children:he.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Je>0&&a.jsxs("span",{className:"text-[11px] text-[#8d785e] bg-white px-2 py-0.5 rounded-full flex items-center gap-1 border border-[#e7e1da]",children:[a.jsx(hh,{size:11}),Je]}),a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full",style:{backgroundColor:Fe.bg,color:Fe.color,fontWeight:600},children:Fe.label})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ER,{type:he.type,iconStr:he.icon,size:"lg"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[15px] text-[#181510] flex items-center gap-1.5",style:{fontWeight:600},children:he.name||he.supplier}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:he.description})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>I(he),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-[#ff8c00]/10 text-[#ff8c00] hover:bg-[#ff8c00] hover:text-white transition-all text-[12px]",style:{fontWeight:600},children:[a.jsx(xh,{size:13}),""]}),a.jsx("button",{onClick:()=>Me(he.id),disabled:A===he.id,className:"text-[#8d785e] hover:text-red-500 transition-colors disabled:opacity-50",children:A===he.id?a.jsx(vt,{size:15,className:"animate-spin"}):a.jsx(Un,{size:15})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:""}),a.jsxs("div",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["",he.cost.toLocaleString()]})]})]})]}),Je>0&&a.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-[#f5f3f0]",children:[(he.images||[]).slice(0,4).map((pe,ne)=>a.jsx("div",{onClick:()=>I(he),className:"w-16 h-12 rounded-lg overflow-hidden border border-[#e7e1da] cursor-pointer hover:border-[#ff8c00] transition-all",children:a.jsx("img",{src:pe.url,alt:pe.name,className:"w-full h-full object-cover"})},pe.id)),Je>4&&a.jsx("div",{onClick:()=>I(he),className:"w-16 h-12 rounded-lg border border-[#e7e1da] flex items-center justify-center bg-[#f5f3f0] cursor-pointer hover:border-[#ff8c00] transition-all",children:a.jsxs("span",{className:"text-[11px] text-[#8d785e]",style:{fontWeight:600},children:["+",Je-4]})})]}),he.alternatives&&he.alternatives.length>0&&a.jsxs("div",{className:"mt-4 pt-3 border-t border-[#f5f3f0]",children:[a.jsx("div",{className:"text-[13px] text-[#8d785e] mb-3",children:" :"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:he.alternatives.map(pe=>a.jsxs("div",{className:`relative rounded-xl border-2 p-3 transition-all ${pe.selected?"border-[#ff8c00] bg-[#ff8c00]/5":"border-[#e7e1da]"}`,children:[a.jsx("div",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:pe.name}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:pe.description}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:" "}),a.jsxs("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:["",pe.costPerPerson]})]}),pe.selected&&a.jsx("div",{className:"absolute top-2 left-2 w-5 h-5 bg-[#ff8c00] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-[12px]",children:""})})]},pe.id))})]})]})]},he.id)}),a.jsxs("button",{onClick:()=>k(!0),className:"w-full border-2 border-dashed border-[#e7e1da] rounded-xl p-4 text-[#8d785e] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-all flex items-center justify-center gap-2",children:[a.jsx($r,{size:16}),a.jsx("span",{className:"text-[13px]",style:{fontWeight:600},children:"   (, , ...)"})]})]}),a.jsxs("div",{ref:he=>{i.current.pricing=he},"data-section":"pricing",className:"space-y-5 mt-8 scroll-mt-4",children:[a.jsxs("h2",{className:"text-[18px] text-[#181510] flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(ku,{children:a.jsx(qF,{size:15})}),"  "]}),c.length===0?a.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-[#e7e1da]",children:a.jsx("p",{className:"text-[16px] text-[#8d785e]",children:"    "})}):a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da] text-[12px] text-[#8d785e]",children:[a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:""}),a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:a.jsxs("div",{className:"flex items-center gap-1 relative",children:[a.jsx("span",{children:" "}),a.jsx("button",{onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),onClick:()=>Z(he=>!he),className:"text-[#b8a990] hover:text-[#ff8c00] transition-colors",children:a.jsx(LI,{size:13})}),X&&a.jsx("div",{className:"absolute top-full right-0 mt-1 z-10 bg-[#181510] text-white text-[11px] rounded-lg px-3 py-2 w-52 shadow-lg",style:{fontWeight:400},children:"        ,  .      ."})]})}),a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:" ()"}),a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:" "}),a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:""}),a.jsx("th",{className:"p-3 text-right",style:{fontWeight:600},children:" "})]})}),a.jsx("tbody",{children:c.map(he=>{const Fe=he.directPrice||0,Je=Fe>0?Fe-he.sellingPrice:0;return a.jsxs("tr",{className:"border-b border-[#e7e1da]",children:[a.jsx("td",{className:"p-3 text-[14px]",style:{fontWeight:500},children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx("span",{className:"text-[#ff8c00]",children:rj(he.type)}),he.type]})}),a.jsx("td",{className:"p-3",children:D===he.id?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[12px] text-[#8d785e]",children:""}),a.jsx("input",{ref:J,type:"number",value:B,onChange:Q=>q(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&de(he),Q.key==="Escape"&&ue()},className:"w-24 pr-6 pl-1 py-1 text-[13px] border border-[#ff8c00] rounded-lg bg-[#ff8c00]/5 text-[#181510] focus:outline-none focus:ring-1 focus:ring-[#ff8c00]",style:{fontWeight:600}})]}),a.jsx("button",{onClick:()=>de(he),className:"text-green-600 hover:text-green-700 p-0.5",children:a.jsx(ro,{size:14})}),a.jsx("button",{onClick:ue,className:"text-[#8d785e] hover:text-red-500 p-0.5",children:a.jsx(Ir,{size:14})})]}):a.jsxs("button",{onClick:()=>te(he),className:"flex flex-col items-start gap-0.5 cursor-pointer group/dp w-full text-right",children:[a.jsx("span",{className:"text-[14px] text-[#8d785e] group-hover/dp:text-[#ff8c00] transition-colors",style:{fontWeight:500},children:Fe>0?`${Fe.toLocaleString()}`:"+ "}),Je>0&&a.jsxs("span",{className:"text-[10px] text-green-600 bg-green-50 px-1.5 py-0.5 rounded-full",style:{fontWeight:600},children:[" ",Je.toLocaleString()]})]})}),a.jsxs("td",{className:"p-3 text-[14px] text-[#6b5d45]",children:["",he.cost.toLocaleString()]}),a.jsxs("td",{className:"p-3 text-[14px]",style:{fontWeight:600},children:["",he.sellingPrice.toLocaleString()]}),a.jsxs("td",{className:"p-3 text-[14px] text-green-600",style:{fontWeight:600},children:["",(he.sellingPrice-he.cost).toLocaleString()]}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Q=>a.jsx("button",{onClick:()=>ke(he,Q),className:"transition-colors",children:a.jsx(dx,{size:16,fill:Q<=he.profitWeight?"#ff8c00":"none",className:Q<=he.profitWeight?"text-[#ff8c00]":"text-[#ddd6cb]"})},Q))})})]},he.id)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-[#181510] text-white",children:[a.jsx("td",{className:"p-3 text-[14px]",style:{fontWeight:600},children:'" '}),a.jsx("td",{className:"p-3 text-[14px]",children:G>0?a.jsxs("span",{children:["",G.toLocaleString()]}):""}),a.jsxs("td",{className:"p-3 text-[14px]",children:["",se.toLocaleString()]}),a.jsxs("td",{className:"p-3 text-[14px]",style:{fontWeight:700},children:["",Y.toLocaleString()]}),a.jsxs("td",{className:"p-3 text-[14px] text-green-400",style:{fontWeight:700},children:["",oe.toLocaleString()," (",_e,"%)"]}),a.jsxs("td",{className:"p-3 text-[14px] text-[#c4b89a]",children:[": ",c.length>0?(c.reduce((he,Fe)=>he+Fe.profitWeight,0)/c.length).toFixed(1):"0"]})]})})]})})]}),a.jsxs("div",{ref:he=>{i.current.timeline=he},"data-section":"timeline",className:"space-y-5 mt-8 scroll-mt-4",children:[a.jsxs("h2",{className:"text-[18px] text-[#181510] flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(ku,{children:a.jsx(Bs,{size:15})}),'" ']}),h.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-[#e7e1da]",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(ku,{size:"lg",children:a.jsx(Bs,{size:22})})}),a.jsx("p",{className:"text-[16px] text-[#8d785e]",children:'  "  '})]}):a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:a.jsx("div",{className:"space-y-0",children:h.map((he,Fe)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ff8c00]/10 flex items-center justify-center text-[#b8a990]",children:rj(he.icon)}),Fe<h.length-1&&a.jsx("div",{className:"w-0.5 flex-1 bg-[#e7e1da] my-1"})]}),a.jsxs("div",{className:"pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:he.time}),a.jsxs("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:[" ",he.title]})]}),a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:he.description})]})]},he.id))})})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsxs("button",{onClick:Ye,disabled:v,className:"bg-[#181510] hover:bg-[#2a2518] disabled:opacity-50 text-white px-6 py-2.5 rounded-xl text-[14px] transition-colors flex items-center gap-2",style:{fontWeight:600},children:[v?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(vp,{size:16}),v?"...":" "]}),a.jsxs("button",{onClick:()=>{const he=window.open("","_blank");if(!he){We.error("  ");return}const Fe=c.map(Q=>`<tr><td style="padding:10px;border-bottom:1px solid #e7e1da">${Q.type}</td><td style="padding:10px;border-bottom:1px solid #e7e1da">${Q.name}</td><td style="padding:10px;border-bottom:1px solid #e7e1da">${Q.supplier||"-"}</td><td style="padding:10px;border-bottom:1px solid #e7e1da;font-weight:600">${Q.sellingPrice.toLocaleString()}</td></tr>`).join(""),Je=h.map(Q=>`<div style="display:flex;gap:12px;margin-bottom:12px"><div style="width:40px;text-align:center;font-weight:700;color:#ff8c00">${Q.time}</div><div><b>${Q.title}</b><br/><span style="color:#8d785e;font-size:13px">${Q.description}</span></div></div>`).join("");he.document.write(`<!DOCTYPE html><html dir="rtl"><head><meta charset="utf-8"><title>   ${(s==null?void 0:s.name)||""}</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Assistant,Helvetica,Arial,sans-serif;color:#181510;padding:40px;max-width:800px;margin:0 auto}h1{font-size:24px;margin-bottom:4px}h2{font-size:18px;margin:24px 0 12px;border-bottom:2px solid #ff8c00;padding-bottom:6px}table{width:100%;border-collapse:collapse;margin-bottom:20px}th{text-align:right;padding:10px;background:#f5f3f0;border-bottom:2px solid #e7e1da;font-size:13px}.summary{display:flex;gap:24px;background:#f8f7f5;padding:16px;border-radius:12px;margin:16px 0}.summary div{text-align:center}.summary .value{font-size:22px;font-weight:700}.summary .label{font-size:12px;color:#8d785e}@media print{body{padding:20px}}</style></head><body><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px"><div><h1> </h1><p style="color:#8d785e;font-size:14px">${s==null?void 0:s.name}  ${(s==null?void 0:s.company)||""}</p></div><div style="text-align:left"><p style="font-size:13px;color:#8d785e">: #${t}</p><p style="font-size:13px;color:#8d785e">${new Date().toLocaleDateString("he-IL")}</p></div></div><div class="summary"><div><div class="label"></div><div class="value">${Ce}</div></div><div><div class="label"> </div><div class="value">${Ne.toLocaleString()}</div></div><div><div class="label">"</div><div class="value">${Y.toLocaleString()}</div></div><div><div class="label"></div><div class="value">${(s==null?void 0:s.region)||""}</div></div></div><h2> </h2><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody>${Fe}</tbody><tfoot><tr style="background:#181510;color:white"><td colspan="3" style="padding:10px;font-weight:600">"</td><td style="padding:10px;font-weight:700">${Y.toLocaleString()}</td></tr></tfoot></table>${Je?`<h2>" </h2>${Je}`:""}<div style="margin-top:40px;text-align:center;color:#b8a990;font-size:12px"><p> " TravelPro &bull; ${new Date().toLocaleDateString("he-IL")}</p></div></body></html>`),he.document.close(),setTimeout(()=>{he.print()},500),We.success("PDF ",'     " -PDF"')},className:"text-[#6b5d45] border border-[#e7e1da] px-5 py-2.5 rounded-xl text-[14px] hover:bg-[#f5f3f0] transition-colors flex items-center gap-2",children:[a.jsx(Gg,{size:16})," PDF"]}),a.jsx("button",{onClick:()=>U().then(()=>We.neutral(" ","   ")),className:"text-[#8d785e] border border-[#e7e1da] px-6 py-2.5 rounded-xl text-[14px] hover:bg-[#f5f3f0] transition-colors",children:" "})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>_(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:he=>he.stopPropagation(),children:[a.jsx("h3",{className:"text-[20px] text-[#181510] mb-3",style:{fontWeight:700},children:"  "}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mb-4",children:"      ."}),a.jsxs("div",{className:"bg-[#f5f3f0] rounded-xl p-4 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-[13px] mb-2",children:[a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:600},children:"V1.0"})]}),a.jsxs("div",{className:"flex justify-between text-[13px] mb-2",children:[a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:600},children:c.length})]}),a.jsxs("div",{className:"flex justify-between text-[13px] mb-2",children:[a.jsx("span",{className:"text-[#8d785e]",children:'":'}),a.jsxs("span",{className:"text-[#181510]",style:{fontWeight:600},children:["",Y.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-[13px]",children:[a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsxs("span",{className:"text-green-600",style:{fontWeight:600},children:[_e,"%"]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:async()=>{await Ye(),_(!1),We.success("  V1.0  !","  ..."),setTimeout(()=>e(`/quote/${t}`),1200)},className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] text-white py-2.5 rounded-xl transition-colors",style:{fontWeight:600},children:"  "}),a.jsx("button",{onClick:()=>_(!1),className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})}),N&&!C&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>k(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:he=>he.stopPropagation(),children:[a.jsx("h3",{className:"text-[20px] text-[#181510] mb-4",style:{fontWeight:700},children:"  "}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:CR.map(he=>a.jsxs("button",{onClick:()=>{R(he.type),K.setValue("type",he.type)},className:"flex items-center gap-3 p-3 border border-[#e7e1da] rounded-xl hover:border-[#ff8c00] hover:bg-[#ff8c00]/5 transition-all",children:[a.jsx(ER,{type:he.type,size:"md"}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:500},children:he.label})]},he.type))})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{R(null),K.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",onClick:he=>he.stopPropagation(),children:[a.jsxs("h3",{className:"text-[20px] text-[#181510] mb-4",style:{fontWeight:700},children:[" ",C," "]}),a.jsxs("form",{onSubmit:K.handleSubmit(Re),className:"space-y-4",children:[a.jsx(At,{label:" ",placeholder:":  ",required:!0,error:K.formState.errors.name,isDirty:K.formState.dirtyFields.name,...K.register("name",Ft.requiredMin(" ",2))}),a.jsx(_pe,{value:K.watch("supplier"),onChange:he=>K.setValue("supplier",he,{shouldDirty:!0})}),a.jsx(At,{label:"",placeholder:" ...",error:K.formState.errors.description,isDirty:K.formState.dirtyFields.description,...K.register("description")}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(At,{label:" ()",type:"number",placeholder:"",required:!0,error:K.formState.errors.cost,isDirty:K.formState.dirtyFields.cost,...K.register("cost",Ft.positivePrice(""))}),a.jsx(At,{label:" ",type:"number",placeholder:" (  )",error:K.formState.errors.directPrice,isDirty:K.formState.dirtyFields.directPrice,...K.register("directPrice")}),a.jsx(At,{label:" ",type:"number",placeholder:" (  )",error:K.formState.errors.sellingPrice,isDirty:K.formState.dirtyFields.sellingPrice,...K.register("sellingPrice")})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:v||!K.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[v?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx($r,{size:16}),v?"...":" "]}),a.jsx("button",{type:"button",onClick:()=>{R(null),K.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),$&&t&&a.jsx(Spe,{item:$,projectId:t,isOpen:!!$,onClose:()=>I(null),onUpdate:qe})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx("p",{className:"text-[18px] text-[#8d785e] mb-4",children:"  "}),a.jsx("button",{onClick:()=>e("/projects"),className:"text-[#ff8c00] hover:underline",children:"  "})]})}function Tpe({color:e,rotation:t}){return a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:`rotate(${t}deg)`,transition:"transform 0.8s ease, stroke 0.8s ease",filter:`drop-shadow(0 0 6px ${e})`},children:[a.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),a.jsx("polyline",{points:"17 6 23 6 23 12"})]})}var Kf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Epe=Kf.exports,OR;function Cpe(){return OR||(OR=1,(function(e,t){(function(r,n){n(t)})(Epe,(function(r){var n="1.9.4";function i(u){var g,b,P,z;for(b=1,P=arguments.length;b<P;b++){z=arguments[b];for(g in z)u[g]=z[g]}return u}var s=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function o(u,g){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var P=b.call(arguments,2);return function(){return u.apply(g,P.length?P.concat(b.call(arguments)):arguments)}}var c=0;function f(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function h(u,g,b){var P,z,H,le;return le=function(){P=!1,z&&(H.apply(b,z),z=!1)},H=function(){P?z=arguments:(u.apply(b,arguments),setTimeout(le,g),P=!0)},H}function m(u,g,b){var P=g[1],z=g[0],H=P-z;return u===P&&b?u:((u-z)%H+H)%H+z}function p(){return!1}function x(u,g){if(g===!1)return u;var b=Math.pow(10,g===void 0?6:g);return Math.round(u*b)/b}function v(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function j(u){return v(u).split(/\s+/)}function S(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?s(u.options):{});for(var b in g)u.options[b]=g[b];return u.options}function _(u,g,b){var P=[];for(var z in u)P.push(encodeURIComponent(b?z.toUpperCase():z)+"="+encodeURIComponent(u[z]));return(!g||g.indexOf("?")===-1?"?":"&")+P.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(u,g){return u.replace(N,function(b,P){var z=g[P];if(z===void 0)throw new Error("No value provided for variable "+b);return typeof z=="function"&&(z=z(g)),z})}var C=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function R(u,g){for(var b=0;b<u.length;b++)if(u[b]===g)return b;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var $=0;function I(u){var g=+new Date,b=Math.max(0,16-(g-$));return $=g+b,window.setTimeout(u,b)}var D=window.requestAnimationFrame||E("RequestAnimationFrame")||I,W=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function B(u,g,b){if(b&&D===I)u.call(g);else return D.call(window,o(u,g))}function q(u){u&&W.call(window,u)}var J={__proto__:null,extend:i,create:s,bind:o,get lastId(){return c},stamp:f,throttle:h,wrapNum:m,falseFn:p,formatNum:x,trim:v,splitWords:j,setOptions:S,getParamString:_,template:k,isArray:C,indexOf:R,emptyImageUrl:A,requestFn:D,cancelFn:W,requestAnimFrame:B,cancelAnimFrame:q};function X(){}X.extend=function(u){var g=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=g.__super__=this.prototype,P=s(b);P.constructor=g,g.prototype=P;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(g[z]=this[z]);return u.statics&&i(g,u.statics),u.includes&&(Z(u.includes),i.apply(null,[P].concat(u.includes))),i(P,u),delete P.statics,delete P.includes,P.options&&(P.options=b.options?s(b.options):{},i(P.options,u.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,le=P._initHooks.length;H<le;H++)P._initHooks[H].call(this)}},g},X.include=function(u){var g=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},X.mergeOptions=function(u){return i(this.prototype.options,u),this},X.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function Z(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=C(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(u,g,b){if(typeof u=="object")for(var P in u)this._on(P,u[P],g);else{u=j(u);for(var z=0,H=u.length;z<H;z++)this._on(u[z],g,b)}return this},off:function(u,g,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var P in u)this._off(P,u[P],g);else{u=j(u);for(var z=arguments.length===1,H=0,le=u.length;H<le;H++)z?this._off(u[H]):this._off(u[H],g,b)}return this},_on:function(u,g,b,P){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,b)===!1){b===this&&(b=void 0);var z={fn:g,ctx:b};P&&(z.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(z)}},_off:function(u,g,b){var P,z,H;if(this._events&&(P=this._events[u],!!P)){if(arguments.length===1){if(this._firingCount)for(z=0,H=P.length;z<H;z++)P[z].fn=p;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var le=this._listens(u,g,b);if(le!==!1){var ve=P[le];this._firingCount&&(ve.fn=p,this._events[u]=P=P.slice()),P.splice(le,1)}}},fire:function(u,g,b){if(!this.listens(u,b))return this;var P=i({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var z=this._events[u];if(z){this._firingCount=this._firingCount+1||1;for(var H=0,le=z.length;H<le;H++){var ve=z[H],Te=ve.fn;ve.once&&this.off(u,Te,ve.ctx),Te.call(ve.ctx||this,P)}this._firingCount--}}return b&&this._propagateEvent(P),this},listens:function(u,g,b,P){typeof u!="string"&&console.warn('"string" type argument expected');var z=g;typeof g!="function"&&(P=!!g,z=void 0,b=void 0);var H=this._events&&this._events[u];if(H&&H.length&&this._listens(u,z,b)!==!1)return!0;if(P){for(var le in this._eventParents)if(this._eventParents[le].listens(u,g,b,P))return!0}return!1},_listens:function(u,g,b){if(!this._events)return!1;var P=this._events[u]||[];if(!g)return!!P.length;b===this&&(b=void 0);for(var z=0,H=P.length;z<H;z++)if(P[z].fn===g&&P[z].ctx===b)return z;return!1},once:function(u,g,b){if(typeof u=="object")for(var P in u)this._on(P,u[P],g,!0);else{u=j(u);for(var z=0,H=u.length;z<H;z++)this._on(u[z],g,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[f(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[f(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var K=X.extend(F);function U(u,g,b){this.x=b?Math.round(u):u,this.y=b?Math.round(g):g}var ie=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(u){return this.clone()._add(se(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(se(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new U(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new U(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(u){u=se(u);var g=u.x-this.x,b=u.y-this.y;return Math.sqrt(g*g+b*b)},equals:function(u){return u=se(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=se(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function se(u,g,b){return u instanceof U?u:C(u)?new U(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new U(u.x,u.y):new U(u,g,b)}function G(u,g){if(u)for(var b=g?[u,g]:u,P=0,z=b.length;P<z;P++)this.extend(b[P])}G.prototype={extend:function(u){var g,b;if(!u)return this;if(u instanceof U||typeof u[0]=="number"||"x"in u)g=b=se(u);else if(u=Y(u),g=u.min,b=u.max,!g||!b)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=b.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,b;return typeof u[0]=="number"||u instanceof U?u=se(u):u=Y(u),u instanceof G?(g=u.min,b=u.max):g=b=u,g.x>=this.min.x&&b.x<=this.max.x&&g.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=Y(u);var g=this.min,b=this.max,P=u.min,z=u.max,H=z.x>=g.x&&P.x<=b.x,le=z.y>=g.y&&P.y<=b.y;return H&&le},overlaps:function(u){u=Y(u);var g=this.min,b=this.max,P=u.min,z=u.max,H=z.x>g.x&&P.x<b.x,le=z.y>g.y&&P.y<b.y;return H&&le},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,b=this.max,P=Math.abs(g.x-b.x)*u,z=Math.abs(g.y-b.y)*u;return Y(se(g.x-P,g.y-z),se(b.x+P,b.y+z))},equals:function(u){return u?(u=Y(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function Y(u,g){return!u||u instanceof G?u:new G(u,g)}function oe(u,g){if(u)for(var b=g?[u,g]:u,P=0,z=b.length;P<z;P++)this.extend(b[P])}oe.prototype={extend:function(u){var g=this._southWest,b=this._northEast,P,z;if(u instanceof Ce)P=u,z=u;else if(u instanceof oe){if(P=u._southWest,z=u._northEast,!P||!z)return this}else return u?this.extend(Ne(u)||_e(u)):this;return!g&&!b?(this._southWest=new Ce(P.lat,P.lng),this._northEast=new Ce(z.lat,z.lng)):(g.lat=Math.min(P.lat,g.lat),g.lng=Math.min(P.lng,g.lng),b.lat=Math.max(z.lat,b.lat),b.lng=Math.max(z.lng,b.lng)),this},pad:function(u){var g=this._southWest,b=this._northEast,P=Math.abs(g.lat-b.lat)*u,z=Math.abs(g.lng-b.lng)*u;return new oe(new Ce(g.lat-P,g.lng-z),new Ce(b.lat+P,b.lng+z))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof Ce||"lat"in u?u=Ne(u):u=_e(u);var g=this._southWest,b=this._northEast,P,z;return u instanceof oe?(P=u.getSouthWest(),z=u.getNorthEast()):P=z=u,P.lat>=g.lat&&z.lat<=b.lat&&P.lng>=g.lng&&z.lng<=b.lng},intersects:function(u){u=_e(u);var g=this._southWest,b=this._northEast,P=u.getSouthWest(),z=u.getNorthEast(),H=z.lat>=g.lat&&P.lat<=b.lat,le=z.lng>=g.lng&&P.lng<=b.lng;return H&&le},overlaps:function(u){u=_e(u);var g=this._southWest,b=this._northEast,P=u.getSouthWest(),z=u.getNorthEast(),H=z.lat>g.lat&&P.lat<b.lat,le=z.lng>g.lng&&P.lng<b.lng;return H&&le},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=_e(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(u,g){return u instanceof oe?u:new oe(u,g)}function Ce(u,g,b){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,b!==void 0&&(this.alt=+b)}Ce.prototype={equals:function(u,g){if(!u)return!1;u=Ne(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+x(this.lat,u)+", "+x(this.lng,u)+")"},distanceTo:function(u){return ye.distance(this,Ne(u))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,b=g/Math.cos(Math.PI/180*this.lat);return _e([this.lat-g,this.lng-b],[this.lat+g,this.lng+b])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function Ne(u,g,b){return u instanceof Ce?u:C(u)&&typeof u[0]!="object"?u.length===3?new Ce(u[0],u[1],u[2]):u.length===2?new Ce(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new Ce(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new Ce(u,g,b)}var Be={latLngToPoint:function(u,g){var b=this.projection.project(u),P=this.scale(g);return this.transformation._transform(b,P)},pointToLatLng:function(u,g){var b=this.scale(g),P=this.transformation.untransform(u,b);return this.projection.unproject(P)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,b=this.scale(u),P=this.transformation.transform(g.min,b),z=this.transformation.transform(g.max,b);return new G(P,z)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,P=u.alt;return new Ce(b,g,P)},wrapLatLngBounds:function(u){var g=u.getCenter(),b=this.wrapLatLng(g),P=g.lat-b.lat,z=g.lng-b.lng;if(P===0&&z===0)return u;var H=u.getSouthWest(),le=u.getNorthEast(),ve=new Ce(H.lat-P,H.lng-z),Te=new Ce(le.lat-P,le.lng-z);return new oe(ve,Te)}},ye=i({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var b=Math.PI/180,P=u.lat*b,z=g.lat*b,H=Math.sin((g.lat-u.lat)*b/2),le=Math.sin((g.lng-u.lng)*b/2),ve=H*H+Math.cos(P)*Math.cos(z)*le*le,Te=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return this.R*Te}}),ee=6378137,xe={R:ee,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,b=this.MAX_LATITUDE,P=Math.max(Math.min(b,u.lat),-b),z=Math.sin(P*g);return new U(this.R*u.lng*g,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(u){var g=180/Math.PI;return new Ce((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=ee*Math.PI;return new G([-u,-u],[u,u])})()};function ke(u,g,b,P){if(C(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=b,this._d=P}ke.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new U((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function te(u,g,b,P){return new ke(u,g,b,P)}var ue=i({},ye,{code:"EPSG:3857",projection:xe,transformation:(function(){var u=.5/(Math.PI*xe.R);return te(u,.5,-u,.5)})()}),de=i({},ue,{code:"EPSG:900913"});function Re(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Me(u,g){var b="",P,z,H,le,ve,Te;for(P=0,H=u.length;P<H;P++){for(ve=u[P],z=0,le=ve.length;z<le;z++)Te=ve[z],b+=(z?"L":"M")+Te.x+" "+Te.y;b+=g?Oe.svg?"z":"x":""}return b||"M0 0"}var Ye=document.documentElement.style,qe="ActiveXObject"in window,he=qe&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),Je=at("webkit"),Q=at("android"),pe=at("android 2")||at("android 3"),ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),je=Q&&at("Google")&&ne<537&&!("AudioNode"in window),Ae=!!window.opera,Pe=!Fe&&at("chrome"),Le=at("gecko")&&!Je&&!Ae&&!qe,pt=!Pe&&at("safari"),Et=at("phantom"),Nt="OTransition"in Ye,Ht=navigator.platform.indexOf("Win")===0,wr=qe&&"transition"in Ye,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pe,us="MozPerspective"in Ye,ni=!window.L_DISABLE_3D&&(wr||dn||us)&&!Nt&&!Et,fn=typeof orientation<"u"||at("mobile"),Vn=fn&&Je,hn=fn&&dn,Ks=!window.PointerEvent&&window.MSPointerEvent,ii=!!(window.PointerEvent||Ks),si="ontouchstart"in window||!!window.TouchEvent,Gs=!window.L_NO_TOUCH&&(si||ii),bt=fn&&Ae,nr=fn&&Le,_r=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ur=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return u})(),ce=(function(){return!!document.createElement("canvas").getContext})(),ge=!!(document.createElementNS&&Re("svg").createSVGRect),we=!!ge&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ze=!ge&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),Ze=navigator.platform.indexOf("Mac")===0,et=navigator.platform.indexOf("Linux")===0;function at(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Oe={ie:qe,ielt9:he,edge:Fe,webkit:Je,android:Q,android23:pe,androidStock:je,opera:Ae,chrome:Pe,gecko:Le,safari:pt,phantom:Et,opera12:Nt,win:Ht,ie3d:wr,webkit3d:dn,gecko3d:us,any3d:ni,mobile:fn,mobileWebkit:Vn,mobileWebkit3d:hn,msPointer:Ks,pointer:ii,touch:Gs,touchNative:si,mobileOpera:bt,mobileGecko:nr,retina:_r,passiveEvents:Ur,canvas:ce,svg:ge,vml:ze,inlineSvg:we,mac:Ze,linux:et},nt=Oe.msPointer?"MSPointerDown":"pointerdown",Xe=Oe.msPointer?"MSPointerMove":"pointermove",jt=Oe.msPointer?"MSPointerUp":"pointerup",Ct=Oe.msPointer?"MSPointerCancel":"pointercancel",Xt={touchstart:nt,touchmove:Xe,touchend:jt,touchcancel:Ct},ir={touchstart:Gt,touchmove:zi,touchend:zi,touchcancel:zi},Wt={},Kt=!1;function jr(u,g,b){return g==="touchstart"&&Nl(),ir[g]?(b=ir[g].bind(this,b),u.addEventListener(Xt[g],b,!1),b):(console.warn("wrong event specified:",g),p)}function ds(u,g,b){if(!Xt[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(Xt[g],b,!1)}function Zs(u){Wt[u.pointerId]=u}function ai(u){Wt[u.pointerId]&&(Wt[u.pointerId]=u)}function En(u){delete Wt[u.pointerId]}function Nl(){Kt||(document.addEventListener(nt,Zs,!0),document.addEventListener(Xe,ai,!0),document.addEventListener(jt,En,!0),document.addEventListener(Ct,En,!0),Kt=!0)}function zi(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var b in Wt)g.touches.push(Wt[b]);g.changedTouches=[g],u(g)}}function Gt(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Nr(g),zi(u,g)}function xo(u){var g={},b,P;for(P in u)b=u[P],g[P]=b&&b.bind?b.bind(u):b;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Ys=200;function Zt(u,g){u.addEventListener("dblclick",g);var b=0,P;function z(H){if(H.detail!==1){P=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var le=Aa(H);if(!(le.some(function(Te){return Te instanceof HTMLLabelElement&&Te.attributes.for})&&!le.some(function(Te){return Te instanceof HTMLInputElement||Te instanceof HTMLSelectElement}))){var ve=Date.now();ve-b<=Ys?(P++,P===2&&g(xo(H))):P=1,b=ve}}}return u.addEventListener("click",z),{dblclick:g,simDblclick:z}}function Sr(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var Xs=wo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oi=wo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sr=oi==="webkitTransition"||oi==="OTransition"?oi+"End":"transitionend";function Vr(u){return typeof u=="string"?document.getElementById(u):u}function Js(u,g){var b=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!b||b==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(u,null);b=P?P[g]:null}return b==="auto"?null:b}function Pt(u,g,b){var P=document.createElement(u);return P.className=g||"",b&&b.appendChild(P),P}function mr(u){var g=u.parentNode;g&&g.removeChild(u)}function Oc(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function vo(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function fs(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function bo(u,g){if(u.classList!==void 0)return u.classList.contains(g);var b=Mc(u);return b.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(b)}function Tt(u,g){if(u.classList!==void 0)for(var b=j(g),P=0,z=b.length;P<z;P++)u.classList.add(b[P]);else if(!bo(u,g)){var H=Mc(u);Md(u,(H?H+" ":"")+g)}}function ur(u,g){u.classList!==void 0?u.classList.remove(g):Md(u,v((" "+Mc(u)+" ").replace(" "+g+" "," ")))}function Md(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function Mc(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Cn(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&Wp(u,g)}function Wp(u,g){var b=!1,P="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(P)}catch{if(g===1)return}g=Math.round(g*100),b?(b.Enabled=g!==100,b.Opacity=g):u.style.filter+=" progid:"+P+"(opacity="+g+")"}function wo(u){for(var g=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in g)return u[b];return!1}function vi(u,g,b){var P=g||new U(0,0);u.style[Xs]=(Oe.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(b?" scale("+b+")":"")}function Cr(u,g){u._leaflet_pos=g,Oe.any3d?vi(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function hs(u){return u._leaflet_pos||new U(0,0)}var Dt,_o,Rc;if("onselectstart"in document)Dt=function(){St(window,"selectstart",Nr)},_o=function(){ar(window,"selectstart",Nr)};else{var Ea=wo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dt=function(){if(Ea){var u=document.documentElement.style;Rc=u[Ea],u[Ea]="none"}},_o=function(){Ea&&(document.documentElement.style[Ea]=Rc,Rc=void 0)}}function Ic(){St(window,"dragstart",Nr)}function Lc(){ar(window,"dragstart",Nr)}var kl,Pl;function jo(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(bi(),kl=u,Pl=u.style.outlineStyle,u.style.outlineStyle="none",St(window,"keydown",bi))}function bi(){kl&&(kl.style.outlineStyle=Pl,kl=void 0,Pl=void 0,ar(window,"keydown",bi))}function ps(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Wi(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var Tl={__proto__:null,TRANSFORM:Xs,TRANSITION:oi,TRANSITION_END:sr,get:Vr,getStyle:Js,create:Pt,remove:mr,empty:Oc,toFront:vo,toBack:fs,hasClass:bo,addClass:Tt,removeClass:ur,setClass:Md,getClass:Mc,setOpacity:Cn,testProp:wo,setTransform:vi,setPosition:Cr,getPosition:hs,get disableTextSelection(){return Dt},get enableTextSelection(){return _o},disableImageDrag:Ic,enableImageDrag:Lc,preventOutline:jo,restoreOutline:bi,getSizedParentNode:ps,getScale:Wi};function St(u,g,b,P){if(g&&typeof g=="object")for(var z in g)Id(u,z,g[z],b);else{g=j(g);for(var H=0,le=g.length;H<le;H++)Id(u,g[H],b,P)}return this}var Qr="_leaflet_events";function ar(u,g,b,P){if(arguments.length===1)Rd(u),delete u[Qr];else if(g&&typeof g=="object")for(var z in g)Dc(u,z,g[z],b);else if(g=j(g),arguments.length===2)Rd(u,function(ve){return R(g,ve)!==-1});else for(var H=0,le=g.length;H<le;H++)Dc(u,g[H],b,P);return this}function Rd(u,g){for(var b in u[Qr]){var P=b.split(/\d/)[0];(!g||g(P))&&Dc(u,P,null,null,b)}}var Ca={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Id(u,g,b,P){var z=g+f(b)+(P?"_"+f(P):"");if(u[Qr]&&u[Qr][z])return this;var H=function(ve){return b.call(P||u,ve||window.event)},le=H;!Oe.touchNative&&Oe.pointer&&g.indexOf("touch")===0?H=jr(u,g,H):Oe.touch&&g==="dblclick"?H=Zt(u,H):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(Ca[g]||g,H,Oe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(H=function(ve){ve=ve||window.event,Al(u,ve)&&le(ve)},u.addEventListener(Ca[g],H,!1)):u.addEventListener(g,le,!1):u.attachEvent("on"+g,H),u[Qr]=u[Qr]||{},u[Qr][z]=H}function Dc(u,g,b,P,z){z=z||g+f(b)+(P?"_"+f(P):"");var H=u[Qr]&&u[Qr][z];if(!H)return this;!Oe.touchNative&&Oe.pointer&&g.indexOf("touch")===0?ds(u,g,H):Oe.touch&&g==="dblclick"?Sr(u,H):"removeEventListener"in u?u.removeEventListener(Ca[g]||g,H,!1):u.detachEvent("on"+g,H),u[Qr][z]=null}function Bi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function $c(u){return Id(u,"wheel",Bi),this}function El(u){return St(u,"mousedown touchstart dblclick contextmenu",Bi),u._leaflet_disable_click=!0,this}function Nr(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function wi(u){return Nr(u),Bi(u),this}function Aa(u){if(u.composedPath)return u.composedPath();for(var g=[],b=u.target;b;)g.push(b),b=b.parentNode;return g}function Cl(u,g){if(!g)return new U(u.clientX,u.clientY);var b=Wi(g),P=b.boundingClientRect;return new U((u.clientX-P.left)/b.x-g.clientLeft,(u.clientY-P.top)/b.y-g.clientTop)}var e0=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bp(u){return Oe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/e0:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Al(u,g){var b=g.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var zc={__proto__:null,on:St,off:ar,stopPropagation:Bi,disableScrollPropagation:$c,disableClickPropagation:El,preventDefault:Nr,stop:wi,getPropagationPath:Aa,getMousePosition:Cl,getWheelDelta:Bp,isExternalTarget:Al,addListener:St,removeListener:ar},Wc=K.extend({run:function(u,g,b,P){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=hs(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,b=this._duration*1e3;g<b?this._runFrame(this._easeOut(g/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var b=this._startPos.add(this._offset.multiplyBy(u));g&&b._round(),Cr(this._el,b),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Rt=K.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=S(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(Ne(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oi&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,sr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,b){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(Ne(u),g,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=i({animate:b.animate},b.zoom),b.pan=i({animate:b.animate,duration:b.duration},b.pan));var P=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,b.zoom):this._tryAnimatedPan(u,b.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,b){var P=this.getZoomScale(g),z=this.getSize().divideBy(2),H=u instanceof U?u:this.latLngToContainerPoint(u),le=H.subtract(z).multiplyBy(1-1/P),ve=this.containerPointToLatLng(z.add(le));return this.setView(ve,g,{zoom:b})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():_e(u);var b=se(g.paddingTopLeft||g.padding||[0,0]),P=se(g.paddingBottomRight||g.padding||[0,0]),z=this.getBoundsZoom(u,!1,b.add(P));if(z=typeof g.maxZoom=="number"?Math.min(g.maxZoom,z):z,z===1/0)return{center:u.getCenter(),zoom:z};var H=P.subtract(b).divideBy(2),le=this.project(u.getSouthWest(),z),ve=this.project(u.getNorthEast(),z),Te=this.unproject(le.add(ve).divideBy(2).add(H),z);return{center:Te,zoom:z}},fitBounds:function(u,g){if(u=_e(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,g);return this.setView(b.center,b.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=se(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Tt(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,b){if(b=b||{},b.animate===!1||!Oe.any3d)return this.setView(u,g,b);this._stop();var P=this.project(this.getCenter()),z=this.project(u),H=this.getSize(),le=this._zoom;u=Ne(u),g=g===void 0?le:g;var ve=Math.max(H.x,H.y),Te=ve*this.getZoomScale(le,g),De=z.distanceTo(P)||1,Qe=1.42,mt=Qe*Qe;function Ot(Jt){var $o=Jt?-1:1,p0=Jt?Te:ve,m0=Te*Te-ve*ve+$o*mt*mt*De*De,$a=2*p0*mt*De,za=m0/$a,Wa=Math.sqrt(za*za+1)-za,eu=Wa<1e-9?-18:Math.log(Wa);return eu}function en(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function qr(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function Kn(Jt){return en(Jt)/qr(Jt)}var On=Ot(0);function Lo(Jt){return ve*(qr(On)/qr(On+Qe*Jt))}function rf(Jt){return ve*(qr(On)*Kn(On+Qe*Jt)-en(On))/mt}function aa(Jt){return 1-Math.pow(1-Jt,1.5)}var lm=Date.now(),Da=(Ot(1)-On)/Qe,qi=b.duration?1e3*b.duration:1e3*Da*.8;function Do(){var Jt=(Date.now()-lm)/qi,$o=aa(Jt)*Da;Jt<=1?(this._flyToFrame=B(Do,this),this._move(this.unproject(P.add(z.subtract(P).multiplyBy(rf($o)/De)),le),this.getScaleZoom(ve/Lo($o),le),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),Do.call(this),this},flyToBounds:function(u,g){var b=this._getBoundsCenterZoom(u,g);return this.flyTo(b.center,b.zoom,g)},setMaxBounds:function(u){return u=_e(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var b=this.getCenter(),P=this._limitCenter(b,this._zoom,_e(u));return b.equals(P)||this.panTo(P,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var b=se(g.paddingTopLeft||g.padding||[0,0]),P=se(g.paddingBottomRight||g.padding||[0,0]),z=this.project(this.getCenter()),H=this.project(u),le=this.getPixelBounds(),ve=Y([le.min.add(b),le.max.subtract(P)]),Te=ve.getSize();if(!ve.contains(H)){this._enforcingBounds=!0;var De=H.subtract(ve.getCenter()),Qe=ve.extend(H).getSize().subtract(Te);z.x+=De.x<0?-Qe.x:Qe.x,z.y+=De.y<0?-Qe.y:Qe.y,this.panTo(this.unproject(z),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),P=g.divideBy(2).round(),z=b.divideBy(2).round(),H=P.subtract(z);return!H.x&&!H.y?this:(u.animate&&u.pan?this.panBy(H):(u.pan&&this._rawPanBy(H),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),b=o(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,b,u):navigator.geolocation.getCurrentPosition(g,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,b=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,b=u.coords.longitude,P=new Ce(g,b),z=P.toBounds(u.coords.accuracy*2),H=this._locateOptions;if(H.setView){var le=this.getBoundsZoom(z);this.setView(P,H.maxZoom?Math.min(le,H.maxZoom):le)}var ve={latlng:P,bounds:z,timestamp:u.timestamp};for(var Te in u.coords)typeof u.coords[Te]=="number"&&(ve[Te]=u.coords[Te]);this.fire("locationfound",ve)}},addHandler:function(u,g){if(!g)return this;var b=this[u]=new g(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)mr(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),P=Pt("div",b,g||this._mapPane);return u&&(this._panes[u]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new oe(g,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,b){u=_e(u),b=se(b||[0,0]);var P=this.getZoom()||0,z=this.getMinZoom(),H=this.getMaxZoom(),le=u.getNorthWest(),ve=u.getSouthEast(),Te=this.getSize().subtract(b),De=Y(this.project(ve,P),this.project(le,P)).getSize(),Qe=Oe.any3d?this.options.zoomSnap:1,mt=Te.x/De.x,Ot=Te.y/De.y,en=g?Math.max(mt,Ot):Math.min(mt,Ot);return P=this.getScaleZoom(en,P),Qe&&(P=Math.round(P/(Qe/100))*(Qe/100),P=g?Math.ceil(P/Qe)*Qe:Math.floor(P/Qe)*Qe),Math.max(z,Math.min(H,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var b=this._getTopLeftPoint(u,g);return new G(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var b=this.options.crs;return g=g===void 0?this._zoom:g,b.scale(u)/b.scale(g)},getScaleZoom:function(u,g){var b=this.options.crs;g=g===void 0?this._zoom:g;var P=b.zoom(u*b.scale(g));return isNaN(P)?1/0:P},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(Ne(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(se(u),g)},layerPointToLatLng:function(u){var g=se(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(Ne(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Ne(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(_e(u))},distance:function(u,g){return this.options.crs.distance(Ne(u),Ne(g))},containerPointToLayerPoint:function(u){return se(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return se(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(se(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ne(u)))},mouseEventToContainerPoint:function(u){return Cl(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=Vr(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(g,"scroll",this._onScroll,this),this._containerId=f(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Tt(u,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Js(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Cr(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tt(u.markerPane,"leaflet-zoom-hide"),Tt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,b){Cr(this._mapPane,new U(0,0));var P=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var z=this._zoom!==g;this._moveStart(z,b)._move(u,g)._moveEnd(z),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,b,P){g===void 0&&(g=this._zoom);var z=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),P?b&&b.pinch&&this.fire("zoom",b):((z||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Cr(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[f(this._container)]=this;var g=u?ar:St;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var b=[],P,z=g==="mouseout"||g==="mouseover",H=u.target||u.srcElement,le=!1;H;){if(P=this._targets[f(H)],P&&(g==="click"||g==="preclick")&&this._draggableMoved(P)){le=!0;break}if(P&&P.listens(g,!0)&&(z&&!Al(H,u)||(b.push(P),z))||H===this._container)break;H=H.parentNode}return!b.length&&!le&&!z&&this.listens(g,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var b=u.type;b==="mousedown"&&jo(g),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,b){if(u.type==="click"){var P=i({},u);P.type="preclick",this._fireDOMEvent(P,P.type,b)}var z=this._findEventTargets(u,g);if(b){for(var H=[],le=0;le<b.length;le++)b[le].listens(g,!0)&&H.push(b[le]);z=H.concat(z)}if(z.length){g==="contextmenu"&&Nr(u);var ve=z[0],Te={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var De=ve.getLatLng&&(!ve._radius||ve._radius<=10);Te.containerPoint=De?this.latLngToContainerPoint(ve.getLatLng()):this.mouseEventToContainerPoint(u),Te.layerPoint=this.containerPointToLayerPoint(Te.containerPoint),Te.latlng=De?ve.getLatLng():this.layerPointToLatLng(Te.layerPoint)}for(le=0;le<z.length;le++)if(z[le].fire(g,Te,!0),Te.originalEvent._stopped||z[le].options.bubblingMouseEvents===!1&&R(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return hs(this._mapPane)||new U(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var b=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var b=this.getSize()._divideBy(2);return this.project(u,g)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,b){var P=this._getNewPixelOrigin(b,g);return this.project(u,g)._subtract(P)},_latLngBoundsToNewLayerBounds:function(u,g,b){var P=this._getNewPixelOrigin(b,g);return Y([this.project(u.getSouthWest(),g)._subtract(P),this.project(u.getNorthWest(),g)._subtract(P),this.project(u.getSouthEast(),g)._subtract(P),this.project(u.getNorthEast(),g)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,b){if(!b)return u;var P=this.project(u,g),z=this.getSize().divideBy(2),H=new G(P.subtract(z),P.add(z)),le=this._getBoundsOffset(H,b,g);return Math.abs(le.x)<=1&&Math.abs(le.y)<=1?u:this.unproject(P.add(le),g)},_limitOffset:function(u,g){if(!g)return u;var b=this.getPixelBounds(),P=new G(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(P,g))},_getBoundsOffset:function(u,g,b){var P=Y(this.project(g.getNorthEast(),b),this.project(g.getSouthWest(),b)),z=P.min.subtract(u.min),H=P.max.subtract(u.max),le=this._rebound(z.x,-H.x),ve=this._rebound(z.y,-H.y);return new U(le,ve)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),b=this.getMaxZoom(),P=Oe.any3d?this.options.zoomSnap:1;return P&&(u=Math.round(u/P)*P),Math.max(g,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ur(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var b=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,g),!0)},_createAnimProxy:function(){var u=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var b=Xs,P=this._proxy.style[b];vi(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),P===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();vi(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(g),z=this._getCenterOffset(u)._divideBy(1-1/P);return b.animate!==!0&&!this.getSize().contains(z)?!1:(B(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,b,P){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,Tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ur(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qs(u,g){return new Rt(u,g)}var qn=X.extend({options:{position:"topright"},initialize:function(u){S(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),b=this.getPosition(),P=u._controlCorners[b];return Tt(g,"leaflet-control"),b.indexOf("bottom")!==-1?P.insertBefore(g,P.firstChild):P.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),ea=function(u){return new qn(u)};Rt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",b=this._controlContainer=Pt("div",g+"control-container",this._container);function P(z,H){var le=g+z+" "+g+H;u[z+H]=Pt("div",le,b)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)mr(this._controlCorners[u]);mr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ld=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,b,P){return b<P?-1:P<b?1:0}},initialize:function(u,g,b){S(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in u)this._addLayer(u[P],P);for(P in g)this._addLayer(g[P],P,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return qn.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(f(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ur(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ur(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=Pt("div",u),b=this.options.collapsed;g.setAttribute("aria-haspopup",!0),El(g),$c(g);var P=this._section=Pt("section",u+"-list");b&&(this._map.on("click",this.collapse,this),St(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=Pt("a",u+"-toggle",g);z.href="#",z.title="Layers",z.setAttribute("role","button"),St(z,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){Nr(H),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=Pt("div",u+"-base",P),this._separator=Pt("div",u+"-separator",P),this._overlaysList=Pt("div",u+"-overlays",P),g.appendChild(P)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&f(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:b}),this.options.sortLayers&&this._layers.sort(o(function(P,z){return this.options.sortFunction(P.layer,z.layer,P.name,z.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oc(this._baseLayersList),Oc(this._overlaysList),this._layerControlInputs=[];var u,g,b,P,z=0;for(b=0;b<this._layers.length;b++)P=this._layers[b],this._addItem(P),g=g||P.overlay,u=u||!P.overlay,z+=P.overlay?0:1;return this.options.hideSingleBase&&(u=u&&z>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(f(u.target)),b=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,g)},_createRadioElement:function(u,g){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=b,P.firstChild},_addItem:function(u){var g=document.createElement("label"),b=this._map.hasLayer(u.layer),P;u.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=b):P=this._createRadioElement("leaflet-base-layers_"+f(this),b),this._layerControlInputs.push(P),P.layerId=f(u.layer),St(P,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+u.name;var H=document.createElement("span");g.appendChild(H),H.appendChild(P),H.appendChild(z);var le=u.overlay?this._overlaysList:this._baseLayersList;return le.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,b,P=[],z=[];this._handlingClick=!0;for(var H=u.length-1;H>=0;H--)g=u[H],b=this._getLayer(g.layerId).layer,g.checked?P.push(b):g.checked||z.push(b);for(H=0;H<z.length;H++)this._map.hasLayer(z[H])&&this._map.removeLayer(z[H]);for(H=0;H<P.length;H++)this._map.hasLayer(P[H])||this._map.addLayer(P[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,b,P=this._map.getZoom(),z=u.length-1;z>=0;z--)g=u[z],b=this._getLayer(g.layerId).layer,g.disabled=b.options.minZoom!==void 0&&P<b.options.minZoom||b.options.maxZoom!==void 0&&P>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,St(u,"click",Nr),this.expand();var g=this;setTimeout(function(){ar(u,"click",Nr),g._preventClick=!1})}}),Bc=function(u,g,b){return new Ld(u,g,b)},So=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",b=Pt("div",g+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,g+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,g+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,b,P,z){var H=Pt("a",b,P);return H.innerHTML=u,H.href="#",H.title=g,H.setAttribute("role","button"),H.setAttribute("aria-label",g),El(H),St(H,"click",wi),St(H,"click",z,this),St(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";ur(this._zoomInButton,g),ur(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Tt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Tt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rt.mergeOptions({zoomControl:!0}),Rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new So,this.addControl(this.zoomControl))});var Fp=function(u){return new So(u)},An=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",b=Pt("div",g),P=this.options;return this._addScales(P,g+"-line",b),u.on(P.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,b){u.metric&&(this._mScale=Pt("div",g,b)),u.imperial&&(this._iScale=Pt("div",g,b))},_update:function(){var u=this._map,g=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),b=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,b,g/u)},_updateImperial:function(u){var g=u*3.2808399,b,P,z;g>5280?(b=g/5280,P=this._getRoundNum(b),this._updateScale(this._iScale,P+" mi",P/b)):(z=this._getRoundNum(g),this._updateScale(this._iScale,z+" ft",z/g))},_updateScale:function(u,g,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),b=u/g;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,g*b}}),No=function(u){return new An(u)},Dd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Oa=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Dd+" ":"")+"Leaflet</a>"},initialize:function(u){S(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),El(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});Rt.mergeOptions({attributionControl:!0}),Rt.addInitHook(function(){this.options.attributionControl&&new Oa().addTo(this)});var t0=function(u){return new Oa(u)};qn.Layers=Ld,qn.Zoom=So,qn.Scale=An,qn.Attribution=Oa,ea.layers=Bc,ea.zoom=Fp,ea.scale=No,ea.attribution=t0;var li=X.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(u,g){return u.addHandler(g,this),this};var $d={Events:F},ko=Oe.touch?"touchstart mousedown":"mousedown",_i=K.extend({options:{clickTolerance:3},initialize:function(u,g,b,P){S(this,P),this._element=u,this._dragStartTarget=g||u,this._preventOutline=b},enable:function(){this._enabled||(St(this._dragStartTarget,ko,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_i._dragging===this&&this.finishDrag(!0),ar(this._dragStartTarget,ko,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!bo(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){_i._dragging===this&&this.finishDrag();return}if(!(_i._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(_i._dragging=this,this._preventOutline&&jo(this._element),Ic(),Dt(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,b=ps(this._element);this._startPoint=new U(g.clientX,g.clientY),this._startPos=hs(this._element),this._parentScale=Wi(b);var P=u.type==="mousedown";St(document,P?"mousemove":"touchmove",this._onMove,this),St(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,b=new U(g.clientX,g.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,Nr(u),this._moved||(this.fire("dragstart"),this._moved=!0,Tt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Cr(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ur(document.body,"leaflet-dragging"),this._lastTarget&&(ur(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ar(document,"mousemove touchmove",this._onMove,this),ar(document,"mouseup touchend touchcancel",this._onUp,this),Lc(),_o();var g=this._moved&&this._moving;this._moving=!1,_i._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function zd(u,g,b){var P,z=[1,4,2,8],H,le,ve,Te,De,Qe,mt,Ot;for(H=0,Qe=u.length;H<Qe;H++)u[H]._code=Ma(u[H],g);for(ve=0;ve<4;ve++){for(mt=z[ve],P=[],H=0,Qe=u.length,le=Qe-1;H<Qe;le=H++)Te=u[H],De=u[le],Te._code&mt?De._code&mt||(Ot=Uc(De,Te,mt,g,b),Ot._code=Ma(Ot,g),P.push(Ot)):(De._code&mt&&(Ot=Uc(De,Te,mt,g,b),Ot._code=Ma(Ot,g),P.push(Ot)),P.push(Te));u=P}return u}function Up(u,g){var b,P,z,H,le,ve,Te,De,Qe;if(!u||u.length===0)throw new Error("latlngs not passed");ci(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var mt=Ne([0,0]),Ot=_e(u),en=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());en<1700&&(mt=Wd(u));var qr=u.length,Kn=[];for(b=0;b<qr;b++){var On=Ne(u[b]);Kn.push(g.project(Ne([On.lat-mt.lat,On.lng-mt.lng])))}for(ve=Te=De=0,b=0,P=qr-1;b<qr;P=b++)z=Kn[b],H=Kn[P],le=z.y*H.x-H.y*z.x,Te+=(z.x+H.x)*le,De+=(z.y+H.y)*le,ve+=le*3;ve===0?Qe=Kn[0]:Qe=[Te/ve,De/ve];var Lo=g.unproject(se(Qe));return Ne([Lo.lat+mt.lat,Lo.lng+mt.lng])}function Wd(u){for(var g=0,b=0,P=0,z=0;z<u.length;z++){var H=Ne(u[z]);g+=H.lat,b+=H.lng,P++}return Ne([g/P,b/P])}var r0={__proto__:null,clipPolygon:zd,polygonCenter:Up,centroid:Wd};function Fc(u,g){if(!g||!u.length)return u.slice();var b=g*g;return u=s0(u,b),u=i0(u,b),u}function Vp(u,g,b){return Math.sqrt(Ra(u,g,b,!0))}function n0(u,g,b){return Ra(u,g,b)}function i0(u,g){var b=u.length,P=typeof Uint8Array<"u"?Uint8Array:Array,z=new P(b);z[0]=z[b-1]=1,Bd(u,z,g,0,b-1);var H,le=[];for(H=0;H<b;H++)z[H]&&le.push(u[H]);return le}function Bd(u,g,b,P,z){var H=0,le,ve,Te;for(ve=P+1;ve<=z-1;ve++)Te=Ra(u[ve],u[P],u[z],!0),Te>H&&(le=ve,H=Te);H>b&&(g[le]=1,Bd(u,g,b,P,le),Bd(u,g,b,le,z))}function s0(u,g){for(var b=[u[0]],P=1,z=0,H=u.length;P<H;P++)a0(u[P],u[z])>g&&(b.push(u[P]),z=P);return z<H-1&&b.push(u[H-1]),b}var Fd;function qp(u,g,b,P,z){var H=P?Fd:Ma(u,b),le=Ma(g,b),ve,Te,De;for(Fd=le;;){if(!(H|le))return[u,g];if(H&le)return!1;ve=H||le,Te=Uc(u,g,ve,b,z),De=Ma(Te,b),ve===H?(u=Te,H=De):(g=Te,le=De)}}function Uc(u,g,b,P,z){var H=g.x-u.x,le=g.y-u.y,ve=P.min,Te=P.max,De,Qe;return b&8?(De=u.x+H*(Te.y-u.y)/le,Qe=Te.y):b&4?(De=u.x+H*(ve.y-u.y)/le,Qe=ve.y):b&2?(De=Te.x,Qe=u.y+le*(Te.x-u.x)/H):b&1&&(De=ve.x,Qe=u.y+le*(ve.x-u.x)/H),new U(De,Qe,z)}function Ma(u,g){var b=0;return u.x<g.min.x?b|=1:u.x>g.max.x&&(b|=2),u.y<g.min.y?b|=4:u.y>g.max.y&&(b|=8),b}function a0(u,g){var b=g.x-u.x,P=g.y-u.y;return b*b+P*P}function Ra(u,g,b,P){var z=g.x,H=g.y,le=b.x-z,ve=b.y-H,Te=le*le+ve*ve,De;return Te>0&&(De=((u.x-z)*le+(u.y-H)*ve)/Te,De>1?(z=b.x,H=b.y):De>0&&(z+=le*De,H+=ve*De)),le=u.x-z,ve=u.y-H,P?le*le+ve*ve:new U(z,H)}function ci(u){return!C(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Hp(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ci(u)}function Kp(u,g){var b,P,z,H,le,ve,Te,De;if(!u||u.length===0)throw new Error("latlngs not passed");ci(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Qe=Ne([0,0]),mt=_e(u),Ot=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Ot<1700&&(Qe=Wd(u));var en=u.length,qr=[];for(b=0;b<en;b++){var Kn=Ne(u[b]);qr.push(g.project(Ne([Kn.lat-Qe.lat,Kn.lng-Qe.lng])))}for(b=0,P=0;b<en-1;b++)P+=qr[b].distanceTo(qr[b+1])/2;if(P===0)De=qr[0];else for(b=0,H=0;b<en-1;b++)if(le=qr[b],ve=qr[b+1],z=le.distanceTo(ve),H+=z,H>P){Te=(H-P)/z,De=[ve.x-Te*(ve.x-le.x),ve.y-Te*(ve.y-le.y)];break}var On=g.unproject(se(De));return Ne([On.lat+Qe.lat,On.lng+Qe.lng])}var Gp={__proto__:null,simplify:Fc,pointToSegmentDistance:Vp,closestPointOnSegment:n0,clipSegment:qp,_getEdgeIntersection:Uc,_getBitCode:Ma,_sqClosestPointOnSegment:Ra,isFlat:ci,_flat:Hp,polylineCenter:Kp},Ud={project:function(u){return new U(u.lng,u.lat)},unproject:function(u){return new Ce(u.y,u.x)},bounds:new G([-180,-90],[180,90])},Vd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,b=this.R,P=u.lat*g,z=this.R_MINOR/b,H=Math.sqrt(1-z*z),le=H*Math.sin(P),ve=Math.tan(Math.PI/4-P/2)/Math.pow((1-le)/(1+le),H/2);return P=-b*Math.log(Math.max(ve,1e-10)),new U(u.lng*g*b,P)},unproject:function(u){for(var g=180/Math.PI,b=this.R,P=this.R_MINOR/b,z=Math.sqrt(1-P*P),H=Math.exp(-u.y/b),le=Math.PI/2-2*Math.atan(H),ve=0,Te=.1,De;ve<15&&Math.abs(Te)>1e-7;ve++)De=z*Math.sin(le),De=Math.pow((1-De)/(1+De),z/2),Te=Math.PI/2-2*Math.atan(H*De)-le,le+=Te;return new Ce(le*g,u.x*g/b)}},o0={__proto__:null,LonLat:Ud,Mercator:Vd,SphericalMercator:xe},l0=i({},ye,{code:"EPSG:3395",projection:Vd,transformation:(function(){var u=.5/(Math.PI*Vd.R);return te(u,.5,-u,.5)})()}),Zp=i({},ye,{code:"EPSG:4326",projection:Ud,transformation:te(1/180,1,-1/180,.5)}),c0=i({},Be,{projection:Ud,transformation:te(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var b=g.lng-u.lng,P=g.lat-u.lat;return Math.sqrt(b*b+P*P)},infinite:!0});Be.Earth=ye,Be.EPSG3395=l0,Be.EPSG3857=ue,Be.EPSG900913=de,Be.EPSG4326=Zp,Be.Simple=c0;var ji=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[f(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[f(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var b=this.getEvents();g.on(b,this),this.once("remove",function(){g.off(b,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Rt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=f(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=f(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return f(u)in this._layers},eachLayer:function(u,g){for(var b in this._layers)u.call(g,this._layers[b]);return this},_addLayers:function(u){u=u?C(u)?u:[u]:[];for(var g=0,b=u.length;g<b;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[f(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=f(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,b=this._getZoomSpan();for(var P in this._zoomBoundLayers){var z=this._zoomBoundLayers[P].options;u=z.minZoom===void 0?u:Math.min(u,z.minZoom),g=z.maxZoom===void 0?g:Math.max(g,z.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ta=ji.extend({initialize:function(u,g){S(this,g),this._layers={};var b,P;if(u)for(b=0,P=u.length;b<P;b++)this.addLayer(u[b])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),b,P;for(b in this._layers)P=this._layers[b],P[u]&&P[u].apply(P,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var b in this._layers)u.call(g,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return f(u)}}),Ol=function(u,g){return new ta(u,g)},ms=ta.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),ta.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),ta.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new oe;for(var g in this._layers){var b=this._layers[g];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),Yp=function(u,g){return new ms(u,g)},Ia=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){S(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(b,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(P,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(u,g){var b=this.options,P=b[g+"Size"];typeof P=="number"&&(P=[P,P]);var z=se(P),H=se(g==="shadow"&&b.shadowAnchor||b.iconAnchor||z&&z.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(b.className||""),H&&(u.style.marginLeft=-H.x+"px",u.style.marginTop=-H.y+"px"),z&&(u.style.width=z.x+"px",u.style.height=z.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return Oe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Xp(u){return new Ia(u)}var Po=Ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Po.imagePath!="string"&&(Po.imagePath=this._detectIconPath()),(this.options.imagePath||Po.imagePath)+Ia.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(b,P,z){var H=P.exec(b);return H&&H[z]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Pt("div","leaflet-default-icon-path",document.body),g=Js(u,"background-image")||Js(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),qd=li.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new _i(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ur(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,b=g._map,P=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,H=hs(g._icon),le=b.getPixelBounds(),ve=b.getPixelOrigin(),Te=Y(le.min._subtract(ve).add(z),le.max._subtract(ve).subtract(z));if(!Te.contains(H)){var De=se((Math.max(Te.max.x,H.x)-Te.max.x)/(le.max.x-Te.max.x)-(Math.min(Te.min.x,H.x)-Te.min.x)/(le.min.x-Te.min.x),(Math.max(Te.max.y,H.y)-Te.max.y)/(le.max.y-Te.max.y)-(Math.min(Te.min.y,H.y)-Te.min.y)/(le.min.y-Te.min.y)).multiplyBy(P);b.panBy(De,{animate:!1}),this._draggable._newPos._add(De),this._draggable._startPos._add(De),Cr(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=B(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,b=g._shadow,P=hs(g._icon),z=g._map.layerPointToLatLng(P);b&&Cr(b,P),g._latlng=z,u.latlng=z,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),gs=ji.extend({options:{icon:new Po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){S(this,g),this._latlng=Ne(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=Ne(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),P=!1;b!==this._icon&&(this._icon&&this._removeIcon(),P=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),Tt(b,g),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(b,"focus",this._panOnFocus,this);var z=u.icon.createShadow(this._shadow),H=!1;z!==this._shadow&&(this._removeShadow(),H=!0),z&&(Tt(z,g),z.alt=""),this._shadow=z,u.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&H&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(this._icon,"focus",this._panOnFocus,this),mr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mr(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Cr(this._icon,u),this._shadow&&Cr(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qd)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qd(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Cn(this._icon,u),this._shadow&&Cn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,b=g.iconSize?se(g.iconSize):se(0,0),P=g.iconAnchor?se(g.iconAnchor):se(0,0);u.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:b.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function u0(u,g){return new gs(u,g)}var ra=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return S(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vc=ra.extend({options:{fill:!0,radius:10},initialize:function(u,g){S(this,g),this._latlng=Ne(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=Ne(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return ra.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,b=this._clickTolerance(),P=[u+b,g+b];this._pxBounds=new G(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jp(u,g){return new Vc(u,g)}var qc=Vc.extend({initialize:function(u,g,b){if(typeof g=="number"&&(g=i({},b,{radius:g})),S(this,g),this._latlng=Ne(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ra.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,b=this._map,P=b.options.crs;if(P.distance===ye.distance){var z=Math.PI/180,H=this._mRadius/ye.R/z,le=b.project([g+H,u]),ve=b.project([g-H,u]),Te=le.add(ve).divideBy(2),De=b.unproject(Te).lat,Qe=Math.acos((Math.cos(H*z)-Math.sin(g*z)*Math.sin(De*z))/(Math.cos(g*z)*Math.cos(De*z)))/z;(isNaN(Qe)||Qe===0)&&(Qe=H/Math.cos(Math.PI/180*g)),this._point=Te.subtract(b.getPixelOrigin()),this._radius=isNaN(Qe)?0:Te.x-b.project([De,u-Qe]).x,this._radiusY=Te.y-le.y}else{var mt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(mt).x}this._updateBounds()}});function Ml(u,g,b){return new qc(u,g,b)}var Hn=ra.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){S(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,b=null,P=Ra,z,H,le=0,ve=this._parts.length;le<ve;le++)for(var Te=this._parts[le],De=1,Qe=Te.length;De<Qe;De++){z=Te[De-1],H=Te[De];var mt=P(u,z,H,!0);mt<g&&(g=mt,b=P(u,z,H))}return b&&(b.distance=Math.sqrt(g)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=Ne(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new oe,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],b=ci(u),P=0,z=u.length;P<z;P++)b?(g[P]=Ne(u[P]),this._bounds.extend(g[P])):g[P]=this._convertLatLngs(u[P]);return g},_project:function(){var u=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new U(u,u);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,b){var P=u[0]instanceof Ce,z=u.length,H,le;if(P){for(le=[],H=0;H<z;H++)le[H]=this._map.latLngToLayerPoint(u[H]),b.extend(le[H]);g.push(le)}else for(H=0;H<z;H++)this._projectLatlngs(u[H],g,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,b,P,z,H,le,ve,Te;for(b=0,z=0,H=this._rings.length;b<H;b++)for(Te=this._rings[b],P=0,le=Te.length;P<le-1;P++)ve=qp(Te[P],Te[P+1],u,P,!0),ve&&(g[z]=g[z]||[],g[z].push(ve[0]),(ve[1]!==Te[P+1]||P===le-2)&&(g[z].push(ve[1]),z++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,b=0,P=u.length;b<P;b++)u[b]=Fc(u[b],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var b,P,z,H,le,ve,Te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,H=this._parts.length;b<H;b++)for(ve=this._parts[b],P=0,le=ve.length,z=le-1;P<le;z=P++)if(!(!g&&P===0)&&Vp(u,ve[z],ve[P])<=Te)return!0;return!1}});function d0(u,g){return new Hn(u,g)}Hn._flat=Hp;var ys=Hn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Up(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Hn.prototype._convertLatLngs.call(this,u),b=g.length;return b>=2&&g[0]instanceof Ce&&g[0].equals(g[b-1])&&g.pop(),g},_setLatLngs:function(u){Hn.prototype._setLatLngs.call(this,u),ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,b=new U(g,g);if(u=new G(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,z=this._rings.length,H;P<z;P++)H=zd(this._rings[P],u,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,b,P,z,H,le,ve,Te,De;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(H=0,Te=this._parts.length;H<Te;H++)for(b=this._parts[H],le=0,De=b.length,ve=De-1;le<De;ve=le++)P=b[le],z=b[ve],P.y>u.y!=z.y>u.y&&u.x<(z.x-P.x)*(u.y-P.y)/(z.y-P.y)+P.x&&(g=!g);return g||Hn.prototype._containsPoint.call(this,u,!0)}});function f0(u,g){return new ys(u,g)}var Fi=ms.extend({initialize:function(u,g){S(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=C(u)?u:u.features,b,P,z;if(g){for(b=0,P=g.length;b<P;b++)z=g[b],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var H=this.options;if(H.filter&&!H.filter(u))return this;var le=To(u,H);return le?(le.feature=Yc(u),le.defaultOptions=le.options,this.resetStyle(le),H.onEachFeature&&H.onEachFeature(u,le),this.addLayer(le)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function To(u,g){var b=u.type==="Feature"?u.geometry:u,P=b?b.coordinates:null,z=[],H=g&&g.pointToLayer,le=g&&g.coordsToLatLng||Kc,ve,Te,De,Qe;if(!P&&!b)return null;switch(b.type){case"Point":return ve=le(P),Hc(H,u,ve,g);case"MultiPoint":for(De=0,Qe=P.length;De<Qe;De++)ve=le(P[De]),z.push(Hc(H,u,ve,g));return new ms(z);case"LineString":case"MultiLineString":return Te=Rl(P,b.type==="LineString"?0:1,le),new Hn(Te,g);case"Polygon":case"MultiPolygon":return Te=Rl(P,b.type==="Polygon"?1:2,le),new ys(Te,g);case"GeometryCollection":for(De=0,Qe=b.geometries.length;De<Qe;De++){var mt=To({geometry:b.geometries[De],type:"Feature",properties:u.properties},g);mt&&z.push(mt)}return new ms(z);case"FeatureCollection":for(De=0,Qe=b.features.length;De<Qe;De++){var Ot=To(b.features[De],g);Ot&&z.push(Ot)}return new ms(z);default:throw new Error("Invalid GeoJSON object.")}}function Hc(u,g,b,P){return u?u(g,b):new gs(b,P&&P.markersInheritOptions&&P)}function Kc(u){return new Ce(u[1],u[0],u[2])}function Rl(u,g,b){for(var P=[],z=0,H=u.length,le;z<H;z++)le=g?Rl(u[z],g-1,b):(b||Kc)(u[z]),P.push(le);return P}function Gc(u,g){return u=Ne(u),u.alt!==void 0?[x(u.lng,g),x(u.lat,g),x(u.alt,g)]:[x(u.lng,g),x(u.lat,g)]}function Zc(u,g,b,P){for(var z=[],H=0,le=u.length;H<le;H++)z.push(g?Zc(u[H],ci(u[H])?0:g-1,b,P):Gc(u[H],P));return!g&&b&&z.length>0&&z.push(z[0].slice()),z}function Eo(u,g){return u.feature?i({},u.feature,{geometry:g}):Yc(g)}function Yc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Hd={toGeoJSON:function(u){return Eo(this,{type:"Point",coordinates:Gc(this.getLatLng(),u)})}};gs.include(Hd),qc.include(Hd),Vc.include(Hd),Hn.include({toGeoJSON:function(u){var g=!ci(this._latlngs),b=Zc(this._latlngs,g?1:0,!1,u);return Eo(this,{type:(g?"Multi":"")+"LineString",coordinates:b})}}),ys.include({toGeoJSON:function(u){var g=!ci(this._latlngs),b=g&&!ci(this._latlngs[0]),P=Zc(this._latlngs,b?2:g?1:0,!0,u);return g||(P=[P]),Eo(this,{type:(b?"Multi":"")+"Polygon",coordinates:P})}}),ta.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(b){g.push(b.toGeoJSON(u).geometry.coordinates)}),Eo(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var b=g==="GeometryCollection",P=[];return this.eachLayer(function(z){if(z.toGeoJSON){var H=z.toGeoJSON(u);if(b)P.push(H.geometry);else{var le=Yc(H);le.type==="FeatureCollection"?P.push.apply(P,le.features):P.push(le)}}}),b?Eo(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function Qp(u,g){return new Fi(u,g)}var Si=Qp,na=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,b){this._url=u,this._bounds=_e(g),S(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&vo(this._image),this},bringToBack:function(){return this._map&&fs(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=_e(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:Pt("img");if(Tt(g,"leaflet-image-layer"),this._zoomAnimated&&Tt(g,"leaflet-zoom-animated"),this.options.className&&Tt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;vi(this._image,b,g)},_reset:function(){var u=this._image,g=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=g.getSize();Cr(u,g.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){Cn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),em=function(u,g,b){return new na(u,g,b)},Kd=na.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:Pt("video");if(Tt(g,"leaflet-image-layer"),this._zoomAnimated&&Tt(g,"leaflet-zoom-animated"),this.options.className&&Tt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=o(this.fire,this,"load"),u){for(var b=g.getElementsByTagName("source"),P=[],z=0;z<b.length;z++)P.push(b[z].src);this._url=b.length>0?P:[g.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var le=Pt("source");le.src=this._url[H],g.appendChild(le)}}});function tm(u,g,b){return new Kd(u,g,b)}var Gd=na.extend({_initImage:function(){var u=this._image=this._url;Tt(u,"leaflet-image-layer"),this._zoomAnimated&&Tt(u,"leaflet-zoom-animated"),this.options.className&&Tt(u,this.options.className),u.onselectstart=p,u.onmousemove=p}});function Zd(u,g,b){return new Gd(u,g,b)}var Ui=ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof Ce||C(u))?(this._latlng=Ne(u),S(this,g)):(S(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Cn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Cn(this._container,1),this.bringToFront(),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Cn(this._container,0),this._removeTimeout=setTimeout(o(mr,void 0,this._container),200)):mr(this._container),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Ne(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vo(this._container),this},bringToBack:function(){return this._map&&fs(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof ms){g=null;var b=this._source._layers;for(var P in b)if(b[P]._map){g=b[P];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=se(this.options.offset),b=this._getAnchor();this._zoomAnimated?Cr(this._container,u.add(b)):g=g.add(u).add(b);var P=this._containerBottom=-g.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=P+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});Rt.include({_initOverlay:function(u,g,b,P){var z=g;return z instanceof u||(z=new u(P).setContent(g)),b&&z.setLatLng(b),z}}),ji.include({_initOverlay:function(u,g,b,P){var z=b;return z instanceof u?(S(z,P),z._source=this):(z=g&&!P?g:new u(P,this),z.setContent(b)),z}});var Xc=Ui.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Ui.prototype.openOn.call(this,u)},onAdd:function(u){Ui.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ra||this._source.on("preclick",Bi))},onRemove:function(u){Ui.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ra||this._source.off("preclick",Bi))},getEvents:function(){var u=Ui.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=Pt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=Pt("div",u+"-content-wrapper",g);if(this._contentNode=Pt("div",u+"-content",b),El(g),$c(this._contentNode),St(g,"contextmenu",Bi),this._tipContainer=Pt("div",u+"-tip-container",g),this._tip=Pt("div",u+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=Pt("a",u+"-close-button",g);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',St(P,"click",function(z){Nr(z),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),g.width=b+1+"px",g.whiteSpace="",g.height="";var P=u.offsetHeight,z=this.options.maxHeight,H="leaflet-popup-scrolled";z&&P>z?(g.height=z+"px",Tt(u,H)):ur(u,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();Cr(this._container,g.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(Js(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+g,P=this._containerWidth,z=new U(this._containerLeft,-b-this._containerBottom);z._add(hs(this._container));var H=u.layerPointToContainerPoint(z),le=se(this.options.autoPanPadding),ve=se(this.options.autoPanPaddingTopLeft||le),Te=se(this.options.autoPanPaddingBottomRight||le),De=u.getSize(),Qe=0,mt=0;H.x+P+Te.x>De.x&&(Qe=H.x+P-De.x+Te.x),H.x-Qe-ve.x<0&&(Qe=H.x-ve.x),H.y+b+Te.y>De.y&&(mt=H.y+b-De.y+Te.y),H.y-mt-ve.y<0&&(mt=H.y-ve.y),(Qe||mt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Qe,mt]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Co=function(u,g){return new Xc(u,g)};Rt.mergeOptions({closePopupOnClick:!0}),Rt.include({openPopup:function(u,g,b){return this._initOverlay(Xc,u,g,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ji.include({bindPopup:function(u,g){return this._popup=this._initOverlay(Xc,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ms||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){wi(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof ra)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Ao=Ui.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Ui.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Ui.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Ui.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,b,P=this._map,z=this._container,H=P.latLngToContainerPoint(P.getCenter()),le=P.layerPointToContainerPoint(u),ve=this.options.direction,Te=z.offsetWidth,De=z.offsetHeight,Qe=se(this.options.offset),mt=this._getAnchor();ve==="top"?(g=Te/2,b=De):ve==="bottom"?(g=Te/2,b=0):ve==="center"?(g=Te/2,b=De/2):ve==="right"?(g=0,b=De/2):ve==="left"?(g=Te,b=De/2):le.x<H.x?(ve="right",g=0,b=De/2):(ve="left",g=Te+(Qe.x+mt.x)*2,b=De/2),u=u.subtract(se(g,b,!0)).add(Qe).add(mt),ur(z,"leaflet-tooltip-right"),ur(z,"leaflet-tooltip-left"),ur(z,"leaflet-tooltip-top"),ur(z,"leaflet-tooltip-bottom"),Tt(z,"leaflet-tooltip-"+ve),Cr(z,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Cn(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Il=function(u,g){return new Ao(u,g)};Rt.include({openTooltip:function(u,g,b){return this._initOverlay(Ao,u,g,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ji.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ao,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[g](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ms||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(St(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),St(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,b,P;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),P=this._map.containerPointToLayerPoint(b),g=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(g)}});var Jc=Ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Oc(g),g.appendChild(b.html)):g.innerHTML=b.html!==!1?b.html:"",b.bgPos){var P=se(b.bgPos);g.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function rm(u){return new Jc(u)}Ia.Default=Po;var ia=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){S(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),mr(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof U?u:new U(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,b=-u(-1/0,1/0),P=0,z=g.length,H;P<z;P++)H=g[P].style.zIndex,g[P]!==this._container&&H&&(b=u(b,+H));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Cn(this._container,this.options.opacity);var u=+new Date,g=!1,b=!1;for(var P in this._tiles){var z=this._tiles[P];if(!(!z.current||!z.loaded)){var H=Math.min(1,(u-z.loaded)/200);Cn(z.el,H),H<1?g=!0:(z.active?b=!0:this._onOpaqueTile(z),z.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),g&&(q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=g-Math.abs(u-b),this._onUpdateLevel(b)):(mr(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var P=this._levels[u],z=this._map;return P||(P=this._levels[u]={},P.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=g,P.origin=z.project(z.unproject(z.getPixelOrigin()),u).round(),P.zoom=u,this._setZoomTransform(P,z.getCenter(),z.getZoom()),p(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var u,g,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var P=g.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)mr(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,b,P){var z=Math.floor(u/2),H=Math.floor(g/2),le=b-1,ve=new U(+z,+H);ve.z=+le;var Te=this._tileCoordsToKey(ve),De=this._tiles[Te];return De&&De.active?(De.retain=!0,!0):(De&&De.loaded&&(De.retain=!0),le>P?this._retainParent(z,H,le,P):!1)},_retainChildren:function(u,g,b,P){for(var z=2*u;z<2*u+2;z++)for(var H=2*g;H<2*g+2;H++){var le=new U(z,H);le.z=b+1;var ve=this._tileCoordsToKey(le),Te=this._tiles[ve];if(Te&&Te.active){Te.retain=!0;continue}else Te&&Te.loaded&&(Te.retain=!0);b+1<P&&this._retainChildren(z,H,b+1,P)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,b,P){var z=Math.round(g);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var H=this.options.updateWhenZooming&&z!==this._tileZoom;(!P||H)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,g)},_setZoomTransform:function(u,g,b){var P=this._map.getZoomScale(b,u.zoom),z=u.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(g,b)).round();Oe.any3d?vi(u.el,z,P):Cr(u.el,z)},_resetGrid:function(){var u=this._map,g=u.options.crs,b=this._tileSize=this.getTileSize(),P=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],P).x/b.x),Math.ceil(u.project([0,g.wrapLng[1]],P).x/b.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],P).y/b.x),Math.ceil(u.project([g.wrapLat[1],0],P).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,b=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),P=g.getZoomScale(b,this._tileZoom),z=g.project(u,this._tileZoom).floor(),H=g.getSize().divideBy(P*2);return new G(z.subtract(H),z.add(H))},_update:function(u){var g=this._map;if(g){var b=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(u),z=this._pxBoundsToTileRange(P),H=z.getCenter(),le=[],ve=this.options.keepBuffer,Te=new G(z.getBottomLeft().subtract([ve,-ve]),z.getTopRight().add([ve,-ve]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var De in this._tiles){var Qe=this._tiles[De].coords;(Qe.z!==this._tileZoom||!Te.contains(new U(Qe.x,Qe.y)))&&(this._tiles[De].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var mt=z.min.y;mt<=z.max.y;mt++)for(var Ot=z.min.x;Ot<=z.max.x;Ot++){var en=new U(Ot,mt);if(en.z=this._tileZoom,!!this._isValidTile(en)){var qr=this._tiles[this._tileCoordsToKey(en)];qr?qr.current=!0:le.push(en)}}if(le.sort(function(On,Lo){return On.distanceTo(H)-Lo.distanceTo(H)}),le.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(Ot=0;Ot<le.length;Ot++)this._addTile(le[Ot],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var b=this._globalTileRange;if(!g.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!g.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(u);return _e(this.options.bounds).overlaps(P)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,b=this.getTileSize(),P=u.scaleBy(b),z=P.add(b),H=g.unproject(P,u.z),le=g.unproject(z,u.z);return[H,le]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),b=new oe(g[0],g[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),b=new U(+g[0],+g[1]);return b.z=+g[2],b},_removeTile:function(u){var g=this._tiles[u];g&&(mr(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Tt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=p,u.onmousemove=p,Oe.ielt9&&this.options.opacity<1&&Cn(u,this.options.opacity)},_addTile:function(u,g){var b=this._getTilePos(u),P=this._tileCoordsToKey(u),z=this.createTile(this._wrapCoords(u),o(this._tileReady,this,u));this._initTile(z),this.createTile.length<2&&B(o(this._tileReady,this,u,null,z)),Cr(z,b),this._tiles[P]={el:z,coords:u,current:!0},g.appendChild(z),this.fire("tileloadstart",{tile:z,coords:u})},_tileReady:function(u,g,b){g&&this.fire("tileerror",{error:g,tile:b,coords:u});var P=this._tileCoordsToKey(u);b=this._tiles[P],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Cn(b.el,0),q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),g||(Tt(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new U(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new G(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Oo(u){return new ia(u)}var sa=ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=S(this,g),g.detectRetina&&Oe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var b=document.createElement("img");return St(b,"load",o(this._tileOnLoad,this,g,b)),St(b,"error",o(this._tileOnError,this,g,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var g={r:Oe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=b),g["-y"]=b}return k(this._url,i(g,this.options))},_tileOnLoad:function(u,g){Oe.ielt9?setTimeout(o(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,b){var P=this.options.errorTileUrl;P&&g.getAttribute("src")!==P&&(g.src=P),u(b,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,b=this.options.zoomReverse,P=this.options.zoomOffset;return b&&(u=g-u),u+P},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=p,g.onerror=p,!g.complete)){g.src=A;var b=this._tiles[u].coords;mr(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:b})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",A),ia.prototype._removeTile.call(this,u)},_tileReady:function(u,g,b){if(!(!this._map||b&&b.getAttribute("src")===A))return ia.prototype._tileReady.call(this,u,g,b)}});function Yd(u,g){return new sa(u,g)}var Ll=sa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var b=i({},this.defaultWmsParams);for(var P in g)P in this.options||(b[P]=g[P]);g=S(this,g);var z=g.detectRetina&&Oe.retina?2:1,H=this.getTileSize();b.width=H.x*z,b.height=H.y*z,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,sa.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),b=this._crs,P=Y(b.project(g[0]),b.project(g[1])),z=P.min,H=P.max,le=(this._wmsVersion>=1.3&&this._crs===Zp?[z.y,z.x,H.y,H.x]:[z.x,z.y,H.x,H.y]).join(","),ve=sa.prototype.getTileUrl.call(this,u);return ve+_(this.wmsParams,ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+le},setParams:function(u,g){return i(this.wmsParams,u),g||this.redraw(),this}});function nm(u,g){return new Ll(u,g)}sa.WMS=Ll,Yd.wms=nm;var Vi=ji.extend({options:{padding:.1},initialize:function(u){S(this,u),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var b=this._map.getZoomScale(g,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,g),H=P.multiplyBy(-b).add(z).subtract(this._map._getNewPixelOrigin(u,g));Oe.any3d?vi(this._container,H,b):Cr(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),b=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new G(b,b.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xd=Vi.extend({options:{tolerance:0},getEvents:function(){var u=Vi.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");St(u,"mousemove",this._onMouseMove,this),St(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,mr(this._container),ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var u=this._bounds,g=this._container,b=u.getSize(),P=Oe.retina?2:1;Cr(g,u.min),g.width=P*b.x,g.height=P*b.y,g.style.width=b.x+"px",g.style.height=b.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[f(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,b=g.next,P=g.prev;b?b.prev=P:this._drawLast=P,P?P.next=b:this._drawFirst=b,delete u._order,delete this._layers[f(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),b=[],P,z;for(z=0;z<g.length;z++){if(P=Number(g[z]),isNaN(P))return;b.push(P)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var b=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)u=P.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var b,P,z,H,le=u._parts,ve=le.length,Te=this._ctx;if(ve){for(Te.beginPath(),b=0;b<ve;b++){for(P=0,z=le[b].length;P<z;P++)H=le[b][P],Te[P?"lineTo":"moveTo"](H.x,H.y);g&&Te.closePath()}this._fillStroke(Te,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,b=this._ctx,P=Math.max(Math.round(u._radius),1),z=(Math.max(Math.round(u._radiusY),1)||P)/P;z!==1&&(b.save(),b.scale(1,z)),b.beginPath(),b.arc(g.x,g.y/z,P,0,Math.PI*2,!1),z!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,g){var b=g.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),b,P,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(P=b);this._fireEvent(P?[P]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(ur(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var b,P,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(g)&&(P=b);P!==this._hoveredLayer&&(this._handleMouseOut(u),P&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([P],u,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,b){this._map._fireDOMEvent(g,b||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var b=g.next,P=g.prev;if(b)b.prev=P;else return;P?P.next=b:b&&(this._drawFirst=b),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var b=g.next,P=g.prev;if(P)P.next=b;else return;b?b.prev=P:P&&(this._drawLast=P),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Jd(u){return Oe.canvas?new Xd(u):null}var Mo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),im={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Mo("shape");Tt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Mo("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;mr(g),u.removeInteractiveTarget(g),delete this._layers[f(u)]},_updateStyle:function(u){var g=u._stroke,b=u._fill,P=u.options,z=u._container;z.stroked=!!P.stroke,z.filled=!!P.fill,P.stroke?(g||(g=u._stroke=Mo("stroke")),z.appendChild(g),g.weight=P.weight+"px",g.color=P.color,g.opacity=P.opacity,P.dashArray?g.dashStyle=C(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=P.lineCap.replace("butt","flat"),g.joinstyle=P.lineJoin):g&&(z.removeChild(g),u._stroke=null),P.fill?(b||(b=u._fill=Mo("fill")),z.appendChild(b),b.color=P.fillColor||P.color,b.opacity=P.fillOpacity):b&&(z.removeChild(b),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),b=Math.round(u._radius),P=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+b+","+P+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){vo(u._container)},_bringToBack:function(u){fs(u._container)}},Ni=Oe.vml?Mo:Re,La=Vi.extend({_initContainer:function(){this._container=Ni("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ni("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mr(this._container),ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var u=this._bounds,g=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,b.setAttribute("width",g.x),b.setAttribute("height",g.y)),Cr(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=Ni("path");u.options.className&&Tt(g,u.options.className),u.options.interactive&&Tt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[f(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){mr(u._path),u.removeInteractiveTarget(u._path),delete this._layers[f(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,b=u.options;g&&(b.stroke?(g.setAttribute("stroke",b.color),g.setAttribute("stroke-opacity",b.opacity),g.setAttribute("stroke-width",b.weight),g.setAttribute("stroke-linecap",b.lineCap),g.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?g.setAttribute("stroke-dasharray",b.dashArray):g.removeAttribute("stroke-dasharray"),b.dashOffset?g.setAttribute("stroke-dashoffset",b.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),b.fill?(g.setAttribute("fill",b.fillColor||b.color),g.setAttribute("fill-opacity",b.fillOpacity),g.setAttribute("fill-rule",b.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,Me(u._parts,g))},_updateCircle:function(u){var g=u._point,b=Math.max(Math.round(u._radius),1),P=Math.max(Math.round(u._radiusY),1)||b,z="a"+b+","+P+" 0 1,0 ",H=u._empty()?"M0 0":"M"+(g.x-b)+","+g.y+z+b*2+",0 "+z+-b*2+",0 ";this._setPath(u,H)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){vo(u._path)},_bringToBack:function(u){fs(u._path)}});Oe.vml&&La.include(im);function Qc(u){return Oe.svg||Oe.vml?new La(u):null}Rt.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Jd(u)||Qc(u)}});var sm=ys.extend({initialize:function(u,g){ys.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=_e(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function h0(u,g){return new sm(u,g)}La.create=Ni,La.pointsToPath=Me,Fi.geometryToLayer=To,Fi.coordsToLatLng=Kc,Fi.coordsToLatLngs=Rl,Fi.latLngToCoords=Gc,Fi.latLngsToCoords=Zc,Fi.getFeature=Eo,Fi.asFeature=Yc,Rt.mergeOptions({boxZoom:!0});var Ro=li.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dt(),Ic(),this._startPoint=this._map.mouseEventToContainerPoint(u),St(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),Tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new G(this._point,this._startPoint),b=g.getSize();Cr(this._box,g.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(mr(this._box),ur(this._container,"leaflet-crosshair")),_o(),Lc(),ar(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rt.addInitHook("addHandler","boxZoom",Ro),Rt.mergeOptions({doubleClickZoom:!0});var am=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,b=g.getZoom(),P=g.options.zoomDelta,z=u.originalEvent.shiftKey?b-P:b+P;g.options.doubleClickZoom==="center"?g.setZoom(z):g.setZoomAround(u.containerPoint,z)}});Rt.addInitHook("addHandler","doubleClickZoom",am),Rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qd=li.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new _i(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ur(this._map._container,"leaflet-grab"),ur(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=_e(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),b=this._initialWorldOffset,P=this._draggable._newPos.x,z=(P-g+b)%u+g-b,H=(P+g+b)%u-g-b,le=Math.abs(z+b)<Math.abs(H+b)?z:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=le},_onDragEnd:function(u){var g=this._map,b=g.options,P=!b.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),P)g.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,le=b.easeLinearity,ve=z.multiplyBy(le/H),Te=ve.distanceTo([0,0]),De=Math.min(b.inertiaMaxSpeed,Te),Qe=ve.multiplyBy(De/Te),mt=De/(b.inertiaDeceleration*le),Ot=Qe.multiplyBy(-mt/2).round();!Ot.x&&!Ot.y?g.fire("moveend"):(Ot=g._limitOffset(Ot,g.options.maxBounds),B(function(){g.panBy(Ot,{duration:mt,easeLinearity:le,noMoveStart:!0,animate:!0})}))}}});Rt.addInitHook("addHandler","dragging",Qd),Rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ef=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),St(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,b=u.scrollTop||g.scrollTop,P=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(P,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},b=this.keyCodes,P,z;for(P=0,z=b.left.length;P<z;P++)g[b.left[P]]=[-1*u,0];for(P=0,z=b.right.length;P<z;P++)g[b.right[P]]=[u,0];for(P=0,z=b.down.length;P<z;P++)g[b.down[P]]=[0,u];for(P=0,z=b.up.length;P<z;P++)g[b.up[P]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},b=this.keyCodes,P,z;for(P=0,z=b.zoomIn.length;P<z;P++)g[b.zoomIn[P]]=u;for(P=0,z=b.zoomOut.length;P<z;P++)g[b.zoomOut[P]]=-u},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,b=this._map,P;if(g in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(P=this._panKeys[g],u.shiftKey&&(P=se(P).multiplyBy(3)),b.options.maxBounds&&(P=b._limitOffset(se(P),b.options.maxBounds)),b.options.worldCopyJump){var z=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(P)));b.panTo(z)}else b.panBy(P)}else if(g in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;wi(u)}}});Rt.addInitHook("addHandler","keyboard",ef),Rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var or=li.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=Bp(u),b=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var P=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),P),wi(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,H=b?Math.ceil(z/b)*b:z,le=u._limitZoom(g+(this._delta>0?H:-H))-g;this._delta=0,this._startTime=null,le&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+le):u.setZoomAround(this._lastMousePos,g+le))}});Rt.addInitHook("addHandler","scrollWheelZoom",or);var tf=600;Rt.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var Dl=li.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new U(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(St(document,"touchend",Nr),St(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),tf),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){ar(document,"touchend",Nr),ar(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new U(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});b._simulated=!0,g.target.dispatchEvent(b)}});Rt.addInitHook("addHandler","tapHold",Dl),Rt.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var Io=li.extend({addHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var b=g.mouseEventToContainerPoint(u.touches[0]),P=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(b.add(P)._divideBy(2))),this._startDist=b.distanceTo(P),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),Nr(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,b=g.mouseEventToContainerPoint(u.touches[0]),P=g.mouseEventToContainerPoint(u.touches[1]),z=b.distanceTo(P)/this._startDist;if(this._zoom=g.getScaleZoom(z,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&z<1||this._zoom>g.getMaxZoom()&&z>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var H=b._add(P)._divideBy(2)._subtract(this._centerPoint);if(z===1&&H.x===0&&H.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var le=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(le,this,!0),Nr(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rt.addInitHook("addHandler","touchZoom",Io),Rt.BoxZoom=Ro,Rt.DoubleClickZoom=am,Rt.Drag=Qd,Rt.Keyboard=ef,Rt.ScrollWheelZoom=or,Rt.TapHold=Dl,Rt.TouchZoom=Io,r.Bounds=G,r.Browser=Oe,r.CRS=Be,r.Canvas=Xd,r.Circle=qc,r.CircleMarker=Vc,r.Class=X,r.Control=qn,r.DivIcon=Jc,r.DivOverlay=Ui,r.DomEvent=zc,r.DomUtil=Tl,r.Draggable=_i,r.Evented=K,r.FeatureGroup=ms,r.GeoJSON=Fi,r.GridLayer=ia,r.Handler=li,r.Icon=Ia,r.ImageOverlay=na,r.LatLng=Ce,r.LatLngBounds=oe,r.Layer=ji,r.LayerGroup=ta,r.LineUtil=Gp,r.Map=Rt,r.Marker=gs,r.Mixin=$d,r.Path=ra,r.Point=U,r.PolyUtil=r0,r.Polygon=ys,r.Polyline=Hn,r.Popup=Xc,r.PosAnimation=Wc,r.Projection=o0,r.Rectangle=sm,r.Renderer=Vi,r.SVG=La,r.SVGOverlay=Gd,r.TileLayer=sa,r.Tooltip=Ao,r.Transformation=ke,r.Util=J,r.VideoOverlay=Kd,r.bind=o,r.bounds=Y,r.canvas=Jd,r.circle=Ml,r.circleMarker=Jp,r.control=ea,r.divIcon=rm,r.extend=i,r.featureGroup=Yp,r.geoJSON=Qp,r.geoJson=Si,r.gridLayer=Oo,r.icon=Xp,r.imageOverlay=em,r.latLng=Ne,r.latLngBounds=_e,r.layerGroup=Ol,r.map=Qs,r.marker=u0,r.point=se,r.polygon=f0,r.polyline=d0,r.popup=Co,r.rectangle=h0,r.setOptions=S,r.stamp=f,r.svg=Qc,r.svgOverlay=Zd,r.tileLayer=Yd,r.tooltip=Il,r.transformation=te,r.version=n,r.videoOverlay=tm;var om=window.L;r.noConflict=function(){return window.L=om,this},window.L=r}))})(Kf,Kf.exports)),Kf.exports}var Ape=Cpe();const Ri=rr(Ape),Df=[{id:"",name:"",label:" ",lat:32.82,lng:35.18,color:"#22c55e"},{id:"",name:"",label:"  ",lat:32.07,lng:34.78,color:"#ff8c00"},{id:"",name:"",label:" ",lat:31.77,lng:35.21,color:"#8b5cf6"},{id:"",name:"",label:" ",lat:30.65,lng:34.78,color:"#ef4444"}],MR=[31.5,34.85],RR=8;function IR(e,t,r){const n=r?48:40;return`<div style="width:${n}px;height:${n}px;border-radius:50%;background:${r?e:"#fff"};border:3px solid ${e};display:flex;align-items:center;justify-content:center;box-shadow:${r?`0 0 0 6px ${e}20, 0 4px 16px ${e}40`:"0 2px 8px rgba(0,0,0,0.18)"};transition:all .2s;cursor:pointer;"><span style="font-size:15px;font-weight:800;color:${r?"#fff":e};font-family:Assistant,sans-serif;">${t}</span></div>`}function Ope(e,t){const r=t.map(n=>`<div style="display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:6px;cursor:pointer;" data-supplier-id="${n.id}" onmouseover="this.style.background='#f8f7f5'" onmouseout="this.style.background='transparent'"><span style="font-size:14px;">${n.icon}</span><span style="font-size:12px;color:#181510;font-weight:600;">${n.name}</span></div>`).join("");return`<div dir="rtl" style="font-family:Assistant,sans-serif;min-width:200px;"><div style="padding:10px 14px;background:${e.color}08;border-bottom:1px solid ${e.color}15;"><div style="font-size:13px;color:#181510;font-weight:700;">${e.label}</div><div style="font-size:11px;color:#8d785e;">${t.length} </div></div><div style="padding:6px 8px;max-height:180px;overflow-y:auto;">${r}</div></div>`}function Mpe(){const e=Fr(),[t,r]=O.useState(null),[n,i]=O.useState([]),s=O.useRef(null),o=O.useRef(null),c=O.useRef({});O.useEffect(()=>{zr.list().then(i).catch(m=>console.error("[SupplierMap] fetch failed:",m))},[]);const f=O.useMemo(()=>{const m={};for(const p of n)m[p.region]||(m[p.region]=[]),m[p.region].push(p);return m},[n]);O.useEffect(()=>{if(!o.current||n.length===0)return;s.current&&(s.current.remove(),s.current=null,c.current={});const m=Ri.map(o.current,{center:MR,zoom:RR,zoomControl:!0,scrollWheelZoom:!0,attributionControl:!0});return Ri.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap"}).addTo(m),Df.forEach(p=>{const x=f[p.id]||[];if(x.length===0)return;const v=Ri.divIcon({className:"",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-24],html:IR(p.color,x.length,!1)}),j=Ri.marker([p.lat,p.lng],{icon:v}).addTo(m);j.bindPopup(Ope(p,x),{className:"supplier-map-popup",maxWidth:320,minWidth:220}),j.on("popupopen",()=>{var _;const S=(_=j.getPopup())==null?void 0:_.getElement();S&&S.querySelectorAll("[data-supplier-id]").forEach(N=>{N.onclick=()=>{const k=N.getAttribute("data-supplier-id");k&&e(`/suppliers/${k}`)}})}),c.current[p.id]=j}),s.current=m,()=>{m.remove(),s.current=null,c.current={}}},[n,f,e]),O.useEffect(()=>{const m=s.current;if(m)if(Df.forEach(p=>{const x=c.current[p.id];if(!x)return;const v=f[p.id]||[],j=t===p.id;x.setIcon(Ri.divIcon({className:"",iconSize:[j?48:40,j?48:40],iconAnchor:[j?24:20,j?24:20],popupAnchor:[0,j?-28:-24],html:IR(p.color,v.length,j)}))}),t){const p=Df.find(x=>x.id===t);p&&m.flyTo([p.lat,p.lng],10,{duration:.8})}else m.flyTo(MR,RR,{duration:.6})},[t,f]);const h=O.useCallback(()=>r(null),[]);return a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden",children:[a.jsx("style",{children:`
        @keyframes leafpin { 75%, 100% { transform: scale(1.6); opacity: 0; } }
        .supplier-map-popup .leaflet-popup-content-wrapper { border-radius: 14px !important; box-shadow: 0 8px 32px rgba(0,0,0,0.13) !important; border: 1px solid #e7e1da !important; padding: 0 !important; overflow: hidden; }
        .supplier-map-popup .leaflet-popup-content { margin: 0 !important; }
        .supplier-map-popup .leaflet-popup-tip { border-top-color: #fff !important; box-shadow: none !important; }
        .leaflet-control-zoom { border: 1px solid #e7e1da !important; border-radius: 12px !important; overflow: hidden; }
        .leaflet-control-zoom a { color: #181510 !important; background: #fff !important; width: 36px !important; height: 36px !important; line-height: 36px !important; font-size: 18px !important; }
      `}),a.jsx("div",{className:"px-6 pt-5 pb-4 border-b border-[#f0ece6]",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#fff3e0] flex items-center justify-center",children:a.jsx(Qa,{size:16,className:"text-[#ff8c00]"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-[18px] text-[#181510]",style:{fontWeight:600},children:"  "}),a.jsx("p",{className:"text-[12px] text-[#8d785e] mt-0.5",children:"         "})]})]}),a.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:Df.map(m=>a.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer",onClick:()=>r(t===m.id?null:m.id),children:[a.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:m.color,transform:t===m.id?"scale(1.4)":"scale(1)",transition:"transform 0.2s"}}),a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:m.name}),a.jsx("span",{className:"text-[12px] text-[#181510]",style:{fontWeight:700},children:(f[m.id]||[]).length})]},m.id))})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row",style:{height:520},children:[a.jsxs("div",{className:"relative flex-1 h-full",children:[a.jsx("div",{ref:o,style:{width:"100%",height:"100%",zIndex:1}}),t&&a.jsxs("button",{onClick:h,className:"absolute top-3 left-3 z-[1000] flex items-center gap-1.5 bg-white border border-[#e7e1da] rounded-xl px-3 py-2 text-[12px] text-[#181510] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-all shadow-md",style:{fontWeight:600},children:[a.jsx(DI,{size:13}),"   "]})]}),a.jsxs("div",{className:"lg:w-[240px] border-r border-[#f0ece6] bg-[#fdfcfa] flex flex-col h-full overflow-hidden",children:[a.jsx("div",{className:"px-4 pt-4 pb-2",children:a.jsx("p",{className:"text-[13px] text-[#181510]",style:{fontWeight:700},children:"  "})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-3 space-y-1.5",children:Df.map(m=>{const p=f[m.id]||[],x=t===m.id,v=n.length>0?Math.round(p.length/n.length*100):0;return a.jsxs("div",{className:"w-full text-right rounded-xl px-3 py-3 transition-all cursor-pointer",style:{backgroundColor:x?m.color+"08":"transparent",border:x?`1px solid ${m.color}25`:"1px solid transparent"},onClick:()=>r(x?null:m.id),onMouseEnter:()=>r(m.id),onMouseLeave:()=>r(null),children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:m.color,transform:x?"scale(1.25)":"scale(1)",transition:"transform 0.2s"}}),a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:x?700:500},children:m.label})]}),a.jsx("span",{className:"text-[12px]",style:{color:m.color,fontWeight:700},children:p.length})]}),a.jsx("div",{className:"h-1.5 bg-[#f0ece6] rounded-full overflow-hidden",children:a.jsx(Ke.div,{className:"h-full rounded-full",style:{backgroundColor:m.color},initial:{width:0},animate:{width:`${v}%`},transition:{duration:.8,delay:.3}})}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("span",{className:"text-[10px] text-[#b09d84]",children:[v,"% "]}),p.length>0&&a.jsxs("span",{className:"text-[10px] text-[#b09d84]",children:[p.filter(j=>j.verificationStatus==="verified").length," "]})]}),x&&p.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2 pt-2 border-t border-[#f0ece6]",children:p.map(j=>a.jsxs("button",{onClick:S=>{S.stopPropagation(),e(`/suppliers/${j.id}`)},className:"flex items-center gap-1 text-[10px] bg-white border border-[#e7e1da] rounded-md px-1.5 py-1 hover:border-[#ff8c00] hover:text-[#ff8c00] transition-colors",title:j.name,children:[a.jsx("span",{children:j.icon}),a.jsx("span",{className:"truncate max-w-[70px]",style:{fontWeight:500},children:j.name.split(" ")[0]})]},j.id))})]},m.id)})}),a.jsxs("div",{className:"px-4 py-3 border-t border-[#f0ece6] bg-[#fdfcfa] shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Pa,{size:13,className:"text-[#8d785e]"}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:'" :'}),a.jsxs("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:[n.length," "]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-[#b09d84]",children:[a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Xr,{size:9,className:"text-green-500"}),n.filter(m=>m.verificationStatus==="verified").length," "]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Bs,{size:9,className:"text-yellow-500"}),n.filter(m=>m.verificationStatus==="pending").length," "]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Pn,{size:9,className:"text-[#8d785e]"}),n.filter(m=>m.verificationStatus==="unverified").length,"  "]})]})]})]})]})]})}const LR=[" ","","","","",""],DR=[" ","","","",""],Rpe=["","",""," "];function Ipe(){const e=Fr(),[t,r]=O.useState(""),[n,i]=O.useState(" "),[s,o]=O.useState(" "),[c,f]=O.useState(""),[h,m]=O.useState(!1),[p,x]=O.useState([]),[v,j]=O.useState(!0),[S,_]=O.useState(null),[N,k]=O.useState(!1),[C,R]=O.useState(1),A=10,{register:E,handleSubmit:$,formState:{errors:I,dirtyFields:D,isValid:W},reset:B}=os({mode:"onChange",defaultValues:{name:"",category:"",region:"",phone:""}}),q=async()=>{try{j(!0),_(null);const U=await zr.list();x(U)}catch(U){console.error("[SupplierBank] Failed to load suppliers:",U),_("  ")}finally{j(!1)}};O.useEffect(()=>{q()},[]);const J=async U=>{try{k(!0),await zr.create({name:U.name.trim(),category:U.category,region:U.region,phone:U.phone.trim()}),We.success("   ","    "),m(!1),B(),q()}catch(ie){console.error("[SupplierBank] Failed to create supplier:",ie),We.error("  ",String(ie))}finally{k(!1)}},X=p.filter(U=>{if(U.category==="")return!1;const ie=!t||U.name.includes(t)||U.category.includes(t)||U.region.includes(t),se=n===" "||U.category===n,G=s===" "||U.region===s,Y=c===""||c===""&&U.verificationStatus==="verified"||c===""&&U.verificationStatus==="pending"||c===" "&&U.verificationStatus==="unverified";return ie&&se&&G&&Y}),Z=()=>{i(" "),o(" "),f(""),r(""),R(1)},F=p.filter(U=>U.category!==""),K=p.filter(U=>U.category==="").length;return F.length,F.filter(U=>U.verificationStatus==="verified").length,F.filter(U=>U.verificationStatus==="pending").length,F.filter(U=>U.notes!=="-").length,a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-[20px]",children:""})}),a.jsx("h1",{className:"text-[26px] text-[#181510]",style:{fontWeight:700},children:" "})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[K>0&&a.jsxs("button",{onClick:()=>e("/suppliers/archive"),className:"flex items-center gap-2 border border-[#e7e1da] text-[#8d785e] hover:text-[#181510] hover:border-[#b8a990] px-4 py-2.5 rounded-xl transition-all text-[14px]",style:{fontWeight:600},children:[a.jsx(dl,{size:16})," (",K,")"]}),a.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white px-4 py-2.5 rounded-xl shadow-lg shadow-[#ff8c00]/20 transition-all text-[14px]",style:{fontWeight:600},children:[a.jsx($r,{size:16}),"  "]})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(ho,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),a.jsx("input",{value:t,onChange:U=>r(U.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-xl pr-10 pl-4 py-3 text-[14px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] transition-all",placeholder:" ,   ..."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-5",children:[a.jsxs("div",{className:"flex-1 min-w-[160px]",children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:""}),a.jsx("select",{value:n,onChange:U=>i(U.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",children:LR.map(U=>a.jsx("option",{children:U},U))})]}),a.jsxs("div",{className:"flex-1 min-w-[160px]",children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:" "}),a.jsx("select",{value:s,onChange:U=>o(U.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",children:DR.map(U=>a.jsx("option",{children:U},U))})]}),a.jsxs("div",{className:"flex-1 min-w-[160px]",children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:" "}),a.jsx("select",{value:c,onChange:U=>f(U.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",children:Rpe.map(U=>a.jsx("option",{children:U},U))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:Z,className:"flex items-center gap-1 text-[12px] text-[#8d785e] hover:text-[#ff8c00] border border-[#e7e1da] px-3 py-2 rounded-lg transition-colors",children:[a.jsx(DS,{size:13})," "]})})]}),v?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-[#e7e1da] shadow-sm mb-5",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:" ..."})]}):S?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-[#e7e1da] shadow-sm mb-5",children:[a.jsx(Pn,{size:32,className:"text-[#ef4444] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#ef4444]",children:S}),a.jsx("button",{onClick:q,className:"mt-3 text-[13px] text-[#ff8c00] hover:text-[#e67e00]",style:{fontWeight:600},children:" "})]}):a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden mb-5",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da]",children:["","","",""," ","",""].map(U=>a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e] whitespace-nowrap",style:{fontWeight:600},children:U},U))})}),a.jsx("tbody",{children:X.slice((C-1)*A,C*A).map(U=>a.jsxs("tr",{className:"border-b border-[#ece8e3] hover:bg-[#f5f3f0]/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-[16px]",style:{backgroundColor:U.categoryColor+"15"},children:U.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:U.name}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:U.phone})]})]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-[12px] px-2.5 py-1 rounded-full",style:{backgroundColor:U.categoryColor+"15",color:U.categoryColor,fontWeight:600},children:U.category})}),a.jsx("td",{className:"p-3 text-[13px] text-[#6b5d45]",children:U.region}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:U.rating}),a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(ie=>a.jsx(dx,{size:12,fill:ie<=U.rating?"#ff8c00":"none",className:ie<=U.rating?"text-[#ff8c00]":"text-[#ddd6cb]"},ie))})]})}),a.jsxs("td",{className:"p-3",children:[U.verificationStatus==="verified"&&a.jsxs("span",{className:"flex items-center gap-1 text-[12px] text-green-600",style:{fontWeight:600},children:[a.jsx(Xr,{size:14})," "]}),U.verificationStatus==="pending"&&a.jsxs("span",{className:"flex items-center gap-1 text-[12px] text-yellow-600",style:{fontWeight:600},children:[a.jsx(Bs,{size:14})," "]}),U.verificationStatus==="unverified"&&a.jsxs("span",{className:"flex items-center gap-1 text-[12px] text-[#8d785e]",style:{fontWeight:600},children:[a.jsx(Pn,{size:14}),"  "]})]}),a.jsxs("td",{className:"p-3 text-[12px] text-[#8d785e]",children:[U.notes!=="-"&&a.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[a.jsx(Pn,{size:12})," ",U.notes]}),U.notes==="-"&&"-"]}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>e(`/suppliers/${U.id}`),className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",children:a.jsx(_a,{size:15})}),a.jsx("button",{onClick:()=>e(`/suppliers/${U.id}`),className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",children:a.jsx(jc,{size:15})}),a.jsx("button",{onClick:()=>{const ie=`${U.name}
: ${U.category}
: ${U.region}
: ${U.phone}
: ${U.rating}`;navigator.clipboard.writeText(ie).then(()=>{We.info(" ",` "${U.name}"  `)}).catch(()=>We.info(" ","   "))},className:"p-1.5 text-[#8d785e] hover:text-[#181510] hover:bg-[#ece8e3] rounded-lg transition-all",children:a.jsx(MI,{size:15})})]})})]},U.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#f5f3f0] border-t border-[#e7e1da]",children:[a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[" ",Math.min((C-1)*A+1,X.length),"-",Math.min(C*A,X.length),"  ",X.length," "]}),(()=>{const U=Math.max(1,Math.ceil(X.length/A));return a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>R(ie=>Math.max(1,ie-1)),disabled:C<=1,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-white transition-colors disabled:opacity-30",children:a.jsx(xl,{size:14})}),Array.from({length:U},(ie,se)=>se+1).map(ie=>a.jsx("button",{onClick:()=>R(ie),className:`w-7 h-7 rounded-md flex items-center justify-center text-[12px] transition-colors ${C===ie?"bg-[#ff8c00] text-white":"text-[#8d785e] hover:bg-white"}`,style:{fontWeight:C===ie?600:400},children:ie},ie)),a.jsx("button",{onClick:()=>R(ie=>Math.min(U,ie+1)),disabled:C>=U,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-white transition-colors disabled:opacity-30",children:a.jsx(qs,{size:14})})]})})()]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Mpe,{})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{m(!1),B()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",onClick:U=>U.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:"  "}),a.jsx("button",{onClick:()=>{m(!1),B()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:$(J),className:"space-y-3",children:[a.jsx(At,{label:" ",required:!0,error:I.name,isDirty:D.name,placeholder:" ",...E("name",Ft.requiredMin(" ",2))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ao,{label:"",error:I.category,isDirty:D.category,...E("category"),children:LR.filter(U=>U!==" ").map(U=>a.jsx("option",{children:U},U))}),a.jsx(ao,{label:"",error:I.region,isDirty:D.region,...E("region"),children:DR.filter(U=>U!==" ").map(U=>a.jsx("option",{children:U},U))})]}),a.jsx(At,{label:"",placeholder:"05X-XXXXXXX",error:I.phone,isDirty:D.phone,...E("phone",Ft.israeliPhone(!1))}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"submit",disabled:N||!W,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:N?a.jsx(vt,{size:16,className:"animate-spin"}):" "}),a.jsx("button",{type:"button",onClick:()=>{m(!1),B()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]}),a.jsxs("div",{className:"border-t border-[#e7e1da] mt-4 pt-4 flex gap-2",children:[a.jsx("button",{onClick:()=>{m(!1),B(),e("/suppliers/import")},className:"text-[13px] text-[#ff8c00] hover:text-[#e67e00]",style:{fontWeight:600},children:"  "}),a.jsx("span",{className:"text-[#c4b89a]",children:"|"}),a.jsx("button",{onClick:()=>{m(!1),B(),e("/suppliers/classify")},className:"text-[13px] text-[#ff8c00] hover:text-[#e67e00]",style:{fontWeight:600},children:"  "})]})]})})]})}const Lpe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function hp(e){const[t,r]=O.useState(!1),n=()=>{r(!0)},{src:i,alt:s,style:o,className:c,...f}=e;return t?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:o,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:Lpe,alt:"Error loading image",...f,"data-original-url":i})})}):a.jsx("img",{src:i,alt:s,className:c,style:o,...f,onError:n})}const Dpe=["","","","","",""];function $pe({product:e,supplierId:t,isOpen:r,onClose:n,onUpdate:i}){var ie,se,G;const[s,o]=O.useState(e.name),[c,f]=O.useState(e.price),[h,m]=O.useState(e.description),[p,x]=O.useState(e.unit),[v,j]=O.useState(e.notes||""),[S,_]=O.useState(e.images||[]),[N,k]=O.useState(!1),[C,R]=O.useState(!1),[A,E]=O.useState(!1),[$,I]=O.useState(0),[D,W]=O.useState(!1),B=O.useRef(null);O.useEffect(()=>{o(e.name),f(e.price),m(e.description),x(e.unit),j(e.notes||""),_(e.images||[]),I(0),W(!1)},[e]);const q=O.useCallback(async Y=>{if(Y.length){R(!0);try{for(const oe of Array.from(Y)){if(!oe.type.startsWith("image/")){We.warning("  ",`${oe.name}  `);continue}if(oe.size>5*1024*1024){We.warning("  ","  5MB");continue}const _e=await Fu.uploadImage(t,e.id,oe);_(_e.images||[]),i(_e),I((_e.images||[]).length-1)}We.success(" ","  ")}catch(oe){console.error("[ProductEditor] Upload failed:",oe),We.error(" ","    ")}finally{R(!1),E(!1)}}},[t,e.id,i]),J=async Y=>{try{const oe=await Fu.deleteImage(t,e.id,Y);_(oe.images||[]),i(oe),I(Math.max(0,$-1)),We.success(" ","")}catch(oe){console.error("[ProductEditor] Delete image failed:",oe),We.error("","    ")}},X=O.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),E(!0)},[]),Z=O.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),E(!1)},[]),F=O.useCallback(Y=>{var oe;Y.preventDefault(),Y.stopPropagation(),E(!1),(oe=Y.dataTransfer.files)!=null&&oe.length&&q(Y.dataTransfer.files)},[q]),K=async()=>{k(!0);try{const Y=await Fu.update(t,e.id,{name:s.trim(),price:c,description:h.trim(),unit:p.trim(),notes:v.trim()});i(Y),W(!0),We.success(" ",s),setTimeout(()=>W(!1),2e3)}catch(Y){console.error("[ProductEditor] Save failed:",Y),We.error("","    ")}finally{k(!1)}},U=s!==e.name||c!==e.price||h!==e.description||p!==e.unit||v!==(e.notes||"");return a.jsx(ln,{children:r&&a.jsxs(a.Fragment,{children:[a.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:n}),a.jsxs(Ke.div,{initial:{x:"100%",opacity:.5},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 right-0 h-full w-full max-w-xl bg-[#f8f7f5] z-50 shadow-2xl overflow-hidden flex flex-col",dir:"rtl",children:[a.jsxs(Ke.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"flex items-center justify-between px-5 py-4 bg-white border-b border-[#e7e1da]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-9 h-9 bg-[#ff8c00] rounded-full flex items-center justify-center text-white",children:a.jsx(Fs,{size:18})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-[17px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsxs("p",{className:"text-[12px] text-[#8d785e]",children:[": ",e.id]})]})]}),a.jsx("button",{onClick:n,className:"w-8 h-8 rounded-lg hover:bg-[#f5f3f0] flex items-center justify-center text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(Ir,{size:18})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative",children:[S&&S.length>0?a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative h-56 bg-[#181510] overflow-hidden",children:[a.jsx(ln,{mode:"wait",children:a.jsx(Ke.img,{src:(ie=S[$])==null?void 0:ie.url,alt:(se=S[$])==null?void 0:se.name,className:"w-full h-full object-cover",initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3}},((G=S[$])==null?void 0:G.id)||$)}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),a.jsxs("div",{className:"absolute top-3 left-3 bg-black/60 backdrop-blur-md text-white text-[11px] px-2.5 py-1 rounded-full flex items-center gap-1.5",children:[a.jsx(hh,{size:12}),$+1,"/",S.length]}),S.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>I(Y=>(Y+1)%S.length),className:"absolute left-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-[#181510] hover:bg-white shadow-lg transition-all",children:a.jsx(qs,{size:16})}),a.jsx("button",{onClick:()=>I(Y=>(Y-1+S.length)%S.length),className:"absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-[#181510] hover:bg-white shadow-lg transition-all",children:a.jsx(xl,{size:16})})]}),a.jsxs("button",{onClick:()=>S[$]&&J(S[$].id),className:"absolute bottom-3 left-3 bg-red-500/80 hover:bg-red-500 backdrop-blur-md text-white text-[11px] px-2.5 py-1 rounded-full flex items-center gap-1 transition-colors",children:[a.jsx(Un,{size:11})," "]}),a.jsxs("div",{className:"absolute bottom-3 right-3 bg-white/95 backdrop-blur-md text-[#181510] px-3 py-1.5 rounded-lg shadow-lg",children:[a.jsxs("span",{className:"text-[18px]",style:{fontWeight:800},children:["",c.toLocaleString()]}),a.jsxs("span",{className:"text-[11px] text-[#8d785e]",children:["/",p]})]})]}),S.length>1&&a.jsxs("div",{className:"flex gap-2 p-3 bg-white border-b border-[#e7e1da] overflow-x-auto",children:[S.map((Y,oe)=>a.jsx("button",{onClick:()=>I(oe),className:`w-14 h-14 rounded-lg overflow-hidden border-2 transition-all shrink-0 ${oe===$?"border-[#ff8c00] shadow-md scale-105":"border-transparent opacity-60 hover:opacity-100"}`,children:a.jsx("img",{src:Y.url,alt:Y.name,className:"w-full h-full object-cover"})},Y.id)),a.jsx("button",{onClick:()=>{var Y;return(Y=B.current)==null?void 0:Y.click()},className:"w-14 h-14 rounded-lg border-2 border-dashed border-[#e7e1da] flex items-center justify-center text-[#b8a990] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-colors shrink-0",children:a.jsx(gh,{size:16})})]})]}):a.jsxs("div",{onDragOver:X,onDragLeave:Z,onDrop:F,onClick:()=>{var Y;return(Y=B.current)==null?void 0:Y.click()},className:`relative m-4 rounded-2xl border-2 border-dashed cursor-pointer transition-all duration-300 overflow-hidden ${A?"border-[#ff8c00] bg-[#ff8c00]/5 scale-[1.02]":"border-[#e7e1da] hover:border-[#ff8c00]/50 bg-white"}`,children:[A&&a.jsx(Ke.div,{className:"absolute inset-0 rounded-2xl",animate:{boxShadow:["inset 0 0 0 0 rgba(255,140,0,0)","inset 0 0 30px 0 rgba(255,140,0,0.15)","inset 0 0 0 0 rgba(255,140,0,0)"]},transition:{duration:1.5,repeat:1/0}}),a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[a.jsx(Ke.div,{animate:A?{scale:[1,1.15,1],y:[0,-5,0]}:{},transition:{duration:.8,repeat:A?1/0:0},className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-4 transition-colors duration-300 ${A?"bg-[#ff8c00]/15 text-[#ff8c00]":"bg-[#f5f3f0] text-[#b8a990]"}`,children:C?a.jsx(vt,{size:28,className:"animate-spin text-[#ff8c00]"}):a.jsx(Is,{size:28})}),a.jsx("p",{className:"text-[15px] text-[#181510] mb-1",style:{fontWeight:600},children:A?"  ":C?" ...":"  "}),a.jsx("p",{className:"text-[12px] text-[#b8a990]",children:"       JPG, PNG  5MB"})]})]}),a.jsx("input",{ref:B,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Y=>Y.target.files&&q(Y.target.files)}),S&&S.length>0&&a.jsx("div",{className:"px-4 pb-2",children:a.jsxs("button",{onDragOver:X,onDragLeave:Z,onDrop:F,onClick:()=>{var Y;return(Y=B.current)==null?void 0:Y.click()},className:"w-full border-2 border-dashed border-[#e7e1da] rounded-xl p-3 text-[#8d785e] hover:border-[#ff8c00] hover:text-[#ff8c00] transition-all flex items-center justify-center gap-2 text-[13px]",children:[C?a.jsx(vt,{size:14,className:"animate-spin"}):a.jsx(gh,{size:14}),C?"...":"  "]})})]}),a.jsxs("div",{className:"px-4 py-3 space-y-4",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-white rounded-xl border border-[#e7e1da] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-1",style:{fontWeight:600},children:[a.jsx(Er,{size:14,className:"text-[#ff8c00]"})," "]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" "}),a.jsx("input",{value:s,onChange:Y=>o(Y.target.value),className:"w-full px-3 py-2.5 text-[15px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:600},placeholder:" ..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:""}),a.jsx("textarea",{value:h,onChange:Y=>m(Y.target.value),rows:3,className:"w-full px-3 py-2 text-[14px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] resize-none transition-all",placeholder:" ..."})]})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white rounded-xl border border-[#e7e1da] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-1",style:{fontWeight:600},children:[a.jsx(CI,{size:14,className:"text-[#ff8c00]"}),""]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[13px] text-[#b8a990]",children:""}),a.jsx("input",{type:"number",value:c||"",onChange:Y=>f(parseFloat(Y.target.value)||0),className:"w-full pr-7 pl-2 py-2.5 text-[16px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] transition-all",style:{fontWeight:700}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[11px] text-[#8d785e] block mb-1",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:Dpe.map(Y=>a.jsx("button",{onClick:()=>x(Y),className:`px-3 py-2 rounded-lg text-[12px] border transition-all ${p===Y?"border-[#ff8c00] bg-[#ff8c00]/10 text-[#ff8c00]":"border-[#e7e1da] bg-[#fafaf8] text-[#8d785e] hover:border-[#ff8c00]/40"}`,style:{fontWeight:p===Y?600:400},children:Y},Y))})]})]}),a.jsx("div",{className:"bg-gradient-to-l from-[#ff8c00]/10 to-[#ff8c00]/5 rounded-xl p-4 border border-[#ff8c00]/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-[13px] text-[#8d785e]",children:" "}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-[24px] text-[#181510]",style:{fontWeight:800},children:["",c.toLocaleString()]}),a.jsxs("span",{className:"text-[13px] text-[#8d785e] mr-1",children:["/",p]})]})]})})]}),a.jsxs(Ke.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.45},className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#8d785e] mb-2",style:{fontWeight:600},children:[a.jsx(UI,{size:14,className:"text-[#ff8c00]"})," "]}),a.jsx("textarea",{value:v,onChange:Y=>j(Y.target.value),rows:3,className:"w-full px-3 py-2 text-[13px] border border-[#e7e1da] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] bg-[#fafaf8] resize-none transition-all",placeholder:" ,   ..."})]}),a.jsx("div",{className:"h-20"})]})]}),a.jsxs(Ke.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"sticky bottom-0 px-4 py-3 bg-white/95 backdrop-blur-md border-t border-[#e7e1da] flex items-center gap-3",children:[a.jsx(Ke.button,{onClick:K,disabled:N||!U&&!D,whileTap:{scale:.97},className:`flex-1 py-3 rounded-xl text-[14px] flex items-center justify-center gap-2 transition-all ${D?"bg-green-500 text-white":U?"bg-[#ff8c00] hover:bg-[#e67e00] text-white shadow-lg shadow-[#ff8c00]/25":"bg-[#e7e1da] text-[#b8a990] cursor-not-allowed"}`,style:{fontWeight:600},children:N?a.jsxs(a.Fragment,{children:[a.jsx(vt,{size:16,className:"animate-spin"})," ..."]}):D?a.jsxs(a.Fragment,{children:[a.jsx(OI,{size:16}),"  !"]}):a.jsxs(a.Fragment,{children:[a.jsx(vp,{size:16}),"  "]})}),a.jsx("button",{onClick:n,className:"px-5 py-3 border border-[#e7e1da] rounded-xl text-[14px] text-[#8d785e] hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})})}const $R=Ri.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Ri.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"leaflet-marker-accent"});function zpe({supplier:e,onUpdate:t}){const r=O.useRef(null),n=O.useRef(null),i=O.useRef(null),[s,o]=O.useState(e.address||""),[c,f]=O.useState(!1),[h,m]=O.useState(!1),[p,x]=O.useState([]),[v,j]=O.useState(!1),[S,_]=O.useState(!!e.location),[N,k]=O.useState(e.location||null),C=O.useRef(null),R=O.useRef(null);O.useEffect(()=>{if(!r.current||n.current)return;const B=N?[N.lat,N.lng]:[31.7683,35.2137],q=N?15:7,J=Ri.map(r.current,{center:B,zoom:q,zoomControl:!1,attributionControl:!1});if(Ri.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(J),Ri.control.zoom({position:"topleft"}).addTo(J),Ri.control.attribution({position:"bottomleft",prefix:!1}).addAttribution('&copy; <a href="https://openstreetmap.org">OSM</a>').addTo(J),n.current=J,N){const X=Ri.marker([N.lat,N.lng],{icon:$R}).addTo(J);X.bindPopup(`<div style="text-align:right;font-family:Assistant,sans-serif;font-size:13px">${e.address||e.name}</div>`).openPopup(),i.current=X}return setTimeout(()=>J.invalidateSize(),100),()=>{J.remove(),n.current=null,i.current=null}},[]);const A=O.useCallback((B,q,J)=>{const X=n.current;if(!X)return;i.current&&i.current.remove();const Z=Ri.marker([B,q],{icon:$R}).addTo(X);Z.bindPopup(`<div style="text-align:right;font-family:Assistant,sans-serif;font-size:13px">${J}</div>`).openPopup(),i.current=Z,X.flyTo([B,q],15,{duration:1.2})},[]),E=O.useCallback(async B=>{if(B.trim().length<2){x([]);return}try{f(!0);const q=encodeURIComponent(B.trim()),X=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${q}&limit=5&accept-language=he&countrycodes=il`,{headers:{"User-Agent":"TravelPro/1.0"}})).json();x(X),j(X.length>0)}catch(q){console.error("[Geocoding] search failed:",q)}finally{f(!1)}},[]),$=B=>{o(B),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>E(B),400)},I=async B=>{const q=parseFloat(B.lat),J=parseFloat(B.lon),X=B.display_name;o(X),j(!1),x([]),k({lat:q,lng:J}),_(!0),A(q,J,X);try{m(!0);const Z=await zr.update(e.id,{address:X,location:{lat:q,lng:J}});t(Z),We.success(" ",X.split(",")[0])}catch(Z){console.error("[SupplierLocation] save failed:",Z),We.error("  ")}finally{m(!1)}},D=async()=>{var B;i.current&&(i.current.remove(),i.current=null),o(""),k(null),_(!1),x([]),(B=n.current)==null||B.flyTo([31.7683,35.2137],7,{duration:1});try{m(!0);const q=await zr.update(e.id,{address:"",location:void 0});t(q),We.info(" ")}catch{We.error("  ")}finally{m(!1)}};O.useEffect(()=>{const B=q=>{C.current&&!C.current.contains(q.target)&&j(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const W=B=>{B.key==="Enter"&&(B.preventDefault(),E(s))};return a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsx("h3",{className:"text-[14px] text-[#181510] mb-3",style:{fontWeight:700},children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Qa,{size:15,className:"text-[#ff8c00]"}),""]})}),a.jsxs("div",{className:"relative mb-3",ref:C,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:s,onChange:B=>$(B.target.value),onKeyDown:W,onFocus:()=>{p.length>0&&j(!0)},placeholder:" ...",className:"w-full text-[13px] text-[#181510] bg-[#f8f7f5] border border-[#e7e1da] rounded-lg pr-9 pl-9 py-2.5 placeholder:text-[#b5a48b] focus:outline-none focus:border-[#ff8c00] focus:ring-1 focus:ring-[#ff8c00]/30 transition-colors",dir:"rtl"}),a.jsx(ho,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),c?a.jsx(vt,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#ff8c00] animate-spin"}):s&&S?a.jsx("button",{onClick:D,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#8d785e] hover:text-red-500 transition-colors",children:a.jsx(Ir,{size:14})}):null]}),v&&p.length>0&&a.jsx("div",{className:"absolute z-[100] bottom-full mb-1 w-full bg-white border border-[#e7e1da] rounded-lg shadow-xl overflow-hidden max-h-[220px] overflow-y-auto",children:p.map((B,q)=>a.jsxs("button",{onClick:()=>I(B),className:"w-full text-right px-3 py-2.5 text-[12px] text-[#3d3322] hover:bg-[#fff8f0] border-b border-[#f0ece6] last:border-b-0 transition-colors flex items-start gap-2",children:[a.jsx(DI,{size:12,className:"text-[#ff8c00] mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:B.display_name})]},`${B.lat}-${B.lon}-${q}`))})]}),a.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-[#e7e1da]",children:[a.jsx("div",{ref:r,className:"w-full h-44",style:{background:"#f0ece6"}}),!S&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-[#f5f3f0]/80 pointer-events-none",children:[a.jsx(Qa,{size:24,className:"text-[#b5a48b] mb-1"}),a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:"     "})]}),h&&a.jsxs("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-2.5 py-1.5 flex items-center gap-1.5 shadow-sm border border-[#e7e1da]",children:[a.jsx(vt,{size:12,className:"text-[#ff8c00] animate-spin"}),a.jsx("span",{className:"text-[10px] text-[#8d785e]",style:{fontWeight:600},children:"..."})]})]}),S&&s&&a.jsxs("div",{className:"flex items-start gap-2 mt-3 text-[12px] text-[#8d785e]",children:[a.jsx(Qa,{size:13,className:"text-[#ff8c00] mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:s.split(",").slice(0,3).join(", ")})]}),!S&&e.region&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 text-[13px] text-[#8d785e]",children:[a.jsx(Qa,{size:13})," ",e.region]})]})}const Wpe="https://images.unsplash.com/photo-1762330465953-75478d918896?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2aW5leWFyZCUyMGdyYXBlJTIwaGlsbHNpZGUlMjBncmVlbnxlbnwxfHx8fDE3NzE0NjgyNDJ8MA&ixlib=rb-4.1.0&q=80&w=1080",Bpe=[{id:"info",label:" "},{id:"products",label:" "},{id:"docs",label:""},{id:"contacts",label:" "}],Fpe={verified:"",pending:" ",unverified:" "};function Upe(){const e=Fr(),{id:t}=NS(),[r,n]=O.useState("info"),[i,s]=O.useState(null),[o,c]=O.useState([]),[f,h]=O.useState([]),[m,p]=O.useState([]),[x,v]=O.useState(!0),[j,S]=O.useState(!1),[_,N]=O.useState(!1),[k,C]=O.useState(!1),[R,A]=O.useState(null),[E,$]=O.useState(""),[I,D]=O.useState(null),[W,B]=O.useState(null),[q,J]=O.useState(!1),[X,Z]=O.useState(!1),F=os({mode:"onChange",defaultValues:{contactName:"",contactRole:"",contactPhone:"",contactEmail:""}}),K=os({mode:"onChange",defaultValues:{productName:"",productPrice:"",productDescription:"",productUnit:""}});O.useEffect(()=>{t&&(v(!0),Promise.all([zr.get(t),Ev.list(t),Fu.list(t),Uu.list(t)]).then(([ee,xe,ke,te])=>{s(ee),c(xe),h(ke),p(te)}).catch(ee=>{console.error("[SupplierDetail] fetch failed:",ee),We.error("   ")}).finally(()=>v(!1)))},[t]);const U=async ee=>{if(t)try{S(!0);const xe=await Ev.create(t,{name:ee.contactName.trim(),role:ee.contactRole.trim(),phone:ee.contactPhone.trim(),email:ee.contactEmail.trim(),primary:o.length===0});c(ke=>[...ke,xe]),N(!1),F.reset(),We.success("  ",`${ee.contactName}   `)}catch{We.error("   ")}finally{S(!1)}},ie=async ee=>{if(t)try{await Ev.delete(t,ee),c(xe=>xe.filter(ke=>ke.id!==ee)),We.success("  ")}catch{We.error("   ")}},se=async ee=>{if(t)try{S(!0);const xe=await Fu.create(t,{name:ee.productName.trim(),price:parseFloat(ee.productPrice)||0,description:ee.productDescription.trim(),unit:ee.productUnit.trim()});h(ke=>[...ke,xe]),C(!1),K.reset({productName:"",productPrice:"",productDescription:"",productUnit:""}),We.success(" ",`${ee.productName} `)}catch{We.error("  ")}finally{S(!1)}},G=async ee=>{if(t)try{await Fu.delete(t,ee),h(xe=>xe.filter(ke=>ke.id!==ee)),We.success(" ")}catch{We.error("  ")}},Y=ee=>{h(xe=>xe.map(ke=>ke.id===ee.id?ee:ke)),(W==null?void 0:W.id)===ee.id&&B(ee)},oe=async()=>{if(t)try{Z(!0),await zr.archive(t),We.success("  ",`${i==null?void 0:i.name}   `),e("/suppliers")}catch{We.error("  ")}finally{Z(!1)}},_e=async()=>{if(t)try{Z(!0);const ee=await zr.update(t,{category:"",categoryColor:"#8d785e"});s(ee),We.success("  ",`${i==null?void 0:i.name}   `)}catch{We.error("  ")}finally{Z(!1)}},Ce=(i==null?void 0:i.category)==="";if(x)return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  ..."})]});if(!i)return a.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[a.jsx(Pn,{size:32,className:"text-[#ef4444] mb-3"}),a.jsx("p",{className:"text-[16px] text-[#181510]",style:{fontWeight:600},children:"  "}),a.jsx("button",{onClick:()=>e("/suppliers"),className:"mt-3 text-[13px] text-[#ff8c00]",style:{fontWeight:600},children:"  "})]});const Ne=i.verificationStatus==="verified"?"bg-green-50 text-green-600":i.verificationStatus==="pending"?"bg-yellow-50 text-yellow-600":"bg-[#f5f3f0] text-[#8d785e]",Be=i.verificationStatus==="verified"?Xr:i.verificationStatus==="pending"?Bs:Pn,ye=ee=>ee.split(" ").map(xe=>xe[0]).join("").slice(0,2);return a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[Ce&&a.jsxs("div",{className:"flex items-center justify-between bg-[#94a3b8]/10 border border-[#94a3b8]/30 rounded-xl px-4 py-3 mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dl,{size:16,className:"text-[#64748b]"}),a.jsx("span",{className:"text-[14px] text-[#475569]",style:{fontWeight:600},children:"   "})]}),a.jsxs("button",{onClick:_e,disabled:X,className:"flex items-center gap-1.5 text-[13px] text-green-600 hover:text-green-700 bg-green-50 hover:bg-green-100 disabled:opacity-50 px-3 py-1.5 rounded-lg transition-all",style:{fontWeight:600},children:[X?a.jsx(vt,{size:14,className:"animate-spin"}):a.jsx(EI,{size:14}),X?"...":"  "]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(Ce?"/suppliers/archive":"/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:i.categoryColor+"15"},children:a.jsx("span",{className:"text-[24px]",children:i.icon})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:i.name}),a.jsxs("span",{className:`flex items-center gap-1 text-[12px] px-2 py-0.5 rounded-full ${Ne}`,style:{fontWeight:600},children:[a.jsx(Be,{size:12})," ",Fpe[i.verificationStatus]]})]}),a.jsxs("p",{className:"text-[13px] text-[#8d785e]",children:[i.icon," ",i.category,"  ",i.region,i.phone&&a.jsxs(a.Fragment,{children:["  ",i.phone]})]})]})]}),!Ce&&a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] hover:text-[#181510] border border-[#e7e1da] hover:border-[#b8a990] px-3 py-2 rounded-xl transition-all",style:{fontWeight:500},children:[a.jsx(dl,{size:15})," "]})})]}),i.notes&&i.notes!=="-"&&a.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2.5 mb-5",children:[a.jsx(Pn,{size:14,className:"text-yellow-600 shrink-0"}),a.jsxs("span",{className:"text-[13px] text-yellow-800",style:{fontWeight:500},children:[": ",i.notes]})]}),a.jsx("div",{className:"flex gap-1 mb-5 bg-[#ece8e3] rounded-lg p-1 overflow-x-auto",children:Bpe.map(ee=>a.jsxs("button",{onClick:()=>n(ee.id),className:`whitespace-nowrap py-2 px-4 rounded-md text-[13px] transition-all ${r===ee.id?"bg-white text-[#181510] shadow-sm":"text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:r===ee.id?600:400},children:[ee.id==="docs"&&m.some(xe=>xe.status==="expired")&&a.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full ml-1"}),ee.label,ee.id==="contacts"&&a.jsxs("span",{className:"text-[10px] text-[#b8a990] mr-1",children:["(",o.length,")"]}),ee.id==="products"&&a.jsxs("span",{className:"text-[10px] text-[#b8a990] mr-1",children:["(",f.length,")"]}),ee.id==="docs"&&a.jsxs("span",{className:"text-[10px] text-[#b8a990] mr-1",children:["(",m.length,")"]})]},ee.id))}),r==="info"&&a.jsxs("div",{className:"grid lg:grid-cols-3 gap-5",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-5",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["  (",o.length,")"]}),a.jsx("button",{onClick:()=>n("contacts"),className:"text-[12px] text-[#ff8c00]",style:{fontWeight:600},children:"  "})]}),o.length===0?a.jsx("p",{className:"text-[13px] text-[#b8a990] text-center py-4",children:"  "}):a.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:o.slice(0,2).map(ee=>a.jsxs("div",{className:"border border-[#e7e1da] rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-[14px] text-white ${ee.primary?"bg-green-500":"bg-[#ff8c00]"}`,style:{fontWeight:600},children:ye(ee.name)}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:ee.name}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:ee.role})]}),ee.primary&&a.jsx("span",{className:"text-[10px] text-green-600 bg-green-50 px-2 py-0.5 rounded-full mr-auto",style:{fontWeight:600},children:""})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[12px] text-[#8d785e]",children:[a.jsx(Yg,{size:12})," ",ee.phone]}),a.jsxs("div",{className:"flex items-center gap-2 text-[12px] text-[#8d785e]",children:[a.jsx(hj,{size:12})," ",ee.email]})]})]},ee.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["  (",f.length,")"]}),a.jsx("button",{onClick:()=>n("products"),className:"text-[12px] text-[#ff8c00]",style:{fontWeight:600},children:"  "})]}),f.length===0?a.jsx("p",{className:"text-[13px] text-[#b8a990] text-center py-4",children:" "}):a.jsx("div",{className:"grid sm:grid-cols-3 gap-3",children:f.slice(0,3).map(ee=>{var ke,te;const xe=(ke=ee.images)!=null&&ke.length?ee.images[0].url:null;return a.jsxs("div",{onClick:()=>B(ee),className:"border border-[#e7e1da] rounded-xl overflow-hidden hover:shadow-sm hover:border-[#ff8c00]/40 transition-all cursor-pointer group",children:[xe?a.jsxs("div",{className:"h-24 bg-[#f5f3f0] overflow-hidden relative",children:[a.jsx(hp,{src:xe,alt:ee.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(((te=ee.images)==null?void 0:te.length)||0)>1&&a.jsxs("span",{className:"absolute top-1.5 left-1.5 bg-black/60 backdrop-blur-md text-white text-[9px] px-1.5 py-0.5 rounded-full flex items-center gap-0.5",children:[a.jsx(hh,{size:9})," ",ee.images.length]})]}):a.jsx("div",{className:"h-16 bg-[#f5f3f0] flex items-center justify-center",children:a.jsx(Fs,{size:20,className:"text-[#d0c8bb]"})}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"text-[13px] text-[#181510] group-hover:text-[#ff8c00] transition-colors flex items-center gap-1",style:{fontWeight:600},children:[ee.name,a.jsx(xh,{size:10,className:"text-[#b8a990] group-hover:text-[#ff8c00] transition-colors"})]}),a.jsx("div",{className:"text-[11px] text-[#8d785e] mt-1 line-clamp-2",children:ee.description}),a.jsxs("div",{className:"mt-2 text-[14px] text-[#181510]",style:{fontWeight:700},children:["",ee.price.toLocaleString(),a.jsxs("span",{className:"text-[11px] text-[#8d785e]",style:{fontWeight:400},children:["/",ee.unit]})]})]})]},ee.id)})})]})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsx("h3",{className:"text-[14px] text-[#181510] mb-3",style:{fontWeight:700},children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[28px] text-[#181510]",style:{fontWeight:800},children:i.rating}),a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(ee=>a.jsx("span",{className:`text-[18px] ${ee<=i.rating?"text-[#ff8c00]":"text-[#ddd6cb]"}`,children:""},ee))})]})]}),a.jsx(zpe,{supplier:i,onUpdate:ee=>s(ee)}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>n("docs"),className:"text-[11px] text-[#ff8c00]",style:{fontWeight:600},children:" "})]}),(()=>{const ee=[" "," ","  '"],xe=ke=>{if(!ke)return"expired";const te=new Date(ke),ue=new Date;return te<ue?"expired":(te.getTime()-ue.getTime())/864e5<60?"warning":"valid"};return a.jsx("div",{className:"space-y-2",children:ee.map(ke=>{const te=m.find(de=>de.name===ke),ue=te?xe(te.expiry):null;return a.jsxs("div",{className:`flex items-center justify-between p-2.5 rounded-lg border ${te?ue==="expired"?"bg-red-50 border-red-200":ue==="warning"?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200":"bg-[#f8f7f5] border-dashed border-[#d4cdc3]"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[te?ue==="valid"?a.jsx(Xr,{size:13,className:"text-green-500"}):ue==="warning"?a.jsx(Pn,{size:13,className:"text-yellow-500"}):a.jsx(Pn,{size:13,className:"text-red-500"}):a.jsx(Is,{size:13,className:"text-[#b8a990]"}),a.jsx("span",{className:"text-[12px] text-[#181510]",style:{fontWeight:500},children:ke})]}),te?a.jsx("span",{className:`text-[10px] ${ue==="expired"?"text-red-500":ue==="warning"?"text-yellow-600":"text-green-600"}`,style:{fontWeight:600},children:new Date(te.expiry).toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"})}):a.jsx("span",{className:"text-[10px] text-[#b8a990]",style:{fontWeight:600},children:""})]},ke)})})})()]})]})]}),r==="contacts"&&a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["  (",o.length,")"]}),a.jsxs("button",{onClick:()=>N(!0),className:"text-[13px] text-[#ff8c00] flex items-center gap-1",style:{fontWeight:600},children:[a.jsx($r,{size:14}),"   "]})]}),o.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Pa,{size:32,className:"text-[#d0c8bb]"})}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  "}),a.jsx("button",{onClick:()=>N(!0),className:"mt-2 text-[13px] text-[#ff8c00]",style:{fontWeight:600},children:"   "})]}):a.jsx("div",{className:"space-y-3",children:o.map(ee=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-[#e7e1da] rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-[14px] text-white ${ee.primary?"bg-green-500":"bg-[#ff8c00]"}`,style:{fontWeight:600},children:ye(ee.name)}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:[ee.name,ee.primary&&a.jsx("span",{className:"text-[10px] text-green-600 bg-green-50 px-2 py-0.5 rounded-full mr-2",style:{fontWeight:600},children:""})]}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:ee.role})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-[12px] text-[#8d785e]",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yg,{size:12}),ee.phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hj,{size:12}),ee.email]})]}),a.jsx("button",{onClick:()=>ie(ee.id),className:"text-[#c4b89a] hover:text-red-500 transition-colors",children:a.jsx(Un,{size:14})})]})]},ee.id))})]}),r==="products"&&a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["  (",f.length,")"]}),a.jsxs("button",{onClick:()=>C(!0),className:"text-[13px] text-[#ff8c00] flex items-center gap-1",style:{fontWeight:600},children:[a.jsx($r,{size:14}),"  "]})]}),f.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Fs,{size:32,className:"text-[#d0c8bb]"})}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:" "}),a.jsx("button",{onClick:()=>C(!0),className:"mt-2 text-[13px] text-[#ff8c00]",style:{fontWeight:600},children:"  "})]}):a.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:f.map(ee=>{var te;const xe=((te=ee.images)==null?void 0:te.length)||0,ke=xe>0?ee.images[0].url:Wpe;return a.jsxs("div",{onClick:()=>B(ee),className:"border border-[#e7e1da] rounded-xl overflow-hidden hover:shadow-lg hover:border-[#ff8c00]/40 transition-all group relative cursor-pointer",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),G(ee.id)},className:"absolute top-2 left-2 z-10 w-7 h-7 bg-white/90 rounded-full flex items-center justify-center text-[#c4b89a] hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all shadow-sm",children:a.jsx(Un,{size:12})}),a.jsxs("div",{className:"absolute top-2 right-2 z-10 bg-[#ff8c00] text-white text-[10px] px-2 py-0.5 rounded-full flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all shadow-sm",style:{fontWeight:600},children:[a.jsx(xh,{size:10})," "]}),a.jsxs("div",{className:"h-32 bg-[#f5f3f0] flex items-center justify-center relative overflow-hidden",children:[a.jsx(hp,{src:ke,alt:ee.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),xe>1&&a.jsxs("span",{className:"absolute top-2 left-2 bg-black/60 backdrop-blur-md text-white text-[10px] px-2 py-0.5 rounded-full flex items-center gap-1",children:[a.jsx(hh,{size:10})," ",xe]}),a.jsxs("span",{className:"absolute bottom-2 left-2 text-[12px] bg-white/90 backdrop-blur-sm text-[#181510] px-2 py-0.5 rounded-md shadow-sm",style:{fontWeight:700},children:["",ee.price.toLocaleString(),"/",ee.unit]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"text-[14px] text-[#181510] group-hover:text-[#ff8c00] transition-colors",style:{fontWeight:600},children:ee.name}),a.jsx("div",{className:"text-[12px] text-[#8d785e] mt-1 line-clamp-2",children:ee.description})]})]},ee.id)})})]}),r==="docs"&&(()=>{const ee=[{key:" ",icon:"",shieldIcon:eE},{key:" ",icon:"",shieldIcon:eE},{key:"  '",icon:"",shieldIcon:pj}],xe=ue=>{if(!ue)return"expired";const de=new Date(ue),Re=new Date;return de<Re?"expired":(de.getTime()-Re.getTime())/(1e3*60*60*24)<60?"warning":"valid"},ke=ue=>ue?new Date(ue).toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"}):"",te=async(ue,de,Re)=>{if(!(!t||!de))try{D(ue);const Me=xe(de),Ye=m.find(qe=>qe.name===ue);if(Ye){const qe=await Uu.update(t,Ye.id,{expiry:de,status:Me,fileName:Re});p(he=>he.map(Fe=>Fe.id===Ye.id?qe:Fe))}else{const qe=await Uu.create(t,{name:ue,expiry:de,status:Me,fileName:Re});p(he=>[...he,qe])}We.success("  ",`${ue}    ${ke(de)}`)}catch(Me){console.error("[SupplierDetail] doc upload error:",Me),We.error("  ")}finally{D(null)}};return a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>n("docs"),className:"w-9 h-9 rounded-lg bg-[#f5f3f0] hover:bg-[#ece8e3] flex items-center justify-center transition-colors",title:"",children:a.jsx(Is,{size:16,className:"text-[#8d785e]"})})]}),a.jsx("div",{className:"space-y-4",children:ee.map(({key:ue,shieldIcon:de})=>{const Re=m.find(Q=>Q.name===ue),Me=!!Re,Ye=Me?xe(Re.expiry):null,qe=Ye==="expired",he=Ye==="warning",Fe=R===ue,Je=I===ue;return a.jsxs("div",{children:[a.jsxs("div",{className:`relative rounded-2xl border-2 p-5 transition-all ${Me?qe?"border-red-200 bg-gradient-to-l from-red-50 to-red-50/30":he?"border-yellow-200 bg-gradient-to-l from-yellow-50 to-yellow-50/30":"border-green-200 bg-gradient-to-l from-green-50 to-green-50/30":"border-dashed border-[#d4cdc3] bg-[#faf9f7] hover:border-[#ff8c00]/40 hover:bg-[#fffaf3] cursor-pointer"}`,onClick:()=>{!Me&&!Fe&&(A(ue),$(""))},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${Me?qe?"bg-red-100":he?"bg-yellow-100":"bg-green-100":"bg-[#ece8e3]"}`,children:Me?qe?a.jsx(Pn,{size:18,className:"text-red-500"}):a.jsx(Xr,{size:18,className:he?"text-yellow-500":"text-green-600"}):a.jsx(Is,{size:18,className:"text-[#8d785e]"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:ue}),Me?a.jsx("div",{className:`text-[13px] mt-0.5 ${qe?"text-red-500":he?"text-yellow-600":"text-green-600"}`,style:{fontWeight:500},children:qe?`  -${ke(Re.expiry)}`:` : ${ke(Re.expiry)}`}):a.jsx("div",{className:"text-[13px] text-[#b8a990] mt-0.5",children:"    "})]})]}),a.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0 ${Me?qe?"bg-red-100":he?"bg-yellow-100":"bg-green-100":"bg-[#ece8e3]"}`,children:Me?qe?a.jsx(BI,{size:22,className:"text-red-500"}):a.jsx(de,{size:22,className:he?"text-yellow-500":"text-green-600"}):a.jsx(pj,{size:22,className:"text-[#b8a990]"})})]}),Me&&Re.fileName&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 mr-14",children:[a.jsx(Er,{size:12,className:"text-[#8d785e]"}),a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:Re.fileName})]}),Me&&!Fe&&a.jsxs("div",{className:"flex items-center gap-2 mt-3 mr-14",children:[a.jsxs("button",{onClick:Q=>{Q.stopPropagation(),A(ue),$(Re.expiry)},className:"text-[11px] text-[#ff8c00] hover:text-[#e67e00] transition-colors flex items-center gap-1",style:{fontWeight:600},children:[a.jsx(_c,{size:12}),"  "]}),a.jsx("span",{className:"text-[#e7e1da]",children:"|"}),a.jsxs("label",{className:"text-[11px] text-[#ff8c00] hover:text-[#e67e00] transition-colors flex items-center gap-1 cursor-pointer",style:{fontWeight:600},children:[a.jsx(Is,{size:12}),"  ",a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:Q=>{var ne;const pe=(ne=Q.target.files)==null?void 0:ne[0];pe&&te(ue,Re.expiry,pe.name),Q.target.value=""}})]})]})]}),Fe&&a.jsxs("div",{className:"mt-3 bg-[#f8f7f5] border border-[#e7e1da] rounded-xl p-4 space-y-3",children:[a.jsx("div",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:Me?`   ${ue}`:` ${ue}`}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#8d785e] mb-1",style:{fontWeight:600},children:" "}),a.jsx("input",{type:"date",value:E,onChange:Q=>$(Q.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] focus:ring-2 focus:ring-[#ff8c00]/10 transition-all"})]}),!Me&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#8d785e] mb-1",style:{fontWeight:600},children:" "}),a.jsxs("label",{className:"flex items-center gap-2 bg-white border border-[#e7e1da] hover:border-[#ff8c00]/40 rounded-lg px-3 py-2.5 cursor-pointer transition-colors",children:[a.jsx(Is,{size:14,className:"text-[#8d785e]"}),a.jsx("span",{className:"text-[13px] text-[#8d785e]",children:" ..."}),a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden",onChange:Q=>{var ne;const pe=(ne=Q.target.files)==null?void 0:ne[0];pe&&E?(te(ue,E,pe.name),A(null),$("")):pe&&!E&&We.warning("     "),Q.target.value=""}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Me&&a.jsxs("button",{onClick:()=>{E&&(te(ue,E,Re.fileName||""),A(null),$(""))},disabled:!E||Je,className:"text-[12px] text-white bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 px-4 py-2 rounded-lg transition-colors flex items-center gap-1.5",style:{fontWeight:600},children:[Je?a.jsx(vt,{size:13,className:"animate-spin"}):a.jsx(vp,{size:13}),Je?"...":""]}),a.jsx("button",{onClick:()=>{A(null),$("")},className:"text-[12px] text-[#8d785e] hover:text-[#181510] px-3 py-2 rounded-lg transition-colors",style:{fontWeight:600},children:""})]})]})]},ue)})}),m.filter(ue=>![" "," ","  '"].includes(ue.name)).length>0&&a.jsxs("div",{className:"mt-6 pt-5 border-t border-[#e7e1da]",children:[a.jsx("h4",{className:"text-[14px] text-[#181510] mb-3",style:{fontWeight:600},children:" "}),a.jsx("div",{className:"space-y-2",children:m.filter(ue=>![" "," ","  '"].includes(ue.name)).map(ue=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${ue.status==="expired"?"bg-red-50 border-red-200":ue.status==="warning"?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Er,{size:15,className:ue.status==="expired"?"text-red-500":ue.status==="warning"?"text-yellow-500":"text-green-500"}),a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:500},children:ue.name})]}),a.jsx("span",{className:`text-[12px] ${ue.status==="expired"?"text-red-500":ue.status==="warning"?"text-yellow-600":"text-green-600"}`,style:{fontWeight:600},children:ke(ue.expiry)})]},ue.id))})]})]})})(),_&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{N(!1),F.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:"  "}),a.jsx("button",{onClick:()=>{N(!1),F.reset()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:F.handleSubmit(U),className:"space-y-3",children:[a.jsx(At,{label:" ",placeholder:" ",required:!0,error:F.formState.errors.contactName,isDirty:F.formState.dirtyFields.contactName,...F.register("contactName",Ft.requiredMin("",2))}),a.jsx(At,{label:"",placeholder:"",required:!0,error:F.formState.errors.contactRole,isDirty:F.formState.dirtyFields.contactRole,...F.register("contactRole",Ft.required(""))}),a.jsx(At,{label:"",placeholder:"05X-XXXXXXX",error:F.formState.errors.contactPhone,isDirty:F.formState.dirtyFields.contactPhone,...F.register("contactPhone",Ft.israeliPhone(!0))}),a.jsx(At,{label:"",placeholder:"email@example.com",error:F.formState.errors.contactEmail,isDirty:F.formState.dirtyFields.contactEmail,...F.register("contactEmail",Ft.email(!0))}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:j||!F.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[j?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx($r,{size:16}),j?"...":""]}),a.jsx("button",{type:"button",onClick:()=>{N(!1),F.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),k&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{C(!1),K.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:"  / "}),a.jsx("button",{onClick:()=>{C(!1),K.reset()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:K.handleSubmit(se),className:"space-y-3",children:[a.jsx(At,{label:" ",placeholder:":  ",required:!0,error:K.formState.errors.productName,isDirty:K.formState.dirtyFields.productName,...K.register("productName",Ft.requiredMin(" ",2))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(At,{label:"",type:"number",placeholder:"",required:!0,error:K.formState.errors.productPrice,isDirty:K.formState.dirtyFields.productPrice,...K.register("productPrice",Ft.positivePrice(""))}),a.jsx(At,{label:"",placeholder:" /  / ",error:K.formState.errors.productUnit,isDirty:K.formState.dirtyFields.productUnit,...K.register("productUnit")})]}),a.jsx(At,{label:"",placeholder:" ...",error:K.formState.errors.productDescription,isDirty:K.formState.dirtyFields.productDescription,...K.register("productDescription")}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:j||!K.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[j?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx($r,{size:16}),j?"...":" "]}),a.jsx("button",{type:"button",onClick:()=>{C(!1),K.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),W&&t&&a.jsx($pe,{product:W,supplierId:t,isOpen:!!W,onClose:()=>B(null),onUpdate:Y}),q&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{J(!1)},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>{J(!1)},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-[14px] text-[#8d785e]",children:["       ",a.jsx("strong",{className:"text-[#181510]",children:i==null?void 0:i.name})," ?      ,       ."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:oe,disabled:X,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[X?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(dl,{size:16}),X?"...":" "]}),a.jsx("button",{type:"button",onClick:()=>{J(!1)},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})})]})}function Vpe(){const e=Fr(),[t,r]=O.useState([]),[n,i]=O.useState(!0),[s,o]=O.useState(""),[c,f]=O.useState(null),h=async()=>{try{i(!0);const x=await zr.list();r(x.filter(v=>v.category===""))}catch(x){console.error("[SupplierArchive] Failed to load:",x),We.error("   ")}finally{i(!1)}};O.useEffect(()=>{h()},[]);const m=async x=>{try{f(x.id),await zr.update(x.id,{category:"",categoryColor:"#8d785e"}),r(v=>v.filter(j=>j.id!==x.id)),We.success("  ",`${x.name}   `)}catch(v){console.error("[SupplierArchive] Failed to restore:",v),We.error("  ")}finally{f(null)}},p=t.filter(x=>!s||x.name.includes(s)||x.region.includes(s));return a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsx("div",{className:"w-10 h-10 bg-[#94a3b8]/10 rounded-xl flex items-center justify-center",children:a.jsx(dl,{size:20,className:"text-[#94a3b8]"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-[26px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsxs("p",{className:"text-[13px] text-[#8d785e]",children:[t.length,"  "]})]})]})}),a.jsxs("div",{className:"relative mb-5",children:[a.jsx(ho,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),a.jsx("input",{value:s,onChange:x=>o(x.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-xl pr-10 pl-4 py-3 text-[14px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] transition-all",placeholder:" ..."})]}),n?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-[#e7e1da]",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:" ..."})]}):p.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl border border-[#e7e1da]",children:[a.jsx(dl,{size:48,className:"text-[#d0c8bb] mb-4"}),a.jsx("p",{className:"text-[18px] text-[#181510] mb-1",style:{fontWeight:600},children:t.length===0?" ":"  "}),a.jsx("p",{className:"text-[13px] text-[#8d785e] mb-4",children:t.length===0?"    ":"   "}),a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[13px] text-[#ff8c00] hover:text-[#e67e00] transition-colors",style:{fontWeight:600},children:"  "})]}):a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da]",children:["","","","",""].map(x=>a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e] whitespace-nowrap",style:{fontWeight:600},children:x},x))})}),a.jsx("tbody",{children:p.map(x=>a.jsxs("tr",{className:"border-b border-[#ece8e3] hover:bg-[#f5f3f0]/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#94a3b8]/10 flex items-center justify-center text-[16px]",children:x.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:x.name}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:x.notes!=="-"?x.notes:""})]})]})}),a.jsx("td",{className:"p-3 text-[13px] text-[#6b5d45]",children:x.region}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:x.rating}),a.jsx("div",{className:"flex",children:[1,2,3,4,5].map(v=>a.jsx(dx,{size:12,fill:v<=x.rating?"#ff8c00":"none",className:v<=x.rating?"text-[#ff8c00]":"text-[#ddd6cb]"},v))})]})}),a.jsx("td",{className:"p-3 text-[13px] text-[#6b5d45]",children:x.phone}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>e(`/suppliers/${x.id}`),className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",title:"",children:a.jsx(_a,{size:15})}),a.jsxs("button",{onClick:()=>m(x),disabled:c===x.id,className:"flex items-center gap-1.5 text-[12px] text-green-600 hover:text-green-700 bg-green-50 hover:bg-green-100 disabled:opacity-50 px-3 py-1.5 rounded-lg transition-all",style:{fontWeight:600},children:[c===x.id?a.jsx(vt,{size:13,className:"animate-spin"}):a.jsx(EI,{size:13}),c===x.id?"...":""]})]})})]},x.id))})]})}),a.jsx("div",{className:"p-3 bg-[#f5f3f0] border-t border-[#e7e1da]",children:a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[p.length,"  "]})})]})]})}var Wg={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var qpe=Wg.exports,zR;function Hpe(){return zR||(zR=1,(function(e,t){((r,n)=>{e.exports=n()})(qpe,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},f=0,h={};function m(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var W=A(D);W.chunkSize=parseInt(W.chunkSize),D.step||D.chunk||(W.chunkSize=null),this._handle=new S(W),(this._handle.streamer=this)._config=W}).call(this,I),this.parseChunk=function(D,W){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let J=this._config.newline;J||(q=this._config.quoteChar||'"',J=this._handle.guessLineEndings(D,q)),D=[...D.split(J).slice(B)].join(J)}this.isFirstChunk&&$(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(D))!==void 0&&(D=q),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+D,q=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=q.meta.cursor,B=(this._finished||(this._partialLine=B.substring(D-this._baseIndex),this._baseIndex=D),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:q,workerId:h.WORKER_ID,finished:B});else if($(this._config.chunk)&&!W){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!B||!$(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(D){$(this._config.error)?this._config.error(D):o&&this._config.error&&n.postMessage({workerId:h.WORKER_ID,error:D,finished:!1})}}function p(I){var D;(I=I||{}).chunkSize||(I.chunkSize=h.RemoteChunkSize),m.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),s||(D.onload=E(this._chunkLoaded,this),D.onerror=E(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var W,B=this._config.downloadRequestHeaders;for(W in B)D.setRequestHeader(W,B[W])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+q));try{D.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}s&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(W){W=D.statusText||W,this._sendError(new Error(W))}}function x(I){(I=I||{}).chunkSize||(I.chunkSize=h.LocalChunkSize),m.call(this,I);var D,W,B=typeof FileReader<"u";this.stream=function(q){this._input=q,W=q.slice||q.webkitSlice||q.mozSlice,B?((D=new FileReader).onload=E(this._chunkLoaded,this),D.onerror=E(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),q=W.call(q,this._start,J)),D.readAsText(q,this._config.encoding));B||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(D.error)}}function v(I){var D;m.call(this,I=I||{}),this.stream=function(W){return D=W,this._nextChunk()},this._nextChunk=function(){var W,B;if(!this._finished)return W=this._config.chunkSize,D=W?(B=D.substring(0,W),D.substring(W)):(B=D,""),this._finished=!D,this.parseChunk(B)}}function j(I){m.call(this,I=I||{});var D=[],W=!0,B=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):W=!0},this._streamData=E(function(q){try{D.push(typeof q=="string"?q:q.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(J){this._streamError(J)}},this),this._streamError=E(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=E(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(I){var D,W,B,q,J=Math.pow(2,53),X=-J,Z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,U=0,ie=0,se=!1,G=!1,Y=[],oe={data:[],errors:[],meta:{}};function _e(ye){return I.skipEmptyLines==="greedy"?ye.join("").trim()==="":ye.length===1&&ye[0].length===0}function Ce(){if(oe&&B&&(Be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),B=!1),I.skipEmptyLines&&(oe.data=oe.data.filter(function(te){return!_e(te)})),Ne()){let te=function(ue,de){$(I.transformHeader)&&(ue=I.transformHeader(ue,de)),Y.push(ue)};var ke=te;if(oe)if(Array.isArray(oe.data[0])){for(var ye=0;Ne()&&ye<oe.data.length;ye++)oe.data[ye].forEach(te);oe.data.splice(0,1)}else oe.data.forEach(te)}function ee(te,ue){for(var de=I.header?{}:[],Re=0;Re<te.length;Re++){var Me=Re,Ye=te[Re],Ye=((qe,he)=>(Fe=>(I.dynamicTypingFunction&&I.dynamicTyping[Fe]===void 0&&(I.dynamicTyping[Fe]=I.dynamicTypingFunction(Fe)),(I.dynamicTyping[Fe]||I.dynamicTyping)===!0))(qe)?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&((Fe=>{if(Z.test(Fe)&&(Fe=parseFloat(Fe),X<Fe&&Fe<J))return 1})(he)?parseFloat(he):F.test(he)?new Date(he):he===""?null:he):he)(Me=I.header?Re>=Y.length?"__parsed_extra":Y[Re]:Me,Ye=I.transform?I.transform(Ye,Me):Ye);Me==="__parsed_extra"?(de[Me]=de[Me]||[],de[Me].push(Ye)):de[Me]=Ye}return I.header&&(Re>Y.length?Be("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+Re,ie+ue):Re<Y.length&&Be("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+Re,ie+ue)),de}var xe;oe&&(I.header||I.dynamicTyping||I.transform)&&(xe=1,!oe.data.length||Array.isArray(oe.data[0])?(oe.data=oe.data.map(ee),xe=oe.data.length):oe.data=ee(oe.data,0),I.header&&oe.meta&&(oe.meta.fields=Y),ie+=xe)}function Ne(){return I.header&&Y.length===0}function Be(ye,ee,xe,ke){ye={type:ye,code:ee,message:xe},ke!==void 0&&(ye.row=ke),oe.errors.push(ye)}$(I.step)&&(q=I.step,I.step=function(ye){oe=ye,Ne()?Ce():(Ce(),oe.data.length!==0&&(U+=ye.data.length,I.preview&&U>I.preview?W.abort():(oe.data=oe.data[0],q(oe,K))))}),this.parse=function(ye,ee,xe){var ke=I.quoteChar||'"',ke=(I.newline||(I.newline=this.guessLineEndings(ye,ke)),B=!1,I.delimiter?$(I.delimiter)&&(I.delimiter=I.delimiter(ye),oe.meta.delimiter=I.delimiter):((ke=((te,ue,de,Re,Me)=>{var Ye,qe,he,Fe;Me=Me||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var Je=0;Je<Me.length;Je++){for(var Q,pe=Me[Je],ne=0,je=0,Ae=0,Pe=(he=void 0,new N({comments:Re,delimiter:pe,newline:ue,preview:10}).parse(te)),Le=0;Le<Pe.data.length;Le++)de&&_e(Pe.data[Le])?Ae++:(Q=Pe.data[Le].length,je+=Q,he===void 0?he=Q:0<Q&&(ne+=Math.abs(Q-he),he=Q));0<Pe.data.length&&(je/=Pe.data.length-Ae),(qe===void 0||ne<=qe)&&(Fe===void 0||Fe<je)&&1.99<je&&(qe=ne,Ye=pe,Fe=je)}return{successful:!!(I.delimiter=Ye),bestDelimiter:Ye}})(ye,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=ke.bestDelimiter:(B=!0,I.delimiter=h.DefaultDelimiter),oe.meta.delimiter=I.delimiter),A(I));return I.preview&&I.header&&ke.preview++,D=ye,W=new N(ke),oe=W.parse(D,ee,xe),Ce(),se?{meta:{paused:!0}}:oe||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,W.abort(),D=$(I.chunk)?"":D.substring(W.getCharIndex())},this.resume=function(){K.streamer._halted?(se=!1,K.streamer.parseChunk(D,!0)):setTimeout(K.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,W.abort(),oe.meta.aborted=!0,$(I.complete)&&I.complete(oe),D=""},this.guessLineEndings=function(te,ke){te=te.substring(0,1048576);var ke=new RegExp(_(ke)+"([^]*?)"+_(ke),"gm"),xe=(te=te.replace(ke,"")).split("\r"),ke=te.split(`
`),te=1<ke.length&&ke[0].length<xe[0].length;if(xe.length===1||te)return`
`;for(var ue=0,de=0;de<xe.length;de++)xe[de][0]===`
`&&ue++;return ue>=xe.length/2?`\r
`:"\r"}}function _(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(I){var D=(I=I||{}).delimiter,W=I.newline,B=I.comments,q=I.step,J=I.preview,X=I.fastMode,Z=null,F=!1,K=I.quoteChar==null?'"':I.quoteChar,U=K;if(I.escapeChar!==void 0&&(U=I.escapeChar),(typeof D!="string"||-1<h.BAD_DELIMITERS.indexOf(D))&&(D=","),B===D)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<h.BAD_DELIMITERS.indexOf(B))&&(B=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var ie=0,se=!1;this.parse=function(G,Y,oe){if(typeof G!="string")throw new Error("Input must be a string");var _e=G.length,Ce=D.length,Ne=W.length,Be=B.length,ye=$(q),ee=[],xe=[],ke=[],te=ie=0;if(!G)return ne();if(X||X!==!1&&G.indexOf(K)===-1){for(var ue=G.split(W),de=0;de<ue.length;de++){if(ke=ue[de],ie+=ke.length,de!==ue.length-1)ie+=W.length;else if(oe)return ne();if(!B||ke.substring(0,Be)!==B){if(ye){if(ee=[],Fe(ke.split(D)),je(),se)return ne()}else Fe(ke.split(D));if(J&&J<=de)return ee=ee.slice(0,J),ne(!0)}}return ne()}for(var Re=G.indexOf(D,ie),Me=G.indexOf(W,ie),Ye=new RegExp(_(U)+_(K),"g"),qe=G.indexOf(K,ie);;)if(G[ie]===K)for(qe=ie,ie++;;){if((qe=G.indexOf(K,qe+1))===-1)return oe||xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ee.length,index:ie}),Q();if(qe===_e-1)return Q(G.substring(ie,qe).replace(Ye,K));if(K===U&&G[qe+1]===U)qe++;else if(K===U||qe===0||G[qe-1]!==U){Re!==-1&&Re<qe+1&&(Re=G.indexOf(D,qe+1));var he=Je((Me=Me!==-1&&Me<qe+1?G.indexOf(W,qe+1):Me)===-1?Re:Math.min(Re,Me));if(G.substr(qe+1+he,Ce)===D){ke.push(G.substring(ie,qe).replace(Ye,K)),G[ie=qe+1+he+Ce]!==K&&(qe=G.indexOf(K,ie)),Re=G.indexOf(D,ie),Me=G.indexOf(W,ie);break}if(he=Je(Me),G.substring(qe+1+he,qe+1+he+Ne)===W){if(ke.push(G.substring(ie,qe).replace(Ye,K)),pe(qe+1+he+Ne),Re=G.indexOf(D,ie),qe=G.indexOf(K,ie),ye&&(je(),se))return ne();if(J&&ee.length>=J)return ne(!0);break}xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ee.length,index:ie}),qe++}}else if(B&&ke.length===0&&G.substring(ie,ie+Be)===B){if(Me===-1)return ne();ie=Me+Ne,Me=G.indexOf(W,ie),Re=G.indexOf(D,ie)}else if(Re!==-1&&(Re<Me||Me===-1))ke.push(G.substring(ie,Re)),ie=Re+Ce,Re=G.indexOf(D,ie);else{if(Me===-1)break;if(ke.push(G.substring(ie,Me)),pe(Me+Ne),ye&&(je(),se))return ne();if(J&&ee.length>=J)return ne(!0)}return Q();function Fe(Ae){ee.push(Ae),te=ie}function Je(Ae){var Pe=0;return Pe=Ae!==-1&&(Ae=G.substring(qe+1,Ae))&&Ae.trim()===""?Ae.length:Pe}function Q(Ae){return oe||(Ae===void 0&&(Ae=G.substring(ie)),ke.push(Ae),ie=_e,Fe(ke),ye&&je()),ne()}function pe(Ae){ie=Ae,Fe(ke),ke=[],Me=G.indexOf(W,ie)}function ne(Ae){if(I.header&&!Y&&ee.length&&!F){var Pe=ee[0],Le=Object.create(null),pt=new Set(Pe);let Et=!1;for(let Nt=0;Nt<Pe.length;Nt++){let Ht=Pe[Nt];if(Le[Ht=$(I.transformHeader)?I.transformHeader(Ht,Nt):Ht]){let wr,dn=Le[Ht];for(;wr=Ht+"_"+dn,dn++,pt.has(wr););pt.add(wr),Pe[Nt]=wr,Le[Ht]++,Et=!0,(Z=Z===null?{}:Z)[wr]=Ht}else Le[Ht]=1,Pe[Nt]=Ht;pt.add(Ht)}Et&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:ee,errors:xe,meta:{delimiter:D,linebreak:W,aborted:se,truncated:!!Ae,cursor:te+(Y||0),renamedHeaders:Z}}}function je(){q(ne()),ee=[],xe=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return ie}}function k(I){var D=I.data,W=c[D.workerId],B=!1;if(D.error)W.userError(D.error,D.file);else if(D.results&&D.results.data){var q={abort:function(){B=!0,C(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if($(W.userStep)){for(var J=0;J<D.results.data.length&&(W.userStep({data:D.results.data[J],errors:D.results.errors,meta:D.results.meta},q),!B);J++);delete D.results}else $(W.userChunk)&&(W.userChunk(D.results,q,D.file),delete D.results)}D.finished&&!B&&C(D.workerId,D.results)}function C(I,D){var W=c[I];$(W.userComplete)&&W.userComplete(D),W.terminate(),delete c[I]}function R(){throw new Error("Not implemented.")}function A(I){if(typeof I!="object"||I===null)return I;var D,W=Array.isArray(I)?[]:{};for(D in I)W[D]=A(I[D]);return W}function E(I,D){return function(){I.apply(D,arguments)}}function $(I){return typeof I=="function"}return h.parse=function(I,D){var W=(D=D||{}).dynamicTyping||!1;if($(W)&&(D.dynamicTypingFunction=W,W={}),D.dynamicTyping=W,D.transform=!!$(D.transform)&&D.transform,!D.worker||!h.WORKERS_SUPPORTED)return W=null,h.NODE_STREAM_INPUT,typeof I=="string"?(I=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(I),W=new(D.download?p:v)(D)):I.readable===!0&&$(I.read)&&$(I.on)?W=new j(D):(n.File&&I instanceof File||I instanceof Object)&&(W=new x(D)),W.stream(I);(W=(()=>{var B;return!!h.WORKERS_SUPPORTED&&(B=(()=>{var q=n.URL||n.webkitURL||null,J=r.toString();return h.BLOB_URL||(h.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(B=new n.Worker(B)).onmessage=k,B.id=f++,c[B.id]=B)})()).userStep=D.step,W.userChunk=D.chunk,W.userComplete=D.complete,W.userError=D.error,D.step=$(D.step),D.chunk=$(D.chunk),D.complete=$(D.complete),D.error=$(D.error),delete D.worker,W.postMessage({input:I,config:D,workerId:W.id})},h.unparse=function(I,D){var W=!1,B=!0,q=",",J=`\r
`,X='"',Z=X+X,F=!1,K=null,U=!1,ie=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||h.BAD_DELIMITERS.filter(function(Y){return D.delimiter.indexOf(Y)!==-1}).length||(q=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(W=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(F=D.skipEmptyLines),typeof D.newline=="string"&&(J=D.newline),typeof D.quoteChar=="string"&&(X=D.quoteChar),typeof D.header=="boolean"&&(B=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");K=D.columns}D.escapeChar!==void 0&&(Z=D.escapeChar+X),D.escapeFormulae instanceof RegExp?U=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(U=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(X),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return se(null,I,F);if(typeof I[0]=="object")return se(K||Object.keys(I[0]),I,F)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||K),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),se(I.fields||[],I.data||[],F);throw new Error("Unable to serialize unrecognized input");function se(Y,oe,_e){var Ce="",Ne=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof oe=="string"&&(oe=JSON.parse(oe)),Array.isArray(Y)&&0<Y.length),Be=!Array.isArray(oe[0]);if(Ne&&B){for(var ye=0;ye<Y.length;ye++)0<ye&&(Ce+=q),Ce+=G(Y[ye],ye);0<oe.length&&(Ce+=J)}for(var ee=0;ee<oe.length;ee++){var xe=(Ne?Y:oe[ee]).length,ke=!1,te=Ne?Object.keys(oe[ee]).length===0:oe[ee].length===0;if(_e&&!Ne&&(ke=_e==="greedy"?oe[ee].join("").trim()==="":oe[ee].length===1&&oe[ee][0].length===0),_e==="greedy"&&Ne){for(var ue=[],de=0;de<xe;de++){var Re=Be?Y[de]:de;ue.push(oe[ee][Re])}ke=ue.join("").trim()===""}if(!ke){for(var Me=0;Me<xe;Me++){0<Me&&!te&&(Ce+=q);var Ye=Ne&&Be?Y[Me]:Me;Ce+=G(oe[ee][Ye],Me)}ee<oe.length-1&&(!_e||0<xe&&!te)&&(Ce+=J)}}return Ce}function G(Y,oe){var _e,Ce;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(Ce=!1,U&&typeof Y=="string"&&U.test(Y)&&(Y="'"+Y,Ce=!0),_e=Y.toString().replace(ie,Z),(Ce=Ce||W===!0||typeof W=="function"&&W(Y,oe)||Array.isArray(W)&&W[oe]||((Ne,Be)=>{for(var ye=0;ye<Be.length;ye++)if(-1<Ne.indexOf(Be[ye]))return!0;return!1})(_e,h.BAD_DELIMITERS)||-1<_e.indexOf(q)||_e.charAt(0)===" "||_e.charAt(_e.length-1)===" ")?X+_e+X:_e)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!s&&!!n.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=N,h.ParserHandle=S,h.NetworkStreamer=p,h.FileStreamer=x,h.StringStreamer=v,h.ReadableStreamStreamer=j,n.jQuery&&((i=n.jQuery).fn.parse=function(I){var D=I.config||{},W=[];return this.each(function(J){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)W.push({file:this.files[X],inputElem:this,instanceConfig:i.extend({},D)})}),B(),this;function B(){if(W.length===0)$(I.complete)&&I.complete();else{var J,X,Z,F,K=W[0];if($(I.before)){var U=I.before(K.file,K.inputElem);if(typeof U=="object"){if(U.action==="abort")return J="AbortError",X=K.file,Z=K.inputElem,F=U.reason,void($(I.error)&&I.error({name:J},X,Z,F));if(U.action==="skip")return void q();typeof U.config=="object"&&(K.instanceConfig=i.extend(K.instanceConfig,U.config))}else if(U==="skip")return void q()}var ie=K.instanceConfig.complete;K.instanceConfig.complete=function(se){$(ie)&&ie(se,K.file,K.inputElem),q()},h.parse(K.file,K.instanceConfig)}}function q(){W.splice(0,1),B()}}),o&&(n.onmessage=function(I){I=I.data,h.WORKER_ID===void 0&&I&&(h.WORKER_ID=I.workerId),typeof I.input=="string"?n.postMessage({workerId:h.WORKER_ID,results:h.parse(I.input,I.config),finished:!0}):(n.File&&I.input instanceof File||I.input instanceof Object)&&(I=h.parse(I.input,I.config))&&n.postMessage({workerId:h.WORKER_ID,results:I,finished:!0})}),(p.prototype=Object.create(m.prototype)).constructor=p,(x.prototype=Object.create(m.prototype)).constructor=x,(v.prototype=Object.create(v.prototype)).constructor=v,(j.prototype=Object.create(m.prototype)).constructor=j,h})})(Wg)),Wg.exports}var Kpe=Hpe();const Gpe=rr(Kpe),Pg=[{key:"name",label:" ",required:!0},{key:"category",label:"",required:!1},{key:"phone",label:"",required:!1},{key:"email",label:"",required:!1},{key:"region",label:"",required:!1},{key:"notes",label:"",required:!1}],WR=[{id:1,label:" ",icon:Is},{id:2,label:" ",icon:LS},{id:3,label:" ",icon:_a},{id:4,label:" ",icon:Xr}];function Zpe(e){const t={},r=e.map(i=>i.toLowerCase().trim()),n=[["name",[/name|/i,/supplier|/i]],["category",[/categ||/i]],["phone",[/phone|||mobile/i]],["email",[/email|mail||/i]],["region",[/region|||city|/i]],["notes",[/note||comment/i]]];for(const[i,s]of n)for(const o of s){const c=r.findIndex(f=>o.test(f));if(c!==-1&&!Object.values(t).includes(e[c])){t[i]=e[c];break}}return t}function Ype(){const t=`\uFEFF ,,,,,
 ,,050-1234567,info@israeli-bus.co.il,, 
 ,,052-9876543,info@teamim.co.il,, 
 ,,054-5555555,fun@galil.co.il,, 
 ,,03-1112222,book@hayam.co.il,,5 `,r=new Blob([t],{type:"text/csv;charset=utf-8"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download="suppliers_template.csv",i.click(),URL.revokeObjectURL(n)}function Xpe(){const e=O.useMemo(()=>Array.from({length:50},(t,r)=>({id:r,x:Math.random()*100,delay:Math.random()*.5,duration:1.5+Math.random()*2,color:["#ff8c00","#22c55e","#3b82f6","#a855f7","#ec4899","#f59e0b"][Math.floor(Math.random()*6)],size:4+Math.random()*8,rotation:Math.random()*360})),[]);return a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:e.map(t=>a.jsx(Ke.div,{className:"absolute rounded-sm",style:{left:`${t.x}%`,top:-20,width:t.size,height:t.size,backgroundColor:t.color},initial:{y:-20,rotate:0,opacity:1},animate:{y:"110vh",rotate:t.rotation+720,opacity:[1,1,0]},transition:{duration:t.duration,delay:t.delay,ease:"easeIn"}},t.id))})}function Jpe(){const e=Fr(),[t,r]=O.useState(1),[n,i]=O.useState(null),[s,o]=O.useState([]),[c,f]=O.useState([]),[h,m]=O.useState(!1),[p,x]=O.useState(!1),v=O.useRef(null),[j,S]=O.useState({}),[_,N]=O.useState([]),[k,C]=O.useState([]),[R,A]=O.useState(!1),[E,$]=O.useState(0),I=10,[D,W]=O.useState(!1),[B,q]=O.useState(0),[J,X]=O.useState(null),[Z,F]=O.useState(!1),K=30,[U,ie]=O.useState([]),[se,G]=O.useState(0),[Y,oe]=O.useState(!1),[_e,Ce]=O.useState(!1),[Ne,Be]=O.useState(!1),[ye,ee]=O.useState(!1),xe=O.useRef(null);O.useEffect(()=>{se<=0&&xe.current&&(clearInterval(xe.current),xe.current=null,oe(!1))},[se]),O.useEffect(()=>()=>{xe.current&&clearInterval(xe.current)},[]);const ke=O.useCallback(()=>{G(K),oe(!0),ee(!1),xe.current&&clearInterval(xe.current),xe.current=setInterval(()=>{G(ne=>ne<=1?0:ne-1)},1e3)},[]),te=O.useCallback(async()=>{if(U.length!==0){Be(!0),Ce(!1);try{const ne=await zr.bulkRollback(U);ee(!0),oe(!1),G(0),xe.current&&(clearInterval(xe.current),xe.current=null),ie([]),We.success("  ",`${ne.deleted}   `)}catch(ne){console.error("[ImportWizard] Rollback error:",ne),We.error("  ",String(ne))}finally{Be(!1)}}},[U]),ue=O.useCallback(ne=>{m(!0),Gpe.parse(ne,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:je=>{const Ae=je.meta.fields||[],Pe=je.data;o(Ae),f(Pe);const Le=Zpe(Ae);S(Le),m(!1),r(2),We.success("  ",`${Pe.length} , ${Ae.length} `)},error:je=>{m(!1),console.error("[ImportWizard] Parse error:",je),We.error("  ",je.message)}})},[]),de=O.useCallback(ne=>{ne.preventDefault(),x(!1);const je=ne.dataTransfer.files[0];je&&(je.name.endsWith(".csv")||je.name.endsWith(".txt")||je.type==="text/csv")?(i(je),ue(je)):We.warning("   ","   CSV")},[ue]),Re=O.useCallback(ne=>{var Ae;const je=(Ae=ne.target.files)==null?void 0:Ae[0];je&&(i(je),ue(je))},[ue]),Me=O.useCallback(async()=>{A(!0);try{const ne=await zr.list();C(ne);const je=new Set(ne.map(Pe=>(Pe.name||"").trim().toLowerCase())),Ae=c.map((Pe,Le)=>{var Nt;const pt={_rowIdx:Le,_isDuplicate:!1,_action:"import"};for(const Ht of Pg){const wr=j[Ht.key];pt[Ht.key]=wr?(Pe[wr]||"").toString().trim():""}const Et=(pt.name||"").toLowerCase();return Et&&je.has(Et)&&(pt._isDuplicate=!0,pt._duplicateOf=(Nt=ne.find(Ht=>Ht.name.toLowerCase()===Et))==null?void 0:Nt.name,pt._action="skip"),pt});N(Ae.filter(Pe=>Pe.name)),$(0)}catch(ne){console.error("[ImportWizard] Duplicate check error:",ne),We.error("  ")}A(!1)},[c,j]),Ye=O.useCallback(async()=>{const ne=_.filter(je=>je._action!=="skip");if(ne.length===0){We.warning("  ","   ");return}W(!0),q(0);try{const je=setInterval(()=>{q(Le=>Math.min(Le+Math.random()*15,85))},200),Ae=ne.map(Le=>({name:Le.name,category:Le.category||"",phone:Le.phone||"",email:Le.email||"",region:Le.region||"",notes:Le.notes||"",_action:Le._action==="merge"?"merge":void 0})),Pe=await zr.bulkImport(Ae);clearInterval(je),q(100),await new Promise(Le=>setTimeout(Le,500)),X(Pe),F(!0),r(4),We.success("  !",`${Pe.imported}   `),Pe.suppliers&&Pe.suppliers.length>0&&(ie(Pe.suppliers.map(Le=>Le.id)),ke()),setTimeout(()=>F(!1),4e3)}catch(je){console.error("[ImportWizard] Import error:",je),We.error("  ",String(je))}finally{W(!1)}},[_]),qe=O.useCallback(ne=>ne===1?!!n&&c.length>0:ne===2?!!j.name:ne===3?_.length>0:!1,[n,c,j,_]),he=O.useCallback(ne=>{ne===3&&t===2?Me().then(()=>r(3)):(ne<=t||qe(ne-1))&&r(ne)},[t,qe,Me]),Fe=_.filter(ne=>ne._isDuplicate).length,Je=_.filter(ne=>ne._action!=="skip").length;_.filter(ne=>ne._action==="skip").length;const Q=_.slice(E*I,(E+1)*I),pe=Math.ceil(_.length/I);return a.jsxs("div",{className:"min-h-full bg-[#f8f7f5] font-['Assistant',sans-serif]",dir:"rtl",children:[Z&&a.jsx(Xpe,{}),a.jsx("div",{className:"bg-white border-b border-[#e7e1da] px-4 lg:px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx(LS,{size:16,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:"  "})]})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto p-4 lg:p-6 space-y-6",children:[a.jsxs(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center",children:[a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"      "}),a.jsxs("button",{onClick:Ype,className:"text-[13px] text-[#8d785e] flex items-center gap-1 mx-auto mt-2 hover:text-[#ff8c00] transition-colors",children:[a.jsx(Gg,{size:13}),"    (CSV)"]})]}),a.jsx("div",{className:"flex items-center justify-center gap-0 max-w-xl mx-auto",children:WR.map((ne,je)=>{const Ae=ne.icon,Pe=ne.id===t,Le=ne.id<t;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{(Le||ne.id===t)&&he(ne.id)},className:`flex flex-col items-center gap-1.5 ${Le?"cursor-pointer":"cursor-default"}`,children:[a.jsx(Ke.div,{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${Pe?"bg-[#ff8c00] text-white shadow-lg shadow-[#ff8c00]/30":Le?"bg-green-500 text-white":"bg-[#ddd6cb] text-[#8d785e]"}`,animate:Pe?{scale:[1,1.1,1]}:{},transition:{duration:.5,repeat:Pe?1/0:0,repeatDelay:2},children:Le?a.jsx(Xr,{size:18}):a.jsx(Ae,{size:18})}),a.jsx("span",{className:`text-[11px] ${Pe?"text-[#ff8c00]":"text-[#8d785e]"}`,style:{fontWeight:Pe?600:400},children:ne.label})]}),je<WR.length-1&&a.jsxs("div",{className:"flex-1 h-0.5 mx-2 relative overflow-hidden rounded",children:[a.jsx("div",{className:"absolute inset-0 bg-[#ddd6cb]"}),a.jsx(Ke.div,{className:"absolute inset-y-0 right-0 bg-green-400",initial:{width:"0%"},animate:{width:ne.id<t?"100%":"0%"},transition:{duration:.5,ease:"easeInOut"}})]})]},ne.id)})}),a.jsxs(ln,{mode:"wait",children:[t===1&&a.jsx(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:a.jsxs("div",{className:`relative bg-white rounded-2xl border-2 border-dashed p-12 text-center transition-all cursor-pointer
                  ${p?"border-[#ff8c00] bg-[#ff8c00]/5 scale-[1.02]":n?"border-green-400 bg-green-50/30":"border-[#d4cdc3] hover:border-[#ff8c00]/50 hover:bg-[#fffaf3]"}`,onDragOver:ne=>{ne.preventDefault(),x(!0)},onDragLeave:()=>x(!1),onDrop:de,onClick:()=>{var ne;return!n&&((ne=v.current)==null?void 0:ne.click())},children:[a.jsx("input",{ref:v,type:"file",accept:".csv,.txt",className:"hidden",onChange:Re}),h?a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(vt,{size:48,className:"animate-spin text-[#ff8c00]"}),a.jsx("p",{className:"text-[16px] text-[#181510]",style:{fontWeight:600},children:"  ..."})]}):n?a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:a.jsx(Er,{size:32,className:"text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:n.name}),a.jsxs("p",{className:"text-[13px] text-[#8d785e] mt-1",children:[c.length,"   ",s.length,"   ",(n.size/1024).toFixed(1)," KB"]})]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs("button",{onClick:ne=>{ne.stopPropagation(),r(2)},className:"flex items-center gap-1.5 text-[14px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-5 py-2.5 rounded-xl transition-colors",style:{fontWeight:600},children:["  ",a.jsx(Jf,{size:14})]}),a.jsxs("button",{onClick:ne=>{ne.stopPropagation(),i(null),o([]),f([]),S({}),v.current&&(v.current.value="")},className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] border border-[#e7e1da] px-3 py-2 rounded-xl hover:bg-[#f5f3f0] transition-colors",children:[a.jsx(Un,{size:13}),"  "]})]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Ke.div,{className:"w-20 h-20 bg-[#ff8c00]/10 rounded-2xl flex items-center justify-center",animate:p?{scale:1.15,rotate:5}:{scale:1,rotate:0},children:a.jsx(Is,{size:36,className:"text-[#ff8c00]"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:"  CSV "}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-1",children:"    "})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 mt-3",children:[a.jsx("span",{className:"text-[12px] text-[#b8a990] bg-[#f5f3f0] px-3 py-1 rounded-full",children:"CSV"}),a.jsx("span",{className:"text-[12px] text-[#b8a990] bg-[#f5f3f0] px-3 py-1 rounded-full",children:"UTF-8"}),a.jsx("span",{className:"text-[12px] text-[#b8a990] bg-[#f5f3f0] px-3 py-1 rounded-full",children:" "})]})]})]})},"step1"),t===2&&a.jsxs(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-5 shadow-sm",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510] flex items-center gap-2 mb-1",style:{fontWeight:700},children:[a.jsx(fj,{size:16,className:"text-[#ff8c00]"}),"   "]}),a.jsx("p",{className:"text-[12px] text-[#8d785e] mb-4",children:"     "}),a.jsx("div",{className:"space-y-3",children:Pg.map(ne=>a.jsxs("div",{children:[a.jsxs("label",{className:"text-[12px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:[ne.label," ",ne.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:j[ne.key]||"",onChange:je=>S(Ae=>({...Ae,[ne.key]:je.target.value})),className:`w-full appearance-none border rounded-lg px-3 py-2.5 text-[13px] bg-white focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] transition-all ${j[ne.key]?"border-green-300 bg-green-50/30":ne.required?"border-red-300":"border-[#e7e1da]"}`,children:[a.jsx("option",{value:"",children:"   "}),s.map(je=>a.jsx("option",{value:je,children:je},je))]}),a.jsx(IS,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#8d785e] pointer-events-none"})]}),j[ne.key]&&a.jsxs(Ke.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-[11px] text-green-600 mt-0.5 flex items-center gap-1",children:[a.jsx(Xr,{size:10}),'  -"',j[ne.key],'"']})]},ne.key))}),!j.name&&a.jsxs("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(Pn,{size:14,className:"text-red-500 shrink-0"}),a.jsx("span",{className:"text-[12px] text-red-700",style:{fontWeight:500},children:' " "  '})]}),a.jsxs("button",{onClick:()=>he(3),disabled:!j.name||R,className:"w-full mt-4 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl text-[14px] transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:[R?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(_a,{size:16}),R?" ...":"  "]})]}),a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-[#e7e1da] p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510] flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(_a,{size:16,className:"text-[#ff8c00]"}),"   (5  )"]}),a.jsxs("span",{className:"text-[12px] text-[#8d785e] bg-[#f5f3f0] px-2.5 py-1 rounded-full",children:[c.length,"  "]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da]",children:[a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e]",style:{fontWeight:600},children:"#"}),Pg.filter(ne=>j[ne.key]).map(ne=>a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e]",style:{fontWeight:600},children:ne.label},ne.key))]})}),a.jsx("tbody",{children:c.slice(0,5).map((ne,je)=>a.jsxs(Ke.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:je*.05},className:"border-b border-[#ece8e3] hover:bg-[#faf9f7]",children:[a.jsx("td",{className:"p-3 text-[12px] text-[#b8a990]",children:je+1}),Pg.filter(Ae=>j[Ae.key]).map(Ae=>a.jsx("td",{className:"p-3 text-[13px] text-[#181510]",style:{fontWeight:Ae.key==="name"?600:400},children:ne[j[Ae.key]]||a.jsx("span",{className:"text-[#d4cdc3]",children:""})},Ae.key))]},je))})]})}),c.length>5&&a.jsxs("p",{className:"text-[12px] text-[#8d785e] text-center mt-3",children:["+",c.length-5,"  ..."]})]})]},"step2"),t===3&&a.jsxs(Ke.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:[a.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[{label:'" ',value:_.length,color:"bg-blue-50 text-blue-700 border-blue-200"},{label:"",value:Je,color:"bg-green-50 text-green-700 border-green-200"},{label:"",value:Fe,color:"bg-yellow-50 text-yellow-700 border-yellow-200"}].map((ne,je)=>a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:je*.1},className:`rounded-xl border p-4 text-center ${ne.color}`,children:[a.jsx("div",{className:"text-[24px]",style:{fontWeight:800},children:ne.value}),a.jsx("div",{className:"text-[12px]",style:{fontWeight:500},children:ne.label})]},ne.label))}),a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[16px] text-[#181510] flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(fj,{size:16,className:"text-[#ff8c00]"}),"    "]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>N(ne=>ne.map(je=>je._isDuplicate?{...je,_action:"skip"}:je)),className:"text-[11px] text-[#8d785e] border border-[#e7e1da] px-2.5 py-1 rounded-md hover:bg-[#f5f3f0] transition-colors",style:{fontWeight:600},children:[a.jsx(FI,{size:10,className:"inline ml-1"}),"  "]}),a.jsxs("button",{onClick:()=>N(ne=>ne.map(je=>je._isDuplicate?{...je,_action:"import"}:je)),className:"text-[11px] text-[#ff8c00] border border-[#ff8c00]/30 px-2.5 py-1 rounded-md hover:bg-[#ff8c00]/5 transition-colors",style:{fontWeight:600},children:[a.jsx(XU,{size:10,className:"inline ml-1"}),"  "]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da]",children:["#"," ","","","",""].map(ne=>a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e]",style:{fontWeight:600},children:ne},ne))})}),a.jsx("tbody",{children:Q.map((ne,je)=>a.jsxs(Ke.tr,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:je*.03},className:`border-b border-[#ece8e3] transition-colors ${ne._action==="skip"?"bg-[#fafafa] opacity-50":ne._isDuplicate?"bg-yellow-50/50":"hover:bg-[#faf9f7]"}`,children:[a.jsx("td",{className:"p-3 text-[12px] text-[#b8a990]",children:ne._rowIdx+1}),a.jsx("td",{className:"p-3 text-[13px] text-[#181510]",style:{fontWeight:600},children:ne.name}),a.jsx("td",{className:"p-3 text-[13px] text-[#8d785e]",children:ne.category||""}),a.jsx("td",{className:"p-3 text-[13px] text-[#8d785e]",dir:"ltr",children:ne.phone||""}),a.jsx("td",{className:"p-3",children:ne._isDuplicate?a.jsxs("span",{className:"flex items-center gap-1 text-[12px] text-yellow-600",style:{fontWeight:600},children:[a.jsx(Pn,{size:13})," "]}):a.jsxs("span",{className:"flex items-center gap-1 text-[12px] text-green-600",style:{fontWeight:600},children:[a.jsx(Xr,{size:13})," "]})}),a.jsx("td",{className:"p-3",children:ne._isDuplicate?a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("button",{onClick:()=>N(Ae=>Ae.map(Pe=>Pe._rowIdx===ne._rowIdx?{...Pe,_action:"import"}:Pe)),className:`text-[11px] px-2.5 py-1 rounded-md border transition-colors ${ne._action==="import"?"bg-[#ff8c00] text-white border-[#ff8c00]":"border-[#ff8c00] text-[#ff8c00] hover:bg-[#ff8c00]/5"}`,style:{fontWeight:600},children:""}),a.jsx("button",{onClick:()=>N(Ae=>Ae.map(Pe=>Pe._rowIdx===ne._rowIdx?{...Pe,_action:"skip"}:Pe)),className:`text-[11px] px-2.5 py-1 rounded-md border transition-colors ${ne._action==="skip"?"bg-[#181510] text-white border-[#181510]":"border-[#e7e1da] text-[#8d785e] hover:bg-[#f5f3f0]"}`,style:{fontWeight:600},children:""})]}):a.jsxs("span",{className:"text-[11px] text-green-600 flex items-center gap-1",style:{fontWeight:600},children:[a.jsx(Xr,{size:11})," "]})})]},ne._rowIdx))})]})}),pe>1&&a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-[#e7e1da]",children:[a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[" ",E*I+1,"-",Math.min((E+1)*I,_.length),"  ",_.length]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(pe,10)},(ne,je)=>a.jsx("button",{onClick:()=>$(je),className:`w-7 h-7 rounded-md flex items-center justify-center text-[12px] transition-colors ${E===je?"bg-[#ff8c00] text-white":"text-[#8d785e] hover:bg-[#ece8e3]"}`,style:{fontWeight:600},children:je+1},je)),pe>10&&a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:"..."})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 bg-white rounded-xl p-4 border border-[#e7e1da] mt-4",children:[a.jsxs("button",{onClick:()=>r(2),className:"flex items-center gap-1 text-[14px] text-[#8d785e] hover:text-[#181510] transition-colors",children:[a.jsx(wa,{size:14}),"   "]}),a.jsxs("div",{className:"flex gap-3",children:[Fe>0&&a.jsxs("button",{onClick:()=>{N(ne=>ne.map(je=>je._isDuplicate?{...je,_action:"skip"}:je)),Ye()},className:"text-[14px] text-[#ff8c00] border border-[#ff8c00] px-5 py-2 rounded-xl hover:bg-[#ff8c00]/5 transition-colors",style:{fontWeight:600},children:["    (",_.filter(ne=>!ne._isDuplicate).length,")"]}),a.jsxs("button",{onClick:Ye,disabled:D||Je===0,className:"flex items-center gap-2 text-[14px] text-white bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 px-5 py-2.5 rounded-xl shadow-sm transition-colors",style:{fontWeight:600},children:[D?a.jsx(vt,{size:14,className:"animate-spin"}):a.jsx(Is,{size:14}),D?"...":` ${Je} `]})]})]}),D&&a.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-5 border border-[#e7e1da] mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:" ..."}),a.jsxs("span",{className:"text-[14px] text-[#ff8c00]",style:{fontWeight:700},children:[Math.round(B),"%"]})]}),a.jsx("div",{className:"w-full bg-[#ece8e3] rounded-full h-3 overflow-hidden",children:a.jsx(Ke.div,{className:"h-full bg-gradient-to-l from-[#ff8c00] to-[#ffb347] rounded-full",initial:{width:"0%"},animate:{width:`${B}%`},transition:{duration:.3}})})]})]},"step3"),t===4&&J&&a.jsxs(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"bg-white rounded-2xl border border-[#e7e1da] p-8 text-center shadow-sm",children:[a.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsx($I,{size:48,className:"text-green-600"})})}),a.jsx(Ke.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-[28px] text-[#181510] mb-2",style:{fontWeight:800},children:"  !"}),a.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-[16px] text-[#8d785e] mb-6",children:"    "}),a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"grid grid-cols-2 gap-4 max-w-md mx-auto mb-8",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[a.jsx("div",{className:"text-[32px] text-green-600",style:{fontWeight:800},children:J.imported}),a.jsx("div",{className:"text-[13px] text-green-700",style:{fontWeight:500},children:" "})]}),a.jsxs("div",{className:"bg-[#f5f3f0] border border-[#e7e1da] rounded-xl p-4",children:[a.jsx("div",{className:"text-[32px] text-[#8d785e]",style:{fontWeight:800},children:J.skipped}),a.jsx("div",{className:"text-[13px] text-[#8d785e]",style:{fontWeight:500},children:""})]})]}),a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:()=>e("/suppliers"),className:"flex items-center gap-2 text-[15px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-6 py-3 rounded-xl transition-colors",style:{fontWeight:600},children:[a.jsx(Pa,{size:16}),"   "]}),a.jsxs("button",{onClick:()=>{r(1),i(null),o([]),f([]),S({}),N([]),X(null),oe(!1),G(0),ie([]),ee(!1),xe.current&&(clearInterval(xe.current),xe.current=null),v.current&&(v.current.value="")},className:"flex items-center gap-2 text-[15px] text-[#8d785e] border border-[#e7e1da] px-6 py-3 rounded-xl hover:bg-[#f5f3f0] transition-colors",style:{fontWeight:600},children:[a.jsx(Is,{size:16}),"  "]})]}),a.jsxs(ln,{children:[Y&&!ye&&a.jsx(Ke.div,{initial:{opacity:0,y:20,height:0,marginTop:0},animate:{opacity:1,y:0,height:"auto",marginTop:24},exit:{opacity:0,y:-10,height:0,marginTop:0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"relative bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-red-100 rounded-t-xl overflow-hidden",children:a.jsx(Ke.div,{className:"h-full bg-red-400",style:{width:`${se/K*100}%`},transition:{duration:.3,ease:"linear"}})}),a.jsxs("div",{className:"flex items-center justify-between gap-4 pt-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center shrink-0",children:a.jsx(tE,{size:18,className:"text-red-600"})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[14px] text-red-800",style:{fontWeight:700},children:"?  "}),a.jsxs("p",{className:"text-[12px] text-red-600",children:[a.jsx(Bs,{size:11,className:"inline ml-1"})," ",se,"   "]})]})]}),Ne?a.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-red-700",style:{fontWeight:600},children:[a.jsx(vt,{size:16,className:"animate-spin"})," ..."]}):_e?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-white border border-red-300 rounded-lg px-3 py-1.5",children:[a.jsx(BI,{size:13,className:"text-red-500"}),a.jsx("span",{className:"text-[12px] text-red-700",style:{fontWeight:600},children:"?"})]}),a.jsx("button",{onClick:te,className:"text-[13px] text-white bg-red-600 hover:bg-red-700 px-4 py-1.5 rounded-lg transition-colors",style:{fontWeight:700},children:",  "}),a.jsx("button",{onClick:()=>Ce(!1),className:"text-[13px] text-red-600 border border-red-300 px-3 py-1.5 rounded-lg hover:bg-red-100 transition-colors",style:{fontWeight:600},children:""})]}):a.jsxs("button",{onClick:()=>Ce(!0),className:"flex items-center gap-1.5 text-[13px] text-red-700 border border-red-300 px-4 py-2 rounded-lg hover:bg-red-100 transition-colors",style:{fontWeight:700},children:[a.jsx(tE,{size:14}),"  "]})]})]})}),ye&&a.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center justify-center gap-3",children:[a.jsx(Xr,{size:18,className:"text-green-600"}),a.jsx("span",{className:"text-[14px] text-green-700",style:{fontWeight:600},children:"  .     ."})]})})]})]},"step4")]}),a.jsx("div",{className:"text-center text-[12px] text-[#8d785e] py-4",children:" 2026 TravelPro      .   ."})]})]})}const Gf=[{name:"",color:"#3b82f6",icon:"",subs:[""," "," ","",""]},{name:"",color:"#22c55e",icon:"",subs:["","",""," "," "]},{name:"",color:"#a855f7",icon:"",subs:[" ","",""," "," "]},{name:"",color:"#ec4899",icon:"",subs:["","","","",""]},{name:"",color:"#f59e0b",icon:"",subs:["DJ / ","","","",""]},{name:" ",color:"#06b6d4",icon:"",subs:[" "," ","","",""]},{name:" ",color:"#64748b",icon:"",subs:[" ","","","",""]},{name:" ",color:"#e11d48",icon:"",subs:[" "," "," ","",""]},{name:"",color:"#0d9488",icon:"",subs:[" "," "," "," "]},{name:"",color:"#7c3aed",icon:"",subs:[" ",""," ",""]}],Qpe=[[/|||||/i,""],[/|||||||/i,""],[/||||||||/i,""],[/|||||/i,""],[/DJ||||||||/i,""],[/||||/i," "],[/|||||||/i," "],[/||||||/i," "],[//i,""],[/||||/i,""],[/||/i,""]];function BR(e){const t=`${e.name} ${e.notes||""} ${e.category||""}`.toLowerCase(),r=[];for(const[n,i]of Qpe){const s=t.match(n);if(s)return r.push(s[0]),Gf.find(o=>o.name===i),{category:i,keywords:r,reason:`  : "${r.join(", ")}"     ${i.toLowerCase()}.`}}return null}function FR(e){if(!e.category||e.category.trim()==="")return!0;const t=e.category.trim().toLowerCase();return["","general","","other","","-"].includes(t)}function eme(){const e=Fr(),[t,r]=O.useState([]),[n,i]=O.useState([]),[s,o]=O.useState(!0),[c,f]=O.useState(0),[h,m]=O.useState("left"),[p,x]=O.useState(""),[v,j]=O.useState(""),[S,_]=O.useState([]),[N,k]=O.useState(0),[C,R]=O.useState(0),[A,E]=O.useState(!1),[$,I]=O.useState(!1),[D,W]=O.useState(0),B=O.useRef(null),[q,J]=O.useState(!1),X=["B2B","","","VIP","",""];O.useEffect(()=>{(async()=>{o(!0);try{const ye=await zr.list();r(ye);const ee=ye.filter(FR);i(ee),ee.length>0&&F(ee[0]),ee.length===0&&I(!0)}catch(ye){console.error("[ClassificationWizard] Load error:",ye),We.error("  ")}o(!1)})()},[]),O.useEffect(()=>(B.current=setInterval(()=>W(ye=>ye+1),1e3),()=>{B.current&&clearInterval(B.current)}),[]);const Z=ye=>{const ee=Math.floor(ye/3600).toString().padStart(2,"0"),xe=Math.floor(ye%3600/60).toString().padStart(2,"0"),ke=(ye%60).toString().padStart(2,"0");return`${ee}:${xe}:${ke}`},F=O.useCallback(ye=>{const ee=BR(ye);if(ee){x(ee.category);const xe=Gf.find(ke=>ke.name===ee.category);j((xe==null?void 0:xe.subs[0])||"")}else x(""),j("");_([])},[]),K=n[c]||null,U=K?BR(K):null,ie=O.useCallback(()=>{const ye=c+1;ye>=n.length?I(!0):(m("left"),f(ye),F(n[ye]))},[c,n,F]),se=O.useCallback(async()=>{if(!K||!p){We.warning("    ");return}E(!0);try{const ye=Gf.find(ee=>ee.name===p);await zr.update(K.id,{category:p,categoryColor:(ye==null?void 0:ye.color)||"#8d785e",icon:(ye==null?void 0:ye.icon)||"",notes:S.length>0?`${K.notes&&K.notes!=="-"?K.notes+" | ":""}: ${S.join(", ")}${v?" | -: "+v:""}`:v?`${K.notes&&K.notes!=="-"?K.notes+" | ":""}-: ${v}`:K.notes}),k(ee=>ee+1),We.success("  !",`${K.name}  ${p}${v?"  "+v:""}`),ie()}catch(ye){console.error("[ClassificationWizard] Save error:",ye),We.error("  ")}E(!1)},[K,p,v,S,ie]),G=O.useCallback(()=>{R(ye=>ye+1),m("left"),ie()},[ie]),Y=O.useCallback(async()=>{if(K){E(!0);try{await zr.update(K.id,{category:"",categoryColor:"#94a3b8",notes:`${K.notes&&K.notes!=="-"?K.notes+" | ":""} `}),k(ye=>ye+1),We.info("  ",K.name),ie()}catch{We.error("  ")}E(!1)}},[K,ie]);O.useEffect(()=>{const ye=ee=>{var ke;if($||s||A)return;const xe=(ke=ee.target)==null?void 0:ke.tagName;xe==="INPUT"||xe==="TEXTAREA"||xe==="SELECT"||(ee.key==="Enter"?(ee.preventDefault(),se()):ee.key==="Escape"?(ee.preventDefault(),G()):(ee.key==="a"||ee.key==="A"||ee.key==="")&&(ee.preventDefault(),Y()))};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[$,s,A,se,G,Y]);const oe=n.length,_e=N+C,Ce=oe>0?Math.round(_e/oe*100):0,Ne=D>60?Math.round(N/D*3600):0,Be=Gf.find(ye=>ye.name===p);return s?a.jsx("div",{className:"min-h-full bg-[#f8f7f5] font-['Assistant',sans-serif] flex items-center justify-center",dir:"rtl",children:a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[a.jsx(vt,{size:40,className:"animate-spin text-[#ff8c00] mx-auto mb-4"}),a.jsx("p",{className:"text-[16px] text-[#181510]",style:{fontWeight:600},children:" ..."})]})}):$?a.jsxs("div",{className:"min-h-full bg-[#f8f7f5] font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx("div",{className:"bg-white border-b border-[#e7e1da] px-4 lg:px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx(QT,{size:16,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:"   "})]})]})}),a.jsx("div",{className:"max-w-lg mx-auto p-6",children:a.jsxs(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"bg-white rounded-2xl border border-[#e7e1da] p-8 text-center shadow-sm",children:[a.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx($I,{size:48,className:"text-green-600"})}),a.jsx("h2",{className:"text-[24px] text-[#181510] mb-2",style:{fontWeight:800},children:oe===0?"  ":"  !"}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mb-6",children:oe===0?"      .":`  ${N}  -${Z(D)}.`}),N>0&&a.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-3 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3",children:[a.jsx("div",{className:"text-[24px] text-green-600",style:{fontWeight:800},children:N}),a.jsx("div",{className:"text-[11px] text-green-700",children:""})]}),a.jsxs("div",{className:"bg-[#f5f3f0] border border-[#e7e1da] rounded-xl p-3",children:[a.jsx("div",{className:"text-[24px] text-[#8d785e]",style:{fontWeight:800},children:C}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:""})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:[a.jsx("div",{className:"text-[24px] text-blue-600",style:{fontWeight:800},children:Z(D)}),a.jsx("div",{className:"text-[11px] text-blue-700",children:" "})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:()=>e("/suppliers"),className:"flex items-center gap-2 text-[15px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-6 py-3 rounded-xl transition-colors",style:{fontWeight:600},children:[a.jsx(kn,{size:16}),"   "]}),C>0&&a.jsxs("button",{onClick:async()=>{o(!0);try{const ee=(await zr.list()).filter(FR);i(ee),f(0),R(0),I(ee.length===0),ee.length>0&&F(ee[0])}catch{We.error("  ")}o(!1)},className:"flex items-center gap-2 text-[15px] text-[#8d785e] border border-[#e7e1da] px-5 py-3 rounded-xl hover:bg-[#f5f3f0] transition-colors",style:{fontWeight:600},children:[a.jsx(QU,{size:16}),"   (",C,")"]})]})]})})]}):a.jsxs("div",{className:"min-h-full bg-[#f8f7f5] font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx("div",{className:"bg-white border-b border-[#e7e1da] px-4 lg:px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx(QT,{size:16,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:"   "})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-left hidden md:block",children:[a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[_e,"  ",oe]}),a.jsxs("span",{className:"text-[12px] text-[#ff8c00] mr-2",style:{fontWeight:600},children:[Ce,"%"]})]}),a.jsx("div",{className:"w-32 h-2 bg-[#ddd6cb] rounded-full overflow-hidden hidden md:block",children:a.jsx(Ke.div,{className:"h-full bg-gradient-to-l from-[#ff8c00] to-[#ffb347] rounded-full",animate:{width:`${Ce}%`},transition:{duration:.5,ease:"easeOut"}})}),a.jsxs("div",{className:"flex items-center gap-1 text-[12px] text-[#8d785e] bg-[#f5f3f0] px-2.5 py-1 rounded-full",children:[a.jsx(Bs,{size:12}),a.jsx("span",{style:{fontWeight:600,fontVariantNumeric:"tabular-nums"},children:Z(D)})]}),a.jsx("button",{onClick:()=>J(!q),className:"p-2 text-[#8d785e] hover:text-[#181510] transition-colors relative",children:a.jsx(XT,{size:18})})]})]})}),a.jsx(ln,{children:q&&a.jsxs(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-4 lg:left-6 top-16 z-50 bg-[#181510] text-white rounded-xl p-4 shadow-xl text-[13px] min-w-[200px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>J(!1),children:a.jsx(Ir,{size:14})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/70",children:" "}),a.jsx("kbd",{className:"bg-white/10 px-2 py-0.5 rounded text-[11px]",children:"Enter"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsx("kbd",{className:"bg-white/10 px-2 py-0.5 rounded text-[11px]",children:"Esc"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsx("kbd",{className:"bg-white/10 px-2 py-0.5 rounded text-[11px]",children:"A"})]})]})]})}),a.jsx("div",{className:"mx-auto p-4 lg:p-6",children:a.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"lg:col-span-3 space-y-5",children:[a.jsx(ln,{mode:"wait",children:K&&a.jsxs(Ke.div,{initial:{opacity:0,x:h==="left"?80:-80,scale:.97},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:h==="left"?-80:80,scale:.97},transition:{duration:.35,ease:"easeInOut"},className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-l from-[#fff7ed] to-white p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-[12px] text-green-600 bg-green-50 px-2.5 py-1 rounded-full flex items-center gap-1",style:{fontWeight:600},children:[a.jsx(WS,{size:11}),"  ",c+1,"  ",oe]}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:K.verificationStatus==="verified"?" ":K.verificationStatus==="pending"?" ":"  "})]}),a.jsx("h2",{className:"text-[24px] text-[#181510] mb-4",style:{fontWeight:700},children:K.name}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-[11px] text-[#8d785e] mb-0.5 flex items-center gap-1",children:[a.jsx(uU,{size:10})," "]}),a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:K.id})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-[11px] text-[#8d785e] mb-0.5 flex items-center gap-1",children:[a.jsx(Yg,{size:10})," "]}),a.jsx("div",{className:"text-[14px] text-[#181510]",dir:"ltr",style:{fontWeight:600},children:K.phone||""})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-[11px] text-[#8d785e] mb-0.5 flex items-center gap-1",children:[a.jsx(Qa,{size:10})," "]}),a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:K.region||""})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-[11px] text-[#8d785e] mb-0.5 flex items-center gap-1",children:[a.jsx(kn,{size:10}),"  "]}),a.jsx("div",{className:"text-[14px] text-[#8d785e]",children:K.category||"()"})]})]}),K.notes&&K.notes!=="-"&&a.jsxs("div",{className:"mt-3 text-[12px] text-[#8d785e] flex items-center gap-1",children:[a.jsx(Er,{size:11})," : ",K.notes]})]}),U&&a.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mx-5 my-4 bg-[#ff8c00]/5 border border-[#ff8c00]/30 rounded-xl p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zg,{size:16,className:"text-[#ff8c00] shrink-0"}),a.jsx("p",{className:"text-[13px] text-[#6b5d45]",children:U.reason})]})}),a.jsxs("div",{className:"p-5 pt-2 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[13px] text-[#181510] mb-2 block",style:{fontWeight:600},children:" "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:Gf.map(ye=>a.jsxs("button",{onClick:()=>{x(ye.name),j(ye.subs[0]||"")},className:`flex items-center gap-2 px-3 py-2.5 rounded-xl border text-[12px] transition-all ${p===ye.name?"border-2 shadow-md":"border-[#e7e1da] hover:border-[#d4cdc3]"}`,style:{fontWeight:p===ye.name?700:500,borderColor:p===ye.name?ye.color:void 0,backgroundColor:p===ye.name?`${ye.color}10`:void 0,color:p===ye.name?ye.color:"#181510"},children:[a.jsx("span",{className:"text-[14px]",children:ye.icon}),ye.name]},ye.name))})]}),a.jsx(ln,{mode:"wait",children:Be&&a.jsxs(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:[a.jsx("label",{className:"text-[13px] text-[#181510] mb-1.5 block",style:{fontWeight:600},children:"-"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Be.subs.map(ye=>a.jsx("button",{onClick:()=>j(ye),className:`text-[12px] px-3 py-1.5 rounded-lg border transition-all ${v===ye?"text-white border-transparent":"border-[#e7e1da] text-[#8d785e] hover:border-[#d4cdc3]"}`,style:{fontWeight:600,backgroundColor:v===ye?Be.color:void 0},children:ye},ye))})]},p)}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-[13px] text-[#181510] mb-2 block",style:{fontWeight:600},children:[a.jsx(yV,{size:12,className:"inline ml-1"}),"  ()"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(ye=>a.jsxs("button",{onClick:()=>_(ee=>ee.includes(ye)?ee.filter(xe=>xe!==ye):[...ee,ye]),className:`text-[12px] px-3 py-1 rounded-full border transition-all ${S.includes(ye)?"bg-[#ff8c00] text-white border-[#ff8c00]":"border-[#e7e1da] text-[#8d785e] hover:border-[#ff8c00] hover:text-[#ff8c00]"}`,style:{fontWeight:600},children:[S.includes(ye)?" ":"+ ",ye]},ye))})]})]})]},K.id)}),a.jsxs(Ke.div,{layout:!0,className:"flex flex-wrap items-center justify-between gap-3 bg-white rounded-xl p-4 border border-[#e7e1da]",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:Y,disabled:A,className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] hover:text-[#181510] transition-colors disabled:opacity-50",children:[a.jsx(dl,{size:14})," "]}),a.jsxs("button",{onClick:G,disabled:A,className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] hover:text-[#181510] transition-colors disabled:opacity-50",children:[a.jsx(FI,{size:14})," "]})]}),a.jsxs("button",{onClick:se,disabled:A||!p,className:"flex items-center gap-2 text-[14px] text-white bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 px-6 py-2.5 rounded-xl shadow-sm transition-colors",style:{fontWeight:600},children:[A?a.jsx(vt,{size:15,className:"animate-spin"}):a.jsx(Xr,{size:15}),A?"...":"  ",!A&&a.jsx(Jf,{size:15})]})]}),a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-[#fff7ed] border border-[#ff8c00]/20 rounded-xl p-3 flex items-center justify-center gap-2",children:[a.jsx(XT,{size:14,className:"text-[#ff8c00]"}),a.jsxs("span",{className:"text-[12px] text-[#6b5d45]",children:[a.jsx("kbd",{className:"bg-white border border-[#e7e1da] px-1.5 py-0.5 rounded text-[11px] mx-0.5",style:{fontWeight:700},children:"Enter"})," ",a.jsx("span",{className:"mx-2 text-[#d4cdc3]",children:"|"}),a.jsx("kbd",{className:"bg-white border border-[#e7e1da] px-1.5 py-0.5 rounded text-[11px] mx-0.5",style:{fontWeight:700},children:"Esc"})," ",a.jsx("span",{className:"mx-2 text-[#d4cdc3]",children:"|"}),a.jsx("kbd",{className:"bg-white border border-[#e7e1da] px-1.5 py-0.5 rounded text-[11px] mx-0.5",style:{fontWeight:700},children:"A"})," "]})]})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-5 shadow-sm",children:[a.jsxs("h3",{className:"text-[14px] text-[#181510] flex items-center gap-2 mb-3",style:{fontWeight:700},children:[a.jsx(fj,{size:14,className:"text-[#ff8c00]"}),"   (",oe-_e," )"]}),a.jsx("div",{className:"space-y-1.5 max-h-[300px] overflow-y-auto",children:n.slice(Math.max(0,c-1),c+6).map((ye,ee)=>{const xe=Math.max(0,c-1)+ee,ke=xe===c,te=xe<c;return a.jsx(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:ee*.05},className:`p-2.5 rounded-lg transition-all ${ke?"bg-[#ff8c00] text-white shadow-sm":te?"bg-green-50 border border-green-100":"hover:bg-[#f5f3f0]"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[te&&a.jsx(Xr,{size:12,className:"text-green-500 shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:`text-[13px] truncate ${ke?"text-white":te?"text-green-700":"text-[#181510]"}`,style:{fontWeight:600},children:ye.name}),a.jsx("div",{className:`text-[11px] ${ke?"text-orange-100":te?"text-green-500":"text-[#8d785e]"}`,children:te?"":`: ${ye.id}`})]})]})},ye.id)})}),oe-_e>6&&a.jsxs("p",{className:"text-[12px] text-[#ff8c00] mt-3 text-center",style:{fontWeight:600},children:["+",oe-_e-6,"  "]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-5 shadow-sm",children:[a.jsxs("h3",{className:"text-[14px] text-[#181510] flex items-center gap-2 mb-3",style:{fontWeight:700},children:[a.jsx(LV,{size:14,className:"text-[#ff8c00]"}),"  "]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:""}),a.jsx("span",{className:"text-[13px] text-green-600",style:{fontWeight:700},children:N})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:""}),a.jsx("span",{className:"text-[13px] text-[#8d785e]",style:{fontWeight:600},children:C})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:" ()"}),a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:Ne>0?`${Ne} /`:""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:" "}),a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600,fontVariantNumeric:"tabular-nums"},children:Z(D)})]}),a.jsxs("div",{className:"pt-2 border-t border-[#ece8e3]",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-[11px] text-[#8d785e]",children:""}),a.jsxs("span",{className:"text-[11px] text-[#ff8c00]",style:{fontWeight:700},children:[Ce,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-[#ece8e3] rounded-full overflow-hidden",children:a.jsx(Ke.div,{className:"h-full bg-gradient-to-l from-[#ff8c00] to-[#ffb347] rounded-full",animate:{width:`${Ce}%`},transition:{duration:.5}})})]})]})]})]})]})})]})}const tme="https://images.unsplash.com/photo-1770763233593-74dfd0da7bf0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwb3dlciUyMGRyaWxsJTIwY29uc3RydWN0aW9uJTIwdG9vbHxlbnwxfHx8fDE3NzE0NjgyMzh8MA&ixlib=rb-4.1.0&q=80&w=1080",rme="https://images.unsplash.com/photo-1755870190789-113202c5096c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b29kZW4lMjBzdG9yYWdlJTIwY2FiaW5ldCUyMHdvcmtzaG9wfGVufDF8fHx8MTc3MTQ2ODIzOHww&ixlib=rb-4.1.0&q=80&w=1080",nme="https://images.unsplash.com/photo-1708107243243-557a2cad3cf0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMGxvYmJ5JTIwbHV4dXJ5JTIwcmVjZXB0aW9ufGVufDF8fHx8MTc3MTQ2ODI0M3ww&ixlib=rb-4.1.0&q=80&w=1080";function ime(){const e=Fr(),[t,r]=O.useState([{id:"1",name:"  18V - Brushless",description:"    -XR,      .  2  5.0Ah    .",price:849,category:"  ",sourceUrl:"https://supplier-site.com/tools/drill-v18",status:"complete",image:tme},{id:"2",name:"   7 ",description:"    .       ,        .",price:1250,category:" ",sourceUrl:"https://supplier-site.com/storage/cabinet-7drw",status:"complete",image:rme},{id:"3",name:'  "SafeWork"',description:"      .       .",price:0,category:"",sourceUrl:"https://supplier-site.com/p/safety-kit-2024",status:"incomplete",image:nme}]),n=f=>{r(h=>h.map(m=>m.id===f?{...m,approved:!0}:m)),We.success("   ")},i=f=>{r(h=>h.map(m=>m.id===f?{...m,removed:!0}:m)),We.neutral("  ")},s=t.filter(f=>!f.removed),o=s.filter(f=>f.approved).length,c=s.filter(f=>f.status==="incomplete").length;return a.jsxs("div",{className:"min-h-full bg-[#f8f7f5] font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx("div",{className:"bg-white border-b border-[#e7e1da] px-4 lg:px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(wa,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-[16px]",children:""})}),a.jsx("h1",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:" "})]})]})}),a.jsxs("div",{className:"mx-auto p-4 lg:p-6 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-[12px] text-green-600 bg-green-50 px-3 py-1 rounded-full",style:{fontWeight:600},children:"   "}),a.jsx("h2",{className:"text-[26px] text-[#181510] mt-3",style:{fontWeight:700},children:"   "}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-1 max-w-xl mx-auto",children:"      .     ,        ."})]}),a.jsx("div",{className:"space-y-5",children:s.map(f=>a.jsx("div",{className:`bg-white rounded-2xl border shadow-sm overflow-hidden transition-all ${f.approved?"border-green-200":f.status==="incomplete"?"border-yellow-200":"border-[#e7e1da]"}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"md:w-72 h-48 md:h-auto bg-[#f5f3f0] relative shrink-0 overflow-hidden",children:[a.jsx(hp,{src:f.image,alt:f.name,className:"w-full h-full object-cover"}),f.status==="complete"&&!f.approved&&a.jsx("span",{className:"absolute top-3 right-3 text-[11px] bg-[#ff8c00] text-white px-2 py-0.5 rounded-md",style:{fontWeight:600},children:"  "}),f.status==="incomplete"&&a.jsx("span",{className:"absolute top-3 right-3 text-[11px] bg-yellow-500 text-white px-2 py-0.5 rounded-md",style:{fontWeight:600},children:"  "}),f.approved&&a.jsx("div",{className:"absolute inset-0 bg-green-500/10 flex items-center justify-center",children:a.jsx("div",{className:"bg-green-500 text-white rounded-full p-2",children:a.jsx(ro,{size:24})})})]}),a.jsxs("div",{className:"flex-1 p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[11px] text-[#8d785e] mb-0.5",children:"  "}),a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:f.name})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-[11px] text-[#8d785e] mb-0.5",children:" "}),a.jsx("div",{className:"text-[20px] text-[#ff8c00]",style:{fontWeight:700},children:f.price>0?`${f.price.toFixed(2)}`:" ???"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-[11px] text-[#8d785e] mb-0.5",children:" "}),a.jsx("p",{className:"text-[13px] text-[#6b5d45]",children:f.description})]}),f.category&&a.jsx("div",{className:"text-[12px] text-[#8d785e] mb-2",children:a.jsxs("span",{children:[" ",f.category]})}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsxs("a",{href:f.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[12px] text-[#ff8c00] hover:text-[#e67e00]",children:[" ",f.sourceUrl]}),a.jsx("span",{className:"text-[12px] text-[#c4b89a]",children:"|"}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:"  "})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[!f.approved&&f.status==="complete"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>n(f.id),className:"flex items-center gap-1.5 text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-4 py-2 rounded-lg transition-colors",style:{fontWeight:600},children:[a.jsx(ro,{size:14}),"  "]}),a.jsxs("button",{className:"flex items-center gap-1.5 text-[13px] text-[#ff8c00] border border-[#ff8c00] px-4 py-2 rounded-lg hover:bg-[#ff8c00]/5 transition-colors",style:{fontWeight:600},children:[a.jsx(jc,{size:14}),"  "]})]}),f.status==="incomplete"&&a.jsxs("button",{className:"flex items-center gap-1.5 text-[13px] text-[#ff8c00] border border-[#ff8c00] px-4 py-2 rounded-lg hover:bg-[#ff8c00]/5 transition-colors",style:{fontWeight:600},children:[a.jsx(jc,{size:14}),"   "]}),f.approved&&a.jsxs("span",{className:"text-[13px] text-green-600 flex items-center gap-1",style:{fontWeight:600},children:[a.jsx(ro,{size:14}),"   "]}),a.jsx("button",{onClick:()=>i(f.id),className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] hover:text-red-500 px-3 py-2 rounded-lg transition-colors",children:""})]})]})]})},f.id))}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-4 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[14px]",children:""}),a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[s.length,"    ",o,"   ",c,"  "]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>e("/suppliers"),className:"text-[13px] text-[#8d785e] border border-[#e7e1da] px-4 py-2 rounded-lg hover:bg-[#f5f3f0] transition-colors",children:""}),a.jsx("button",{onClick:()=>{We.success("  !","   "),e("/suppliers")},className:"text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-4 py-2 rounded-lg transition-colors",style:{fontWeight:600},children:"  "})]})]}),a.jsx("div",{className:"text-center text-[12px] text-[#8d785e] py-4",children:"     2024      "})]})]})}const sme="https://images.unsplash.com/photo-1555758826-ce21b7e51ccf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0cm9waWNhbCUyMHBsYW50JTIwbGVhdmVzJTIwZ3JlZW58ZW58MXx8fHwxNzcxMzgwNzUzfDA&ixlib=rb-4.1.0&q=80&w=1080",e$="https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080",t$="https://images.unsplash.com/photo-1566670829023-5badae05aa7d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwbHVuY2glMjByZXN0YXVyYW50JTIwdGFibGV8ZW58MXx8fHwxNzcxNDY4MjM2fDA&ixlib=rb-4.1.0&q=80&w=1080",r$="https://images.unsplash.com/photo-1760954661834-fca0f39ead42?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx2aW50YWdlJTIwdmFuJTIwcm9hZCUyMHRyaXAlMjBhZHZlbnR1cmV8ZW58MXx8fHwxNzcxNDY4MjQyfDA&ixlib=rb-4.1.0&q=80&w=1080",UR=[e$,t$,r$];function n$(){const{id:e}=NS(),[t,r]=O.useState(null),[n,i]=O.useState({}),[s,o]=O.useState(!1),[c,f]=O.useState(!1),[h,m]=O.useState(!1),[p,x]=O.useState(null),[v,j]=O.useState(!0);O.useEffect(()=>{e&&rE.quote(e).then(x).catch(W=>console.error("[ClientQuote] Failed to load:",W)).finally(()=>j(!1))},[e]);const S=()=>{window.history.length>1?window.history.back():window.location.href="/"},_=[{title:" ,    ",subtitle:"  ",img:e$,provider:"  ",bullets:["      ,       .","      ,    .","   5   ,     .","    ,    .","      ."]},{title:"   ",subtitle:"  ",img:t$,provider:' " "',bullets:["     ,     .","  :   ,     .","      .","  ,  ."]},{title:" VIP  ",subtitle:"ROYAL TRANSPORT",img:r$,provider:"ROYAL TRANSPORT",bullets:['  -3    (", , ).',"3     , Wi-Fi  .","       .","  :      ."]}],N=p!=null&&p.items&&p.items.length>0?p.items.map((W,B)=>({title:W.name||W.type,subtitle:W.type,img:UR[B%UR.length],provider:W.supplier,bullets:[W.description||"   ."]})):_,k=(p==null?void 0:p.name)||"   ",C=(p==null?void 0:p.participants)||50,R=(p==null?void 0:p.totalPrice)||42500,A=(p==null?void 0:p.pricePerPerson)||Math.round(R/C),E=p!=null&&p.timeline&&p.timeline.length>0?p.timeline.map(W=>({time:W.time,title:W.title,emoji:W.icon})):[{time:"09:00-12:00",title:"  ",emoji:""},{time:"13:00-14:00",title:"  ",emoji:""},{time:"15:00-18:00",title:" VIP  ",emoji:""}],$=[{title:"   ",desc:"   -14     .   ,    ."},{title:"   ",desc:"      .      ."}],I=async()=>{if(!(!e||s))try{f(!0),await rE.approve(e),o(!0)}catch(W){console.error("[ClientQuote] Approve failed:",W),o(!0)}finally{f(!1)}},D=W=>{i(B=>({...B,[W]:!B[W]}))};return v?a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"  ..."})]}):a.jsxs("div",{className:"min-h-screen bg-white font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"bg-white border-b border-[#e7e1da] px-4 py-3 flex items-center justify-between sticky top-0 z-40",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:S,className:"flex items-center gap-1.5 text-[13px] text-[#8d785e] hover:text-[#181510] bg-[#f5f3f0] hover:bg-[#ece8e3] pl-3 pr-2 py-1.5 rounded-lg transition-colors",style:{fontWeight:600},children:["",a.jsx(wa,{size:15})]}),a.jsx("div",{className:"w-px h-6 bg-[#e7e1da]"}),a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00] rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white text-[14px]",children:""})}),a.jsx("span",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:"TravelPro"})]}),a.jsxs("div",{className:"text-[13px] text-[#8d785e] hidden sm:block",children:["  | ",k]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>m(!0),className:"text-[12px] text-[#8d785e] border border-[#e7e1da] px-3 py-1.5 rounded-lg hover:bg-[#f5f3f0] transition-colors",children:""}),a.jsxs("button",{onClick:()=>window.print(),className:"text-[12px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1.5",style:{fontWeight:600},children:[a.jsx(zI,{size:13}),""]})]})]}),a.jsxs("div",{className:"relative h-[400px] md:h-[500px] overflow-hidden",children:[a.jsx(hp,{src:sme,alt:"Hero",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-10 text-right",children:[a.jsx("span",{className:"text-[12px] text-[#ffb74d] tracking-wider",style:{fontWeight:600},children:"  "}),a.jsx("h1",{className:"text-[32px] md:text-[44px] text-white mt-2 max-w-lg",style:{fontWeight:700,lineHeight:1.2},children:"    "}),a.jsx("p",{className:"text-[14px] text-white/80 mt-3 max-w-md",children:"    :  ,  ,     .    ."})]})]}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-8 space-y-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-[22px] text-[#181510] mb-4",style:{fontWeight:700},children:' " '}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:E.map((W,B)=>a.jsxs("button",{onClick:()=>r(t===B?null:B),className:"flex items-center gap-3 p-4 border-2 border-[#ff8c00]/20 rounded-xl hover:border-[#ff8c00] transition-all bg-white",children:[a.jsx("span",{className:"text-[20px]",children:W.emoji}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:W.title}),a.jsx("div",{className:"text-[12px] text-[#ff8c00]",style:{fontWeight:600},children:W.time})]})]},B))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-[22px] text-[#181510] mb-4",style:{fontWeight:700},children:"  "}),a.jsx("div",{className:"space-y-5",children:N.map((W,B)=>a.jsx("div",{className:"bg-white rounded-2xl border border-[#e7e1da] overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsx("div",{className:"md:w-80 h-56 md:h-auto bg-[#f5f3f0] shrink-0 overflow-hidden",children:a.jsx(hp,{src:W.img,alt:W.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 p-5",children:[W.subtitle&&a.jsx("div",{className:"text-[11px] text-[#ff8c00] mb-1",style:{fontWeight:600},children:W.subtitle}),a.jsx("h3",{className:"text-[18px] text-[#181510] mb-2",style:{fontWeight:700},children:W.title}),a.jsxs("div",{className:`space-y-1 ${n[B]?"":"max-h-20 overflow-hidden relative"}`,children:[W.bullets.map((q,J)=>a.jsxs("div",{className:"flex gap-2 text-[13px] text-[#8d785e]",children:[a.jsx("span",{className:"text-[#ff8c00] shrink-0",children:""}),a.jsx("span",{children:q})]},J)),!n[B]&&W.bullets.length>2&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-gradient-to-t from-white to-transparent"})]}),W.bullets.length>2&&a.jsxs("button",{onClick:()=>D(B),className:"text-[12px] text-[#ff8c00] flex items-center gap-1 mt-2",style:{fontWeight:600},children:[n[B]?" ":" ",n[B]?a.jsx(AI,{size:12}):a.jsx(IS,{size:12})]}),W.provider&&a.jsxs("div",{className:"mt-3 text-[11px] text-[#8d785e]",children:[": ",W.provider]})]})]})},B))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-[22px] text-[#181510] mb-4",style:{fontWeight:700},children:"  "}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:$.map((W,B)=>a.jsxs("div",{className:"bg-[#fff7ed] border border-[#ff8c00]/20 rounded-xl p-4",children:[a.jsx("div",{className:"text-[14px] text-[#181510] mb-1",style:{fontWeight:600},children:W.title}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:W.desc})]},B))})]}),a.jsxs("div",{className:"bg-gradient-to-l from-[#181510] to-[#2a2518] rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-[20px] text-white",style:{fontWeight:700},children:"  "}),a.jsxs("p",{className:"text-[13px] text-[#c4b89a] mt-1",children:["   ",C," "]})]}),a.jsxs("div",{className:"flex items-end gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[11px] text-[#c4b89a]",children:" "}),a.jsxs("div",{className:"text-[20px] text-white",style:{fontWeight:700},children:["",A.toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[11px] text-[#c4b89a]",children:" "}),a.jsxs("div",{className:"text-[32px] text-[#ff8c00]",style:{fontWeight:700},children:["",R.toLocaleString()]}),a.jsxs("div",{className:"text-[11px] text-[#c4b89a]",children:[' "   ',C," "]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-5",children:[s?a.jsxs("div",{className:"flex items-center gap-2 bg-green-500 text-white px-8 py-3 rounded-xl",children:[a.jsx(ro,{size:18}),a.jsx("span",{style:{fontWeight:700},children:" !   ."})]}):a.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white px-8 py-3 rounded-xl shadow-lg shadow-[#ff8c00]/20 transition-all",style:{fontWeight:700},children:[c?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(ro,{size:18})," "]}),a.jsxs("button",{onClick:async()=>{try{navigator.share?await navigator.share({title:`   ${k}`,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),We.success(" ","   "))}catch{}},className:"flex items-center gap-2 text-[#c4b89a] border border-[#c4b89a]/40 px-6 py-3 rounded-xl hover:bg-white/5 transition-colors",children:[a.jsx(aV,{size:16})," "]})]})]})]}),a.jsx("footer",{className:"bg-[#181510] text-white py-8 mt-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00] rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white text-[14px]",children:""})}),a.jsx("span",{className:"text-[16px]",style:{fontWeight:700},children:"TravelPro"})]}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:" 2026 TravelPro Productions"}),a.jsxs("div",{className:"flex gap-4 text-[12px] text-[#8d785e]",children:[a.jsx("span",{children:"info@travelpro.co.il"}),a.jsx("span",{children:"073-123-4567"})]})]}),a.jsxs("div",{className:"flex gap-4 mt-4 text-[12px] text-[#8d785e]",children:[a.jsx("button",{className:"hover:text-white transition-colors",children:" "}),a.jsx("button",{className:"hover:text-white transition-colors",children:" "}),a.jsx("button",{className:"hover:text-white transition-colors",children:""})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>m(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",onClick:W=>W.stopPropagation(),children:[a.jsx("h3",{className:"text-[20px] text-[#181510] mb-4",style:{fontWeight:700},children:" "}),a.jsx("div",{className:"space-y-2",children:[{version:"V1.0",date:"15.03.2024",price:`${R.toLocaleString()}`,status:"",active:!0},{version:"V0.9",date:"12.03.2024",price:"45,000",status:"",active:!1},{version:"V0.8",date:"10.03.2024",price:"48,000",status:"",active:!1}].map(W=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${W.active?"border-[#ff8c00] bg-[#ff8c00]/5":"border-[#e7e1da]"}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:W.version}),a.jsxs("div",{className:"text-[12px] text-[#8d785e]",children:[W.date,"  ",W.price]})]}),a.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${W.active?"bg-[#ff8c00] text-white":"bg-[#f5f3f0] text-[#8d785e]"}`,style:{fontWeight:600},children:W.status})]},W.version))}),a.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 text-[14px] text-[#8d785e] border border-[#e7e1da] py-2 rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})})]})}const ame=[{id:"todo",label:"",dotColor:"#8d785e"},{id:"in-progress",label:"",dotColor:"#ff8c00"},{id:"on-hold",label:"",dotColor:"#eab308"},{id:"done",label:"",dotColor:"#22c55e"}],Bg={HIGH:{label:"",color:"#dc2626",bg:"#fef2f2"},MEDIUM:{label:"",color:"#d97706",bg:"#fffbeb"},LOW:{label:"",color:"#16a34a",bg:"#f0fdf4"}},Zf={TASK:{label:"",color:"#8d785e",bg:"#f5f0ea",icon:MV},FEATURE:{label:"",color:"#ff8c00",bg:"#fff7ed",icon:WS},BUG:{label:"",color:"#dc2626",bg:"#fef2f2",icon:yF}},gS=["","  "," "," "," ","  "," "," "," "," ","  ","Layout ","  "],Tg="travelpro-kanban-v8",ome="v8",VR=[{id:"V1",label:"V1",subtitle:"MVP  9 ",color:"#ff8c00"},{id:"V2",label:"V2",subtitle:" ",color:"#a78bfa"}],nj=[{id:"v1i1",title:"   ",description:" Calendar   ,  /, .",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:"",estimate:"",tags:[""],createdAt:"2026-02-19",version:"V1"},{id:"v1i2",title:"   ",description:"     ,     .",type:"FEATURE",priority:"HIGH",status:"ideas",feature:"",estimate:"",tags:[""],createdAt:"2026-02-19",version:"V1"},{id:"v1i3",title:"   ",description:"     (, , , ),       .   .",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:"  ",estimate:"4h",tags:[" ",""],createdAt:"2026-02-19",version:"V1"},{id:"v1i4",title:"  ",description:"  :  , , , .",type:"FEATURE",priority:"LOW",status:"ideas",feature:" ",estimate:"",tags:[" "],createdAt:"2026-02-19",version:"V1"},{id:"t1",title:"     ",description:"    :  , ,  ,  .",type:"TASK",priority:"HIGH",status:"todo",feature:"  ",estimate:"4h",tags:[" "],createdAt:"2026-02-18",version:"V1"},{id:"t3",title:"   -PDF",description:" PDF     ,    .",type:"FEATURE",priority:"MEDIUM",status:"todo",feature:"  ",estimate:"6h",tags:[" "],createdAt:"2026-02-18",version:"V1"},{id:"t4",title:"    ",description:"  , ,  .    .",type:"TASK",priority:"MEDIUM",status:"todo",feature:" ",estimate:"3h",tags:[""],createdAt:"2026-02-18",version:"V1"},{id:"t6",title:"   Leaflet clusters",description:" clustering       .",type:"TASK",priority:"LOW",status:"todo",feature:" ",estimate:"3h",tags:[" "],createdAt:"2026-02-18",version:"V1"},{id:"t8",title:"   ",description:"Recharts pie/bar chart      .",type:"FEATURE",priority:"MEDIUM",status:"todo",feature:"",estimate:"4h",tags:[""],createdAt:"2026-02-18",version:"V1"},{id:"t9",title:'Drag & Drop " ',description:'      " (Timeline)    .  -react-dnd  .',type:"FEATURE",priority:"HIGH",status:"todo",feature:"  ",estimate:"5h",tags:[" ","DnD",'"'],createdAt:"2026-02-21",version:"V1"},{id:"t10",title:"/   ",description:"     -: , , ,  ,  .    .",type:"FEATURE",priority:"HIGH",status:"todo",feature:" ",estimate:"4h",tags:[" ",""],createdAt:"2026-02-21",version:"V1"},{id:"t11",title:"  ",description:` /  :   (, , "), VIP, , '.     .`,type:"FEATURE",priority:"MEDIUM",status:"todo",feature:" ",estimate:"3h",tags:["",""],createdAt:"2026-02-21",version:"V1"},{id:"t12",title:"     ",description:"Drop zone             -Supabase Storage     -ItemEditor.",type:"FEATURE",priority:"LOW",status:"todo",feature:"  ",estimate:"3h",tags:[" ","","DnD"],createdAt:"2026-02-21",version:"V1"},{id:"t13",title:"  ",description:'   (: "", "", "")  .  -ItemEditor  -ProductEditor.',type:"FEATURE",priority:"LOW",status:"todo",feature:"  ",estimate:"3h",tags:["",""],createdAt:"2026-02-21",version:"V1"},{id:"p1",title:"    ",description:" responsive   : ,  ,  .",type:"TASK",priority:"HIGH",status:"in-progress",feature:" ",estimate:"4h",tags:[" "],createdAt:"2026-02-18",version:"V1"},{id:"p2",title:"      -placeholder  ",description:'  -placeholder   End-to-End:     -Supabase,     slide animation,  "AI"      ,  10   - , ,   PUT /suppliers/:id,  , ,  ,   ,  .',type:"FEATURE",priority:"HIGH",status:"done",feature:"  ",estimate:"5h",tags:[" ","Motion","Supabase"],createdAt:"2026-02-21",version:"V1"},{id:"p3",title:"   lazy loading",description:" React.lazy -Suspense  :  ,  , .",type:"TASK",priority:"MEDIUM",status:"in-progress",feature:" ",estimate:"2h",tags:[""],createdAt:"2026-02-19",version:"V1"},{id:"h1",title:"   RBAC",description:" : admin, editor, viewer.     .",type:"FEATURE",priority:"HIGH",status:"on-hold",feature:" ",estimate:"1d",tags:[""],createdAt:"2026-02-17",version:"V1"},{id:"d1",title:"   KPIs ",description:"   ,  Recharts,   .",type:"FEATURE",priority:"HIGH",status:"done",feature:"",estimate:"8h",tags:[""],createdAt:"2026-02-10",version:"V1"},{id:"d2",title:"     ",description:"  :  ,  , , .",type:"FEATURE",priority:"HIGH",status:"done",feature:"  ",estimate:"1d",tags:[" "],createdAt:"2026-02-11",version:"V1"},{id:"d3",title:"   ,  ",description:"   ,  ,    ,  Leaflet.",type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"1d",tags:[" "],createdAt:"2026-02-12",version:"V1"},{id:"d4",title:"    ",description:"  : , ,  , .",type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"6h",tags:[" "],createdAt:"2026-02-12",version:"V1"},{id:"d5",title:"     ",description:"         .",type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"6h",tags:[" "],createdAt:"2026-02-13",version:"V1"},{id:"d6",title:"    End-to-End  Undo/Rollback",description:"     4 :  CSV (PapaParse),   ,  ,   -Supabase.   undo/rollback   route POST /suppliers/bulk-rollback,  bulkRollback -API,    undo   countdown 30 ,  -  Motion.",type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"1d",tags:["","CSV","Undo","Motion"],createdAt:"2026-02-14",version:"V1"},{id:"d7",title:"    ",description:"    , , ,  .",type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"6h",tags:[""],createdAt:"2026-02-14",version:"V1"},{id:"d8",title:"Layout   Sidebar ",description:"Sidebar      9 ,  , RTL .",type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"4h",tags:[""],createdAt:"2026-02-09",version:"V1"},{id:"d9",title:"    ",description:"   /    .",type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"5h",tags:[""],createdAt:"2026-02-15",version:"V1"},{id:"d10",title:" Supabase  persistence  ",description:'  -Supabase KV Store: , ,  , , ,   ".  Hono     seed v3   directPrice.  -CRUD  end-to-end.',type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"2d",tags:["Backend","Supabase","KV"],createdAt:"2026-02-21",version:"V1"},{id:"d11",title:"Modals     +  ",description:"  //   modals/drawers :  ,   ,   ,  ,         -Supabase.",type:"TASK",priority:"HIGH",status:"done",feature:" ",estimate:"6h",tags:[" "," ","CRUD"],createdAt:"2026-02-21",version:"V1"},{id:"d12",title:"    ",description:"    : 3   ( ,  ,   )     (//),  ,  ,  .  -Supabase.",type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"5h",tags:[" ",""],createdAt:"2026-02-21",version:"V1"},{id:"d13",title:"ItemEditor     ",description:"Drawer slide-in  Motion spring animations   . :    hero image + thumbnails + drag & drop upload -Supabase Storage (bucket  + signed URLs),    stagger animations (, , , ,   profit bar ,   , ),    success pulse.        .",type:"FEATURE",priority:"HIGH",status:"done",feature:"  ",estimate:"8h",tags:[" ","","Motion","Storage"],createdAt:"2026-02-21",version:"V1"},{id:"d14",title:"ProductEditor     ",description:"Drawer slide-in  Motion animations     . :    (hero + thumbnails +   + drag & drop upload),  ///   ,   gradient,  ,   success state. -Products Tab       .",type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"6h",tags:[" ","","Motion","Storage"],createdAt:"2026-02-21",version:"V1"},{id:"d15",title:"Server routes   ",description:" endpoints  Hono: PUT  , POST    -Supabase Storage (base64  bucket   signed URL), DELETE   .   API  : supplierProductsApi.update, uploadImage, deleteImage.",type:"TASK",priority:"HIGH",status:"done",feature:"  ",estimate:"3h",tags:["Backend","Storage","API"],createdAt:"2026-02-21",version:"V1"},{id:"d16",title:" UX    ",description:' ""    (  -hover)   +    .         -ItemEditor    hover   .',type:"TASK",priority:"MEDIUM",status:"done",feature:"  ",estimate:"30m",tags:[" ","UX"],createdAt:"2026-02-21",version:"V1"},{id:"d17",title:"  Lucide    '",description:`  '      Lucide: SectionIcon (  ), TypeBadge (  ),   ,   ".   .`,type:"TASK",priority:"MEDIUM",status:"done",feature:" ",estimate:"2h",tags:["","","Lucide"],createdAt:"2026-02-21",version:"V1"},{id:"d18",title:"Seed v6      directPrice",description:" -seed  v6 (_meta:seeded_v6):      (, , , ),  (, , , ),   ,   directPrice      .  schema -data   6  seed.",type:"TASK",priority:"HIGH",status:"done",feature:" ",estimate:"2h",tags:["Backend","Seed","Data"],createdAt:"2026-02-21",version:"V1"},{id:"d19",title:"QuoteEditor      + scroll anchors",description:' QuoteEditor    ( ,   , " )       .    -scroll anchors  IntersectionObserver       ,       .',type:"FEATURE",priority:"HIGH",status:"done",feature:"  ",estimate:"4h",tags:[" ","UX","IntersectionObserver"],createdAt:"2026-02-21",version:"V1"},{id:"audit1",title:'  " "  ',description:'  navigate("/")    .    URL param ?newProject=true -Layout       .    .',type:"BUG",priority:"HIGH",status:"done",feature:" ",estimate:"30m",tags:["","",""],createdAt:"2026-02-21",version:"V1"},{id:"audit2",title:'  ""   (ClientQuote)',description:"     onClick ,  .  window.print()    / PDF  .",type:"BUG",priority:"MEDIUM",status:"done",feature:" ",estimate:"15m",tags:[""," "],createdAt:"2026-02-21",version:"V1"},{id:"audit3",title:'  ""  ',description:"    .  Web Share API (   )        .",type:"BUG",priority:"MEDIUM",status:"done",feature:" ",estimate:"20m",tags:[""," ",""],createdAt:"2026-02-21",version:"V1"},{id:"audit4",title:'  ""     ',description:'   " "      .       (, , , , )   navigator.clipboard.writeText().',type:"BUG",priority:"HIGH",status:"done",feature:" ",estimate:"20m",tags:[""," ","clipboard"],createdAt:"2026-02-21",version:"V1"},{id:"audit5",title:"   ",description:"  1,2,3       .     state  currentPage,    slice(),   ,   disabled,   1  .",type:"BUG",priority:"HIGH",status:"done",feature:" ",estimate:"45m",tags:[""," ",""],createdAt:"2026-02-21",version:"V1"},{id:"audit6",title:"   (MoreVertical)   ",description:"      .       navigate  .",type:"BUG",priority:"MEDIUM",status:"done",feature:"",estimate:"15m",tags:["","",""],createdAt:"2026-02-21",version:"V1"},{id:"audit7",title:"   (HelpCircle)  ",description:" .    -PRD (  / ).",type:"BUG",priority:"LOW",status:"done",feature:"Layout ",estimate:"10m",tags:["","Layout",""],createdAt:"2026-02-21",version:"V1"},{id:"audit8",title:" -     ",description:"       :      ,    ,  /   .  7  ,   (, CRUD ,  ,  ,  , , Logout )  .",type:"TASK",priority:"HIGH",status:"done",feature:"  ",estimate:"3h",tags:["","QA",""],createdAt:"2026-02-21",version:"V1"},{id:"d20",title:"    Leaflet + Nominatim",description:' SupplierLocationMap    -placeholder   ""  . :     autocomplete  Nominatim ( ,  ), debounce 400ms,  Leaflet   marker  flyTo,    address -location: {lat, lng}    -Supabase,   , -click outside  .',type:"FEATURE",priority:"MEDIUM",status:"done",feature:" ",estimate:"4h",tags:[" ","","Leaflet","Nominatim"],createdAt:"2026-02-21",version:"V1"},{id:"d21",title:" dropdown autocomplete    ",description:"-dropdown          .     (bottom-full)  z-[100], max-height  ,       .",type:"BUG",priority:"HIGH",status:"done",feature:" ",estimate:"15m",tags:[" ","UX","CSS"],createdAt:"2026-02-21",version:"V1"},{id:"d22",title:"   Preview    ",description:'   " " (preview)     .   thumbnail     (hero image)   zoom -hover, badge     , -fallback  Package  .',type:"TASK",priority:"MEDIUM",status:"done",feature:" ",estimate:"30m",tags:[" ","UX",""],createdAt:"2026-02-21",version:"V1"},{id:"d23",title:"     End to End",description:'   :  " "      -,  archive -API ( category -""),     ,  " (X)"        (/suppliers/archive).   (SupplierArchive.tsx)        ,    .      "   "   ,  -back  ,    . Route ,  restore -API.',type:"FEATURE",priority:"HIGH",status:"done",feature:" ",estimate:"3h",tags:[" "," ","","CRUD"],createdAt:"2026-02-21",version:"V1"},{id:"d24",title:" Breadcrumbs  route  + labels ",description:' route "" -routeMeta   Archive,   -fallback  /     #hash  ,   : " "   /suppliers/, " "  /projects/.',type:"TASK",priority:"MEDIUM",status:"done",feature:"Layout ",estimate:"30m",tags:["Breadcrumbs","UX",""],createdAt:"2026-02-21",version:"V1"},{id:"v2i1",title:"    WhatsApp",description:"  WhatsApp Business API     .",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:"  ",estimate:"",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2i2",title:"   ",description:"        .",type:"FEATURE",priority:"LOW",status:"ideas",feature:" ",estimate:"",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2i3",title:"   ",description:"        .",type:"FEATURE",priority:"LOW",status:"ideas",feature:" ",estimate:"",tags:[" "],createdAt:"2026-02-19",version:"V2"},{id:"v2i4",title:"  PWA ",description:" PWA        .",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:" ",estimate:"",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2i5",title:"   ",description:"    , ,  .",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:" ",estimate:"",tags:["AI"],createdAt:"2026-02-19",version:"V2"},{id:"v2t1",title:"    ",description:"  : , ,  .",type:"FEATURE",priority:"HIGH",status:"todo",feature:" ",estimate:"2d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2t2",title:"  ",description:" push, , -in-app   ,  .     /     .",type:"FEATURE",priority:"HIGH",status:"todo",feature:" ",estimate:"1d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2t3",title:" -Analytics ",description:" : ,  , ,  Excel.",type:"FEATURE",priority:"MEDIUM",status:"todo",feature:"",estimate:"2d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2t4",title:"  ",description:"  : , , ,  .",type:"FEATURE",priority:"MEDIUM",status:"todo",feature:" ",estimate:"1d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2t5",title:"Multi-tenant    ",description:"  ,  ,  .",type:"FEATURE",priority:"LOW",status:"todo",feature:" ",estimate:"3d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2p1",title:"  V2",description:"  , schema updates, API design  .",type:"TASK",priority:"HIGH",status:"in-progress",feature:" ",estimate:"1d",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2h1",title:" Google Calendar",description:"   ,  ,  .",type:"FEATURE",priority:"MEDIUM",status:"on-hold",feature:"",estimate:"6h",tags:[""],createdAt:"2026-02-19",version:"V2"},{id:"v2h2",title:"API  ",description:"      API, webhook callbacks.",type:"FEATURE",priority:"LOW",status:"on-hold",feature:" ",estimate:"2d",tags:["API"],createdAt:"2026-02-19",version:"V2"}];function qR(){return"t"+Date.now().toString(36)+Math.random().toString(36).substring(2,6)}const lme=["","","","","","","","","","","",""];function cme(e){const t=new Date(e);return`${t.getDate()} ${lme[t.getMonth()]} ${t.getFullYear().toString().slice(2)}`}function i$({attachments:e,initialIndex:t,onClose:r}){const[n,i]=O.useState(t),s=e[n],o=s==null?void 0:s.type.startsWith("image/"),c=e.length;return O.useEffect(()=>{const f=h=>{h.key==="Escape"&&r(),h.key==="ArrowLeft"&&i(m=>(m+1)%c),h.key==="ArrowRight"&&i(m=>(m-1+c)%c)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,c]),s?a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center",onClick:r,children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-[90vw] max-h-[90vh]",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between w-full mb-4 px-2",dir:"rtl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[13px] text-white/80 truncate max-w-[300px]",style:{fontWeight:600},children:s.name}),c>1&&a.jsxs("span",{className:"text-[11px] text-white/50 bg-white/10 px-2 py-0.5 rounded-full",style:{fontWeight:600},children:[n+1," / ",c]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:s.dataUrl,download:s.name,className:"w-8 h-8 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",title:"",children:a.jsx(Gg,{size:15,className:"text-white"})}),a.jsx("button",{onClick:r,className:"w-8 h-8 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:a.jsx(Ir,{size:16,className:"text-white"})})]})]}),a.jsx(ln,{mode:"wait",children:a.jsx(Ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"flex items-center justify-center",children:o?a.jsx("img",{src:s.dataUrl,alt:s.name,className:"max-w-[85vw] max-h-[75vh] rounded-2xl shadow-2xl object-contain"}):a.jsxs("div",{className:"bg-white rounded-2xl p-12 flex flex-col items-center gap-4 shadow-2xl",dir:"rtl",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-[#f0ece6] flex items-center justify-center",children:a.jsx(Er,{size:36,className:"text-[#8d785e]"})}),a.jsx("span",{className:"text-[15px] text-[#181510]",style:{fontWeight:600},children:s.name}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:"       "}),a.jsxs("a",{href:s.dataUrl,download:s.name,className:"flex items-center gap-2 text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-5 py-2.5 rounded-xl transition-colors mt-2",style:{fontWeight:600},children:[a.jsx(Gg,{size:14})," "]})]})},n)}),c>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>i(f=>(f+1)%c),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-10 h-10 rounded-full bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors backdrop-blur-sm",children:a.jsx(qs,{size:20,className:"text-white"})}),a.jsx("button",{onClick:()=>i(f=>(f-1+c)%c),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-10 h-10 rounded-full bg-white/15 hover:bg-white/25 flex items-center justify-center transition-colors backdrop-blur-sm",children:a.jsx(xl,{size:20,className:"text-white"})})]})]})]}):null}const s$=O.forwardRef(function({task:t,onEdit:r,isDragging:n,onDragStart:i,onDragEnd:s,onOpenLightbox:o},c){const f=Zf[t.type],h=Bg[t.priority],m=f.icon,p=(t.attachments||[]).filter(v=>v.type.startsWith("image/")),x=(t.attachments||[]).length-p.length;return a.jsxs(Ke.div,{ref:c,layout:!0,initial:{opacity:0,y:10},animate:{opacity:n?.5:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},draggable:!0,onDragStart:v=>i(v,t.id),onDragEnd:s,onClick:()=>r(t),className:"group bg-white hover:bg-[#fdfcfb] border border-[#e7e1da] hover:border-[#d4cdc3] rounded-xl p-4 cursor-pointer transition-all shadow-sm hover:shadow-md",style:{opacity:n?.5:1},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[a.jsxs("span",{className:"flex items-center gap-1 text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:f.bg,color:f.color,fontWeight:700},children:[a.jsx(m,{size:10}),f.label]}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:h.bg,color:h.color,fontWeight:700},children:h.label})]}),a.jsx("h4",{className:"text-[13px] text-[#181510] mb-1.5 leading-[1.5]",style:{fontWeight:600},children:t.title}),t.description&&a.jsx("p",{className:"text-[11px] text-[#8d785e] leading-[1.6] mb-3 line-clamp-2",children:t.description}),p.length>0&&a.jsxs("div",{className:"flex gap-1.5 mb-3",children:[p.slice(0,3).map((v,j)=>{const S=(t.attachments||[]).indexOf(v);return a.jsxs("button",{onClick:_=>{_.stopPropagation(),o(t.attachments,S)},className:"relative w-14 h-14 rounded-lg overflow-hidden border border-[#e7e1da] hover:border-[#ff8c00] transition-colors flex-shrink-0 group/thumb",children:[a.jsx("img",{src:v.dataUrl,alt:v.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/thumb:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx($V,{size:14,className:"text-white opacity-0 group-hover/thumb:opacity-100 transition-opacity drop-shadow-md"})})]},j)}),p.length>3&&a.jsx("button",{onClick:v=>{v.stopPropagation(),o(t.attachments,3)},className:"w-14 h-14 rounded-lg bg-[#f0ece6] border border-[#e7e1da] flex items-center justify-center flex-shrink-0",children:a.jsxs("span",{className:"text-[11px] text-[#8d785e]",style:{fontWeight:700},children:["+",p.length-3]})})]}),t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags.map((v,j)=>a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#ff8c00]/10 text-[#ff8c00]",style:{fontWeight:600},children:v},j))}),a.jsxs("div",{className:"flex items-center justify-between pt-2.5 border-t border-[#f0ece6]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[x>0&&a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[#8d785e]",children:[a.jsx(zU,{size:10}),x]}),a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[#b8a990]",children:[a.jsx(xp,{size:10}),cme(t.createdAt)]})]}),a.jsx("div",{className:"opacity-0 group-hover:opacity-40 transition-opacity",children:a.jsx(lU,{size:12,className:"text-[#8d785e]"})})]})]})});s$.displayName="TaskCard";function ume({column:e,tasks:t,onEditTask:r,onAddTask:n,draggedTaskId:i,onDragStart:s,onDragEnd:o,onDrop:c,onOpenLightbox:f}){const[h,m]=O.useState(!1),p=O.useRef(null),[x,v]=O.useState(!1),j=O.useCallback(()=>{const k=p.current;if(!k)return;const C=k.scrollHeight>k.clientHeight+2,R=k.scrollHeight-k.scrollTop-k.clientHeight<8;v(C&&!R)},[]);O.useEffect(()=>{const k=p.current;if(!k)return;j(),k.addEventListener("scroll",j,{passive:!0});const C=new ResizeObserver(j);return C.observe(k),()=>{k.removeEventListener("scroll",j),C.disconnect()}},[j,t.length]);const S=O.useCallback(k=>{k.preventDefault(),k.dataTransfer.dropEffect="move",m(!0)},[]),_=O.useCallback(()=>{m(!1)},[]),N=O.useCallback(k=>{k.preventDefault(),m(!1),c(e.id),setTimeout(()=>{var C;(C=p.current)==null||C.scrollTo({top:0,behavior:"smooth"})},80)},[e.id,c]);return a.jsxs("div",{className:`flex flex-col min-w-[255px] w-[255px] flex-shrink-0 h-full min-h-0 transition-all ${h?"scale-[1.01]":""}`,onDragOver:S,onDragLeave:_,onDrop:N,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:e.dotColor}}),a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:700},children:e.label}),a.jsx("span",{className:"text-[11px] text-[#8d785e] bg-[#f0ece6] px-2 py-0.5 rounded-full",style:{fontWeight:700},children:t.length})]}),a.jsx("button",{onClick:()=>n(e.id),className:"w-7 h-7 rounded-lg bg-white border border-[#e7e1da] hover:bg-[#f5f3f0] hover:border-[#d4cdc3] flex items-center justify-center transition-colors",children:a.jsx($r,{size:14,className:"text-[#8d785e]"})})]}),a.jsxs("div",{className:"relative flex-1 min-h-0",children:[a.jsxs("div",{ref:p,className:`h-full space-y-3 p-1.5 rounded-xl transition-colors overflow-y-auto kanban-scroll ${h?"bg-[#ff8c00]/5 ring-2 ring-dashed ring-[#ff8c00]/30":""}`,style:{scrollbarWidth:"thin",scrollbarColor:"#d4cdc3 transparent"},children:[a.jsx(ln,{mode:"popLayout",children:t.map(k=>a.jsx(s$,{task:k,onEdit:r,isDragging:i===k.id,onDragStart:s,onDragEnd:o,onOpenLightbox:f},k.id))}),t.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-14 opacity-40",children:[a.jsx(yh,{size:24,className:"text-[#8d785e] mb-2"}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:" "})]})]}),a.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 h-10 rounded-b-xl transition-opacity duration-300",style:{opacity:x?1:0,background:"linear-gradient(to bottom, transparent 0%, #f8f7f5 90%)"}})]})]})}function dme({task:e,isNew:t,activeVersion:r,onSave:n,onDelete:i,onClose:s}){const[o,c]=O.useState({...e}),[f,h]=O.useState(null),m=O.useRef(null),[p,x]=O.useState("");O.useEffect(()=>{var N;(N=m.current)==null||N.focus()},[]),O.useEffect(()=>{const N=k=>{k.key==="Escape"&&s()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[s]);const v=(N,k)=>{c(C=>({...C,[N]:k})),N==="title"&&x("")},j=()=>{var N,k;if(!o.title.trim()){x("    "),(N=m.current)==null||N.focus();return}if(o.title.trim().length<2){x("    2 "),(k=m.current)==null||k.focus();return}n(o)},S=o.title.trim().length>=2,_={backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%238d785e' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"left 12px center"};return a.jsxs(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4",onClick:s,children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),a.jsxs(Ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},onClick:N=>N.stopPropagation(),className:"relative w-full max-w-[860px] bg-white border border-[#e7e1da] rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",dir:"rtl",children:[a.jsxs("div",{className:"flex items-center justify-between px-8 pt-7 pb-4 border-b border-[#f0ece6]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-[22px] text-[#181510]",style:{fontWeight:700},children:t?" ":" "}),a.jsx("p",{className:"text-[13px] text-[#8d785e] mt-0.5",children:t?"   .":"   ."})]}),a.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-lg",style:{fontWeight:700,backgroundColor:r==="V1"?"#fff7ed":"#f5f3ff",color:r==="V1"?"#ff8c00":"#a78bfa"},children:r})]}),a.jsx("button",{onClick:s,className:"w-8 h-8 rounded-lg hover:bg-[#f5f3f0] flex items-center justify-center transition-colors",children:a.jsx(Ir,{size:18,className:"text-[#8d785e]"})})]}),a.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex-[2] space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[13px] text-[#181510] mb-2",style:{fontWeight:600},children:""}),a.jsx("input",{ref:m,type:"text",value:o.title,onChange:N=>v("title",N.target.value),placeholder:" ...",className:`w-full bg-[#f8f7f5] border rounded-xl px-4 py-3 text-[14px] text-[#181510] placeholder-[#b8a990] focus:outline-none focus:ring-2 transition-all ${p?"border-red-400 focus:border-red-400 focus:ring-red-200 bg-red-50/30":S?"border-green-400 focus:border-green-400 focus:ring-green-200":"border-[#e7e1da] focus:border-[#ff8c00] focus:ring-[#ff8c00]/10"}`}),p&&a.jsxs("p",{className:"text-[12px] text-red-500 mt-1 flex items-center gap-1",style:{fontWeight:500},children:[a.jsx(ph,{size:12}),p]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[13px] text-[#181510] mb-2",style:{fontWeight:600},children:""}),a.jsx("textarea",{value:o.description,onChange:N=>v("description",N.target.value),placeholder:"  ...",rows:8,className:"w-full bg-[#f8f7f5] border border-[#e7e1da] rounded-xl px-4 py-3 text-[13px] text-[#181510] placeholder-[#b8a990] focus:outline-none focus:border-[#ff8c00] focus:ring-2 focus:ring-[#ff8c00]/10 transition-all resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[13px] text-[#181510] mb-2",style:{fontWeight:600},children:" "}),o.attachments&&o.attachments.length>0&&a.jsx("div",{className:"space-y-2 mb-3",children:o.attachments.map((N,k)=>{const C=N.type.startsWith("image/");return a.jsxs("div",{className:"flex items-center gap-3 bg-[#f8f7f5] border border-[#e7e1da] hover:border-[#d4cdc3] rounded-lg p-2.5 transition-colors",children:[a.jsxs("button",{onClick:()=>h(k),className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer group/att",children:[C?a.jsxs("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden flex-shrink-0",children:[a.jsx("img",{src:N.dataUrl,alt:N.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/att:bg-black/20 transition-colors flex items-center justify-center",children:a.jsx(_a,{size:12,className:"text-white opacity-0 group-hover/att:opacity-100 transition-opacity drop-shadow-md"})})]}):a.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#f0ece6] group-hover/att:bg-[#e7e1da] flex items-center justify-center flex-shrink-0 transition-colors",children:a.jsx(Er,{size:16,className:"text-[#8d785e]"})}),a.jsxs("div",{className:"flex-1 min-w-0 text-right",children:[a.jsx("span",{className:"block text-[12px] text-[#181510] truncate",children:N.name}),a.jsx("span",{className:"block text-[10px] text-[#b8a990]",children:C?" ":" "})]})]}),a.jsx("button",{onClick:()=>{c(R=>{var A;return{...R,attachments:((A=R.attachments)==null?void 0:A.filter((E,$)=>$!==k))||[]}})},className:"w-7 h-7 rounded-lg hover:bg-red-50 flex items-center justify-center transition-colors flex-shrink-0",children:a.jsx(Un,{size:13,className:"text-[#dc2626]"})})]},k)})}),a.jsxs("label",{className:"flex items-center gap-3 border-2 border-dashed border-[#e7e1da] hover:border-[#ff8c00]/40 rounded-xl px-4 py-4 cursor-pointer transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#f0ece6] group-hover:bg-[#ff8c00]/10 flex items-center justify-center transition-colors",children:a.jsx(gh,{size:16,className:"text-[#8d785e] group-hover:text-[#ff8c00] transition-colors"})}),a.jsxs("div",{children:[a.jsx("span",{className:"block text-[12px] text-[#181510]",style:{fontWeight:600},children:"   "}),a.jsx("span",{className:"block text-[10px] text-[#b8a990]",children:"PNG, JPG, PDF, DOC   5MB"})]})]}),a.jsx("input",{type:"file",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",multiple:!0,className:"hidden",onChange:N=>{const k=N.target.files;k&&(Array.from(k).forEach(C=>{if(C.size>5*1024*1024)return;const R=new FileReader;R.onload=()=>{c(A=>({...A,attachments:[...A.attachments||[],{name:C.name,type:C.type,dataUrl:R.result}]}))},R.readAsDataURL(C)}),N.target.value="")}})]})]})]}),a.jsxs("div",{className:"w-[240px] space-y-4 bg-[#f8f7f5] border border-[#e7e1da] rounded-xl p-5",children:[a.jsx("div",{className:"text-[11px] text-[#8d785e] tracking-wide mb-1",style:{fontWeight:700},children:""}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#181510] mb-1.5",style:{fontWeight:600},children:""}),a.jsxs("select",{value:o.status,onChange:N=>v("status",N.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] transition-colors appearance-none cursor-pointer",style:_,children:[a.jsx("option",{value:"ideas",children:" "}),a.jsx("option",{value:"todo",children:""}),a.jsx("option",{value:"in-progress",children:""}),a.jsx("option",{value:"on-hold",children:""}),a.jsx("option",{value:"done",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#181510] mb-1.5",style:{fontWeight:600},children:""}),a.jsxs("select",{value:o.priority,onChange:N=>v("priority",N.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] transition-colors appearance-none cursor-pointer",style:_,children:[a.jsx("option",{value:"HIGH",children:""}),a.jsx("option",{value:"MEDIUM",children:""}),a.jsx("option",{value:"LOW",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#181510] mb-1.5",style:{fontWeight:600},children:""}),a.jsxs("select",{value:o.type,onChange:N=>v("type",N.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] transition-colors appearance-none cursor-pointer",style:_,children:[a.jsx("option",{value:"TASK",children:""}),a.jsx("option",{value:"FEATURE",children:""}),a.jsx("option",{value:"BUG",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#181510] mb-1.5",style:{fontWeight:600},children:""}),a.jsx("select",{value:o.feature,onChange:N=>v("feature",N.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] transition-colors appearance-none cursor-pointer",style:_,children:gS.map(N=>a.jsx("option",{value:N,children:N},N))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[12px] text-[#181510] mb-1.5",style:{fontWeight:600},children:""}),a.jsxs("select",{value:o.version,onChange:N=>v("version",N.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] transition-colors appearance-none cursor-pointer",style:_,children:[a.jsx("option",{value:"V1",children:"V1  MVP"}),a.jsx("option",{value:"V2",children:"V2  "})]})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between px-8 py-5 border-t border-[#f0ece6] bg-[#fdfcfb]",children:[a.jsx("div",{children:!t&&a.jsx("button",{onClick:()=>{i(o.id),s()},className:"text-[13px] text-[#dc2626] hover:text-[#b91c1c] px-4 py-2 rounded-lg hover:bg-red-50 transition-colors",style:{fontWeight:600},children:""})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:s,className:"text-[13px] text-[#181510] bg-white hover:bg-[#f5f3f0] border border-[#e7e1da] px-5 py-2.5 rounded-xl transition-colors",style:{fontWeight:600},children:""}),a.jsx("button",{onClick:j,disabled:!S,className:"text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed px-6 py-2.5 rounded-xl transition-colors shadow-md shadow-[#ff8c00]/20",style:{fontWeight:600},children:t?" ":" "})]})]})]}),a.jsx(ln,{children:f!==null&&o.attachments&&o.attachments.length>0&&a.jsx(i$,{attachments:o.attachments,initialIndex:f,onClose:()=>h(null)})})]})}function fme({tasks:e}){const t=e.filter(c=>c.status!=="ideas"),r=t.length,n=t.filter(c=>c.status==="done").length,i=t.filter(c=>c.status==="in-progress").length,s=t.filter(c=>c.status==="todo").length,o=t.filter(c=>c.priority==="HIGH"&&c.status!=="done").length;return a.jsxs("div",{className:"flex items-center gap-5 text-[12px] flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff8c00]"}),a.jsx("span",{className:"text-[#8d785e]",children:" :"}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:700},children:r})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#22c55e]"}),a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("span",{className:"text-[#22c55e]",style:{fontWeight:700},children:n})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff8c00]"}),a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("span",{className:"text-[#ff8c00]",style:{fontWeight:700},children:i})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#8d785e]"}),a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:700},children:s})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#dc2626]"}),a.jsx("span",{className:"text-[#8d785e]",children:" :"}),a.jsx("span",{className:"text-[#dc2626]",style:{fontWeight:700},children:o})]}),a.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[a.jsx("span",{className:"text-[#8d785e]",children:":"}),a.jsx("div",{className:"w-28 h-2 bg-[#ece8e3] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-l from-[#ff8c00] to-[#22c55e] rounded-full transition-all duration-500",style:{width:`${r>0?n/r*100:0}%`}})}),a.jsxs("span",{className:"text-[#181510]",style:{fontWeight:700},children:[r>0?Math.round(n/r*100):0,"%"]})]})]})}function hme({tasks:e,version:t,onEdit:r,onPromote:n,onAdd:i}){const s=e.filter(m=>m.status==="ideas"&&m.version===t),[o,c]=O.useState("ALL"),f=Array.from(new Set(s.map(m=>m.feature))).sort(),h=o==="ALL"?s:s.filter(m=>m.feature===o);return a.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-[#a78bfa]/10 rounded-xl flex items-center justify-center",children:a.jsx(Zg,{size:18,className:"text-[#a78bfa]"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:["   ",t]}),a.jsxs("p",{className:"text-[11px] text-[#8d785e]",children:[s.length,"   "]})]})]}),a.jsxs("button",{onClick:i,className:"flex items-center gap-1.5 text-white px-4 py-2 rounded-xl text-[12px] transition-colors shadow-md",style:{fontWeight:600,backgroundColor:"#a78bfa",boxShadow:"0 4px 12px #a78bfa33"},children:[a.jsx($r,{size:14})," "]})]}),f.length>1&&a.jsxs("div",{className:"flex items-center gap-2 mb-5 flex-wrap",children:[a.jsx("span",{className:"text-[11px] text-[#8d785e]",style:{fontWeight:600},children:"  ':"}),a.jsxs("button",{onClick:()=>c("ALL"),className:`text-[11px] px-3 py-1.5 rounded-lg transition-colors ${o==="ALL"?"bg-[#a78bfa] text-white":"bg-[#f0ece6] text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:600},children:[" (",s.length,")"]}),f.map(m=>{const p=s.filter(x=>x.feature===m).length;return a.jsxs("button",{onClick:()=>c(m),className:`text-[11px] px-3 py-1.5 rounded-lg transition-colors ${o===m?"bg-[#a78bfa] text-white":"bg-[#f0ece6] text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:600},children:[m," (",p,")"]},m)})]}),h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-[#a78bfa]/10 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(Zg,{size:28,className:"text-[#a78bfa]"})}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",style:{fontWeight:600},children:"  "}),a.jsx("p",{className:"text-[12px] text-[#b8a990] mt-1",children:"      "})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.jsx(ln,{mode:"popLayout",children:h.map(m=>{const p=Zf[m.type].icon;return a.jsxs(Ke.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl border border-[#e7e1da] p-5 hover:shadow-lg hover:border-[#a78bfa]/30 transition-all group cursor-pointer",onClick:()=>r(m),children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md text-[10px]",style:{fontWeight:700,backgroundColor:Zf[m.type].bg,color:Zf[m.type].color},children:[a.jsx(p,{size:10}),Zf[m.type].label]}),a.jsx("div",{className:"px-2 py-1 rounded-md text-[10px]",style:{fontWeight:700,backgroundColor:Bg[m.priority].bg,color:Bg[m.priority].color},children:Bg[m.priority].label})]})}),a.jsx("h3",{className:"text-[14px] text-[#181510] mb-2 leading-snug",style:{fontWeight:700},children:m.title}),m.description&&a.jsx("p",{className:"text-[12px] text-[#8d785e] mb-3 leading-relaxed line-clamp-3",children:m.description}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-4",children:[a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f0ece6] text-[#8d785e]",style:{fontWeight:600},children:m.feature}),m.tags.slice(0,2).map(x=>a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#a78bfa]/10 text-[#a78bfa]",style:{fontWeight:600},children:x},x))]}),a.jsxs("button",{onClick:x=>{x.stopPropagation(),n(m)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-xl text-[12px] border-2 border-dashed border-[#e7e1da] text-[#8d785e] hover:border-[#a78bfa] hover:text-[#a78bfa] hover:bg-[#a78bfa]/5 transition-all opacity-0 group-hover:opacity-100",style:{fontWeight:600},children:[a.jsx(RU,{size:14})," "]})]},m.id)})})})]})}function pme(){var ue;const[e,t]=O.useState(()=>{try{const de=localStorage.getItem(Tg);if(de)return JSON.parse(de)}catch{}return nj}),[r,n]=O.useState(!0),[i,s]=O.useState(!1),[o,c]=O.useState(!1),[f,h]=O.useState("V1"),[m,p]=O.useState(null),[x,v]=O.useState(!1),[j,S]=O.useState(null),[_,N]=O.useState(""),[k,C]=O.useState("ALL"),[R,A]=O.useState("ALL"),[E,$]=O.useState(null),[I,D]=O.useState(!1),[W,B]=O.useState("kanban"),q=O.useRef(!0);O.useEffect(()=>{q.current=!0;let de=!1;async function Re(){try{const Me=nj.map(({attachments:qe,...he})=>he);await Xo.seed(Me,ome);const Ye=await Xo.list();if(de)return;Ye&&Ye.length>0?(t(Ye),localStorage.setItem(Tg,JSON.stringify(Ye)),console.log(`[Kanban] Loaded ${Ye.length} tasks from server`)):(console.warn("[Kanban] Server returned 0 tasks, using INITIAL_TASKS"),t(nj)),c(!1)}catch(Me){console.error("[Kanban] Failed to load from server, using cached data:",Me),c(!0)}finally{de||n(!1)}}return Re(),()=>{de=!0,q.current=!1}},[]),O.useEffect(()=>{r||localStorage.setItem(Tg,JSON.stringify(e))},[e,r]);const J=O.useCallback(async(de,Re)=>{s(!0);try{await Re(),c(!1)}catch(Me){console.error(`[Kanban] Sync failed (${de}):`,Me),c(!0)}finally{q.current&&s(!1)}},[]),X=e.filter(de=>de.version===f),Z=X.filter(de=>{if(_){const Re=_.toLowerCase();if(!de.title.toLowerCase().includes(Re)&&!de.description.toLowerCase().includes(Re))return!1}return!(k!=="ALL"&&de.type!==k||R!=="ALL"&&de.priority!==R)}),F=O.useCallback(de=>Z.filter(Re=>Re.status===de).sort((Re,Me)=>Me.createdAt.localeCompare(Re.createdAt)),[Z]),K=de=>{const Re={id:qR(),title:"",description:"",type:"TASK",priority:"MEDIUM",status:de,feature:gS[0],estimate:"",tags:[],createdAt:new Date().toISOString().split("T")[0],version:f};p(Re),v(!0)},U=de=>{const Re=x;t(Re?qe=>[...qe,de]:qe=>qe.map(he=>he.id===de.id?de:he)),p(null),v(!1);const{attachments:Me,...Ye}=de;Re?J("create",()=>Xo.create(Ye).then(()=>{})):J("update",()=>Xo.update(de.id,Ye).then(()=>{}))},ie=de=>{t(Re=>Re.filter(Me=>Me.id!==de)),J("delete",()=>Xo.delete(de).then(()=>{}))},se=(de,Re)=>{$(Re)},G=()=>{$(null)},Y=de=>{if(!E)return;const Re=E,Me=e.find(Ye=>Ye.id===Re);if(!Me||Me.status===de){$(null);return}t(Ye=>Ye.map(qe=>qe.id===Re?{...qe,status:de}:qe)),$(null),J("move",()=>Xo.update(Re,{status:de}).then(()=>{}))},oe=de=>{const Re={...de,status:"todo"};t(Me=>Me.map(Ye=>Ye.id===de.id?Re:Ye)),J("promote",()=>Xo.update(de.id,{status:"todo"}).then(()=>{}))},_e=()=>{const de={id:qR(),title:"",description:"",type:"FEATURE",priority:"MEDIUM",status:"ideas",feature:gS[0],estimate:"",tags:[],createdAt:new Date().toISOString().split("T")[0],version:f};p(de),v(!0)},Ce=async()=>{n(!0);try{const de=await Xo.list();de&&de.length>0&&(t(de),localStorage.setItem(Tg,JSON.stringify(de)),c(!1))}catch(de){console.error("[Kanban] Refresh from server failed:",de),c(!0)}finally{n(!1)}},Ne=e.filter(de=>de.version==="V1").length,Be=e.filter(de=>de.version==="V2").length,ye={V1:Ne,V2:Be},ee=e.filter(de=>de.status==="ideas"&&de.version===f).length,xe={ALL:"",TASK:"",FEATURE:"",BUG:""},ke={ALL:"",HIGH:"",MEDIUM:"",LOW:""},te=((ue=VR.find(de=>de.id===f))==null?void 0:ue.color)||"#ff8c00";return a.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-[#f8f7f5]",dir:"rtl",children:[a.jsx("div",{className:"border-b border-[#e7e1da] bg-white flex-shrink-0",children:a.jsxs("div",{className:"max-w-[1500px] mx-auto px-6 py-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx(yh,{size:20,className:"text-[#ff8c00]"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-[12px] text-[#8d785e]",children:"   TravelPro"}),i?a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#ff8c00]",style:{fontWeight:600},children:[a.jsx(vt,{size:10,className:"animate-spin"}),a.jsx("span",{children:"..."})]}):o?a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#dc2626]",style:{fontWeight:600},children:[a.jsx(BF,{size:10}),a.jsx("span",{children:" "})]}):r?null:a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#22c55e]",style:{fontWeight:600},children:[a.jsx(UF,{size:10}),a.jsx("span",{children:""})]})]})]})]}),a.jsx("div",{className:"flex items-center bg-[#f0ece6] rounded-xl p-1 mr-4",children:VR.map(de=>{const Re=f===de.id;return a.jsxs("button",{onClick:()=>h(de.id),className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-[13px] transition-all ${Re?"bg-white shadow-sm":"hover:bg-white/50"}`,style:{fontWeight:Re?700:500},children:[a.jsx(yU,{size:14,style:{color:Re?de.color:"#8d785e"}}),a.jsx("span",{style:{color:Re?de.color:"#8d785e"},children:de.label}),a.jsx("span",{className:"text-[10px] text-[#8d785e]",children:de.subtitle}),a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full",style:{fontWeight:700,backgroundColor:Re?`${de.color}15`:"#e7e1da",color:Re?de.color:"#8d785e"},children:ye[de.id]}),Re&&a.jsx(Ke.div,{layoutId:"version-indicator",className:"absolute bottom-0 right-3 left-3 h-[2px] rounded-full",style:{backgroundColor:de.color},transition:{duration:.25}})]},de.id)})}),a.jsxs("div",{className:"flex items-center bg-[#f0ece6] rounded-xl p-1 mr-2",children:[a.jsxs("button",{onClick:()=>B("kanban"),className:`relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-[12px] transition-all ${W==="kanban"?"bg-white shadow-sm":"hover:bg-white/50"}`,style:{fontWeight:W==="kanban"?700:500},children:[a.jsx(yh,{size:13,style:{color:W==="kanban"?"#ff8c00":"#8d785e"}}),a.jsx("span",{style:{color:W==="kanban"?"#ff8c00":"#8d785e"},children:" "})]}),a.jsxs("button",{onClick:()=>B("ideas"),className:`relative flex items-center gap-1.5 px-3 py-2 rounded-lg text-[12px] transition-all ${W==="ideas"?"bg-white shadow-sm":"hover:bg-white/50"}`,style:{fontWeight:W==="ideas"?700:500},children:[a.jsx(Zg,{size:13,style:{color:W==="ideas"?"#a78bfa":"#8d785e"}}),a.jsx("span",{style:{color:W==="ideas"?"#a78bfa":"#8d785e"},children:" "}),ee>0&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full",style:{fontWeight:700,backgroundColor:W==="ideas"?"#a78bfa15":"#e7e1da",color:W==="ideas"?"#a78bfa":"#8d785e"},children:ee})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[W==="kanban"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx(ho,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#b8a990]"}),a.jsx("input",{type:"text",value:_,onChange:de=>N(de.target.value),placeholder:" ...",className:"w-52 bg-[#f8f7f5] border border-[#e7e1da] rounded-xl pr-9 pl-3 py-2 text-[12px] text-[#181510] placeholder-[#b8a990] focus:outline-none focus:border-[#ff8c00] focus:ring-2 focus:ring-[#ff8c00]/10 transition-all"})]}),a.jsxs("button",{onClick:()=>D(!I),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-[12px] border transition-colors ${I||k!=="ALL"||R!=="ALL"?"bg-[#ff8c00]/10 border-[#ff8c00]/30 text-[#ff8c00]":"bg-[#f8f7f5] border-[#e7e1da] text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:600},children:[a.jsx(DS,{size:13}),"",(k!=="ALL"||R!=="ALL")&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#ff8c00]"})]}),a.jsxs("button",{onClick:()=>K("todo"),className:"flex items-center gap-1.5 text-white px-4 py-2 rounded-xl text-[12px] transition-colors shadow-md",style:{fontWeight:600,backgroundColor:te,boxShadow:`0 4px 12px ${te}33`},children:[a.jsx($r,{size:14})," "]})]}),a.jsxs("button",{onClick:Ce,disabled:r,className:"flex items-center gap-1.5 px-3 py-2 rounded-xl text-[12px] bg-[#f8f7f5] border border-[#e7e1da] text-[#8d785e] hover:text-[#181510] transition-colors disabled:opacity-50",style:{fontWeight:600},title:" ",children:[a.jsx(ZU,{size:13,className:r?"animate-spin":""}),""]})]})]}),a.jsx(ln,{children:I&&W==="kanban"&&a.jsx(Ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"flex items-center gap-4 py-3 border-t border-[#f0ece6]",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:":"}),a.jsx("div",{className:"flex gap-1",children:["ALL","TASK","FEATURE","BUG"].map(de=>a.jsx("button",{onClick:()=>C(de),className:`text-[11px] px-3 py-1.5 rounded-lg transition-colors ${k===de?"bg-[#ff8c00] text-white":"bg-[#f0ece6] text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:600},children:xe[de]},de))}),a.jsx("div",{className:"w-px h-5 bg-[#e7e1da]"}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:":"}),a.jsx("div",{className:"flex gap-1",children:["ALL","HIGH","MEDIUM","LOW"].map(de=>a.jsx("button",{onClick:()=>A(de),className:`text-[11px] px-3 py-1.5 rounded-lg transition-colors ${R===de?"bg-[#ff8c00] text-white":"bg-[#f0ece6] text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:600},children:ke[de]},de))}),(k!=="ALL"||R!=="ALL")&&a.jsx("button",{onClick:()=>{C("ALL"),A("ALL")},className:"text-[11px] text-[#dc2626] hover:text-[#b91c1c] transition-colors mr-auto",style:{fontWeight:600},children:" "})]})})}),W==="kanban"&&a.jsx("div",{className:"mt-3",children:a.jsx(fme,{tasks:X})})]})}),a.jsxs("div",{className:"relative flex-1 min-h-0 flex flex-col",children:[r&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-[#f8f7f5]/70 backdrop-blur-sm rounded-xl",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(vt,{size:28,className:"animate-spin text-[#ff8c00]"}),a.jsx("span",{className:"text-[13px] text-[#8d785e]",style:{fontWeight:600},children:"  ..."})]})}),a.jsx(ln,{mode:"wait",children:W==="kanban"?a.jsx(Ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.25},className:"flex-1 min-h-0 max-w-[1500px] w-full mx-auto px-6 py-6 overflow-x-auto",children:a.jsx("div",{className:"flex gap-4 justify-center min-w-max h-full",children:ame.map(de=>a.jsx(ume,{column:de,tasks:F(de.id),onEditTask:Re=>{p(Re),v(!1)},onAddTask:K,draggedTaskId:E,onDragStart:se,onDragEnd:G,onDrop:Y,onOpenLightbox:(Re,Me)=>S({attachments:Re,index:Me})},de.id))})},`kanban-${f}`):a.jsx(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.25},className:"flex-1 min-h-0 overflow-y-auto kanban-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#d4cdc3 transparent"},children:a.jsx(hme,{tasks:e,version:f,onEdit:de=>{p(de),v(!1)},onPromote:oe,onAdd:_e})},`ideas-${f}`)})]}),a.jsx(ln,{children:m&&a.jsx(dme,{task:m,isNew:x,activeVersion:f,onSave:U,onDelete:ie,onClose:()=>{p(null),v(!1)}})}),a.jsx(ln,{children:j&&j.attachments&&j.attachments.length>0&&a.jsx(i$,{attachments:j.attachments,initialIndex:j.index,onClose:()=>S(null)})})]})}function $f({id:e,children:t}){return a.jsx("section",{id:e,className:"scroll-mt-24 break-inside-avoid-page",children:t})}function Ya({number:e,title:t,emoji:r,purpose:n,audience:i,color:s,children:o,mockup:c}){const[f,h]=O.useState(!0);return a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden break-inside-avoid-page mb-8 print:shadow-none print:border print:mb-4",children:[a.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center gap-4 p-6 text-right print:pointer-events-none",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-[26px] shrink-0",style:{backgroundColor:s+"15"},children:r}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-[12px] px-2.5 py-0.5 rounded-full text-white",style:{backgroundColor:s,fontWeight:700},children:[" ",e]}),a.jsx("span",{className:"text-[12px] text-[#8d785e]",children:i})]}),a.jsx("h3",{className:"text-[22px] text-[#181510] mt-1",style:{fontWeight:700},children:t}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-0.5",children:n})]}),a.jsx("div",{className:"print:hidden",children:f?a.jsx(AI,{size:20,className:"text-[#8d785e]"}):a.jsx(IS,{size:20,className:"text-[#8d785e]"})})]}),f&&a.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[a.jsxs("div",{className:"rounded-xl border-2 border-[#e7e1da] overflow-hidden bg-[#f8f7f5]",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#ece8e3] border-b border-[#e7e1da]",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#ef4444]"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#eab308]"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#22c55e]"})]}),a.jsx("div",{className:"flex-1 bg-white rounded-md px-3 py-1 text-[11px] text-[#8d785e] text-center mx-8",children:"travelpro.app"})]}),a.jsx("div",{className:"p-1",dir:"rtl",children:c})]}),o]})]})}function Xn({label:e,color:t="#ff8c00"}){return a.jsxs("span",{className:"inline-flex items-center gap-1 text-[12px] px-3 py-1 rounded-full",style:{backgroundColor:t+"12",color:t,fontWeight:600},children:[a.jsx(ro,{size:12}),e]})}function Yt({label:e,value:t}){return a.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-[#f5f3f0] last:border-0",children:[a.jsx("span",{className:"text-[13px] text-[#8d785e] w-28 shrink-0",style:{fontWeight:600},children:e}),a.jsx("span",{className:"text-[13px] text-[#181510]",children:t})]})}function Dp(){return a.jsxs("div",{className:"w-[72px] bg-white border-l border-[#e7e1da] flex flex-col items-center py-3 gap-2 shrink-0",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#ff8c00] mb-2"}),["#ff8c00","#e7e1da","#e7e1da","#e7e1da","#e7e1da","#e7e1da"].map((e,t)=>a.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:e==="#ff8c00"?"#ff8c0020":"#f5f3f0"}},t))]})}function $p(){return a.jsxs("div",{className:"h-8 bg-white border-b border-[#e7e1da] flex items-center px-3 gap-2",children:[a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"w-32 h-5 bg-[#f5f3f0] rounded-md"}),a.jsx("div",{className:"flex-1"}),a.jsx("div",{className:"w-5 h-5 rounded-full bg-[#f5f3f0]"}),a.jsx("div",{className:"w-5 h-5 rounded-full bg-[#f5f3f0]"})]})}function mme(){return a.jsxs("div",{className:"flex h-[320px] text-[9px]",children:[a.jsx(Dp,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx($p,{}),a.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-hidden bg-[#f8f7f5]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-4 w-36 bg-[#181510] rounded-sm opacity-80"}),a.jsx("div",{className:"h-2.5 w-48 bg-[#ddd6cb] rounded-sm mt-1"})]}),a.jsx("div",{className:"h-6 w-16 bg-[#ff8c00] rounded-md"})]}),a.jsxs("div",{className:"h-6 bg-white rounded-lg border border-[#e7e1da] flex items-center px-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ff8c00] animate-pulse"}),a.jsx("div",{className:"h-2 flex-1 bg-[#f5f3f0] rounded-sm mx-2"})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{c:"#ff8c00",v:"12",l:" "},{c:"#3b82f6",v:"45",l:" "},{c:"#a855f7",v:"28",l:""},{c:"#ea580c",v:"8",l:""}].map((e,t)=>a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"w-5 h-5 rounded-md",style:{backgroundColor:e.c+"15"},children:a.jsx("div",{className:"w-2.5 h-2.5 rounded-sm m-[5px]",style:{backgroundColor:e.c}})}),a.jsx("span",{className:"text-[8px] px-1 rounded",style:{backgroundColor:"#f0fdf4",color:"#16a34a"},children:"+15%"})]}),a.jsx("div",{className:"text-[8px] text-[#8d785e]",children:e.l}),a.jsx("div",{className:"text-[16px] text-[#181510]",style:{fontWeight:800},children:e.v}),a.jsx("div",{className:"h-4 mt-1",children:a.jsx("svg",{viewBox:"0 0 80 16",className:"w-full h-full",children:a.jsx("polyline",{points:"0,12 15,8 30,10 45,4 60,6 75,2 80,1",fill:"none",stroke:e.c,strokeWidth:"2"})})})]},t))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-[2] bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:" "}),[""," ","","",""].map((e,t)=>a.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[a.jsx("span",{className:"text-[7px] text-[#8d785e] w-12 text-left",children:e}),a.jsx("div",{className:"flex-1 h-3 bg-[#f5f3f0] rounded-sm overflow-hidden",children:a.jsx("div",{className:"h-full rounded-sm",style:{width:`${90-t*15}%`,backgroundColor:["#3b82f6","#f59e0b","#8b5cf6","#22c55e","#ff8c00"][t]+"30",borderRight:`2px solid ${["#3b82f6","#f59e0b","#8b5cf6","#22c55e","#ff8c00"][t]}`}})})]},t))]}),a.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-[#e7e1da] p-2 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1 self-start",style:{fontWeight:700},children:""}),a.jsxs("div",{className:"relative w-16 h-16",children:[a.jsxs("svg",{viewBox:"0 0 48 48",className:"w-full h-full -rotate-90",children:[a.jsx("circle",{cx:"24",cy:"24",r:"19",fill:"none",stroke:"#ece8e3",strokeWidth:"5"}),a.jsx("circle",{cx:"24",cy:"24",r:"19",fill:"none",stroke:"#ff8c00",strokeWidth:"5",strokeDasharray:"119.4",strokeDashoffset:"33.4",strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[12px] text-[#181510]",style:{fontWeight:800},children:"72%"})]}),a.jsx("div",{className:"text-[7px] text-[#8d785e] mt-1",children:"362K  500K"})]})]})]})]})]})}function gme(){return a.jsxs("div",{className:"flex h-[280px] text-[9px]",children:[a.jsx(Dp,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx($p,{}),a.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-hidden bg-[#f8f7f5]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-[#ff8c00]/10 flex items-center justify-center text-[12px]",children:""}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:""})]}),a.jsx("div",{className:"h-6 w-20 bg-[#ff8c00] rounded-lg flex items-center justify-center text-white text-[8px]",style:{fontWeight:600},children:"+  "})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"flex-1 h-6 bg-white border border-[#e7e1da] rounded-md"}),a.jsx("div",{className:"flex gap-0.5 bg-white border border-[#e7e1da] rounded-md p-0.5",children:["","","",""].map((e,t)=>a.jsx("div",{className:`px-2 py-0.5 rounded text-[7px] ${t===0?"bg-[#181510] text-white":"text-[#8d785e]"}`,style:{fontWeight:600},children:e},t))})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{name:"   ",co:"-",status:" ",sc:"#f97316",p:120,pr:"102K",m:25},{name:"  Q1",co:"-",status:" ",sc:"#3b82f6",p:80,pr:"",m:0},{name:"   ",co:"",status:" ",sc:"#8b5cf6",p:45,pr:"38K",m:22}].map((e,t)=>a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-[7px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:e.sc+"15",color:e.sc,fontWeight:600},children:e.status}),a.jsxs("span",{className:"text-[7px] text-[#8d785e]",children:["#483",t]})]}),a.jsx("div",{className:"text-[10px] text-[#181510]",style:{fontWeight:600},children:e.name}),a.jsx("div",{className:"text-[8px] text-[#8d785e] mb-1",children:e.co}),a.jsxs("div",{className:"flex gap-2 text-[7px] text-[#8d785e]",children:[a.jsxs("span",{children:[" ",e.p]}),e.pr&&a.jsxs("span",{children:[" ",e.pr]})]}),e.m>0&&a.jsxs("div",{className:"mt-1.5 flex items-center gap-1",children:[a.jsx("div",{className:"flex-1 h-1 bg-[#ece8e3] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-400 rounded-full",style:{width:`${e.m}%`}})}),a.jsxs("span",{className:"text-[7px] text-green-600",style:{fontWeight:600},children:[e.m,"%"]})]})]},t))})]})]})]})}function yme(){return a.jsxs("div",{className:"flex h-[320px] text-[9px]",children:[a.jsx(Dp,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx($p,{}),a.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-hidden bg-[#f8f7f5]",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:":    "})}),a.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[{l:"",v:" ",c:"#ff8c00"},{l:"",v:"-"},{l:"",v:"120 "},{l:"",v:" "}].map((e,t)=>a.jsxs("div",{className:"bg-white rounded-lg p-1.5 border border-[#e7e1da] text-center",children:[a.jsx("div",{className:"text-[7px] text-[#8d785e]",children:e.l}),a.jsx("div",{className:"text-[9px]",style:{fontWeight:600,color:e.c||"#181510"},children:e.v})]},t))}),a.jsxs("div",{className:"bg-gradient-to-l from-[#181510] to-[#2a2518] rounded-lg p-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[7px] text-[#c4b89a]",children:" "}),a.jsx("div",{className:"text-[14px] text-white",style:{fontWeight:700},children:"375"})]}),a.jsx("div",{className:"w-px h-6 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[7px] text-[#c4b89a]",children:" "}),a.jsx("div",{className:"text-[14px] text-white",style:{fontWeight:700},children:"45,000"})]})]}),a.jsxs("div",{className:"bg-[#ff8c00]/20 px-2 py-1 rounded-md text-center",children:[a.jsx("div",{className:"text-[7px] text-[#ffb74d]",children:" "}),a.jsx("div",{className:"text-[12px] text-[#ff8c00]",style:{fontWeight:700},children:"22%"})]})]}),a.jsx("div",{className:"flex gap-0.5 bg-[#ece8e3] rounded-md p-0.5",children:[" "," ",'"'].map((e,t)=>a.jsx("div",{className:`flex-1 text-center py-1 rounded text-[8px] ${t===0?"bg-white text-[#181510] shadow-sm":"text-[#8d785e]"}`,style:{fontWeight:600},children:e},t))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-[10px]",children:""}),a.jsx("span",{className:"text-[9px] text-[#181510]",style:{fontWeight:600},children:""}),a.jsx("span",{className:"mr-auto text-[7px] text-green-600 bg-green-50 px-1 rounded-full",children:" "})]}),a.jsx("div",{className:"text-[8px] text-[#8d785e]",children:"   7,500"})]}),a.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-[10px]",children:""}),a.jsx("span",{className:"text-[9px] text-[#181510]",style:{fontWeight:600},children:" "})]}),a.jsx("div",{className:"flex gap-1",children:["","",""].map((e,t)=>a.jsxs("div",{className:`flex-1 rounded-md border-2 p-1 text-center text-[7px] ${t===0?"border-[#ff8c00] bg-[#ff8c00]/5":"border-[#e7e1da]"}`,children:[a.jsx("div",{className:"h-5 bg-[#f5f3f0] rounded-sm mb-0.5"}),e]},t))})]})]})]})]})]})}function xme(){return a.jsxs("div",{className:"flex h-[300px] text-[9px]",children:[a.jsx(Dp,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx($p,{}),a.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-hidden bg-[#f8f7f5]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[14px]",children:""}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:" "})]}),a.jsx("div",{className:"h-6 w-20 bg-[#ff8c00] rounded-lg flex items-center justify-center text-white text-[8px]",style:{fontWeight:600},children:"+  "})]}),a.jsx("div",{className:"h-6 bg-white border border-[#e7e1da] rounded-lg"}),a.jsx("div",{className:"flex gap-2",children:["","",""].map((e,t)=>a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-[7px] text-[#8d785e] mb-0.5",children:e}),a.jsx("div",{className:"h-5 bg-white border border-[#e7e1da] rounded-md"})]},t))}),a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-1 bg-[#f5f3f0] border-b border-[#e7e1da] text-[7px] text-[#8d785e]",style:{fontWeight:600},children:[a.jsx("span",{className:"col-span-2",children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),[{n:"   ",c:"",r:"",s:4.5,v:""},{n:"   ",c:"",r:"",s:4,v:""},{n:"   ",c:"",r:"",s:5,v:""},{n:"   ",c:"",r:"",s:4.8,v:""}].map((e,t)=>a.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-1.5 border-b border-[#f5f3f0] text-[8px] items-center",children:[a.jsx("span",{className:"col-span-2 text-[#181510]",style:{fontWeight:500},children:e.n}),a.jsx("span",{className:"text-[#8d785e]",children:e.c}),a.jsx("span",{className:"text-[#8d785e]",children:e.r}),a.jsx("span",{className:"text-[#ff8c00]",children:"".repeat(Math.floor(e.s))}),a.jsx("span",{children:e.v})]},t))]}),a.jsx("div",{className:"h-12 bg-white rounded-lg border border-[#e7e1da] flex items-center justify-center text-[#8d785e] text-[9px]",children:"      "})]})]})]})}function vme(){return a.jsxs("div",{className:"flex h-[300px] text-[9px]",children:[a.jsx(Dp,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx($p,{}),a.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-hidden bg-[#f8f7f5]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[18px]",children:""}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:"  "}),a.jsx("span",{className:"text-[7px] text-green-600 bg-green-50 px-1 py-0.5 rounded-full",children:" "})]}),a.jsx("div",{className:"text-[8px] text-[#8d785e]",children:"    "})]})]}),a.jsx("div",{className:"flex gap-0.5 bg-[#ece8e3] rounded-md p-0.5",children:[" ","",""," ",""].map((e,t)=>a.jsx("div",{className:`flex-1 text-center py-1 rounded text-[7px] ${t===0?"bg-white shadow-sm text-[#181510]":"text-[#8d785e]"}`,style:{fontWeight:600},children:e},t))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-[2] space-y-2",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:" "}),a.jsx("div",{className:"flex gap-2",children:[{n:" ",r:"",c:"#22c55e"},{n:" ",r:"",c:"#ff8c00"}].map((e,t)=>{var r;return a.jsxs("div",{className:"flex-1 border border-[#e7e1da] rounded-lg p-1.5 flex items-center gap-1.5",children:[a.jsxs("div",{className:"w-6 h-6 rounded-full text-white flex items-center justify-center text-[7px]",style:{backgroundColor:e.c,fontWeight:600},children:[e.n[0],(r=e.n.split(" ")[1])==null?void 0:r[0]]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[8px] text-[#181510]",style:{fontWeight:600},children:e.n}),a.jsx("div",{className:"text-[7px] text-[#8d785e]",children:e.r})]})]},t)})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:" "}),a.jsx("div",{className:"flex gap-1.5",children:["  120","  85","  5K"].map((e,t)=>a.jsxs("div",{className:"flex-1 border border-[#e7e1da] rounded-md overflow-hidden",children:[a.jsx("div",{className:"h-8 bg-[#f5f3f0]"}),a.jsx("div",{className:"p-1 text-[7px] text-[#181510]",style:{fontWeight:500},children:e})]},t))})]})]}),a.jsx("div",{className:"flex-1 space-y-2",children:a.jsxs("div",{className:"bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:""}),[{n:" ",c:"#22c55e"},{n:"",c:"#eab308"},{n:"",c:"#ef4444"}].map((e,t)=>a.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:e.c}}),a.jsx("span",{className:"text-[7px]",children:e.n})]}),a.jsx("span",{className:"text-[7px]",style:{color:e.c},children:e.c==="#22c55e"?"":e.c==="#eab308"?"":"!"})]},t))]})})]})]})]})]})}function bme(){return a.jsxs("div",{className:"h-[340px] text-[9px] overflow-hidden",children:[a.jsxs("div",{className:"h-7 bg-white border-b border-[#e7e1da] flex items-center justify-between px-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-5 h-5 bg-[#ff8c00] rounded-md flex items-center justify-center text-white text-[7px]",children:""}),a.jsx("span",{className:"text-[9px] text-[#181510]",style:{fontWeight:700},children:"TravelPro"})]}),a.jsx("span",{className:"text-[7px] text-[#8d785e]",children:"  |    "}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"h-4 w-10 border border-[#e7e1da] rounded-md text-center text-[7px] text-[#8d785e] leading-[16px]",children:""}),a.jsx("div",{className:"h-4 w-8 bg-[#ff8c00] rounded-md text-center text-[7px] text-white leading-[16px]",children:""})]})]}),a.jsx("div",{className:"h-28 bg-gradient-to-t from-[#181510] via-[#181510]/40 to-[#22c55e]/20 relative",children:a.jsxs("div",{className:"absolute bottom-2 right-3",children:[a.jsx("div",{className:"text-[7px] text-[#ffb74d]",children:"  "}),a.jsx("div",{className:"text-[16px] text-white",style:{fontWeight:700},children:"    "}),a.jsx("div",{className:"text-[7px] text-white/70 max-w-[200px]",children:"    :  ,  ,  "})]})}),a.jsxs("div",{className:"px-4 py-2 space-y-2 bg-white",children:[a.jsx("div",{className:"text-[10px] text-[#181510]",style:{fontWeight:700},children:' " '}),a.jsx("div",{className:"flex gap-1.5",children:[{t:"09:00-12:00",n:"  "},{t:"13:00-14:00",n:"  "},{t:"15:00-18:00",n:"  VIP"}].map((e,t)=>a.jsxs("div",{className:"flex-1 border-2 border-[#ff8c00]/20 rounded-lg p-1.5 text-center",children:[a.jsx("div",{className:"text-[8px] text-[#181510]",style:{fontWeight:600},children:e.n}),a.jsx("div",{className:"text-[7px] text-[#ff8c00]",style:{fontWeight:600},children:e.t})]},t))}),a.jsx("div",{className:"text-[10px] text-[#181510]",style:{fontWeight:700},children:"  "}),a.jsxs("div",{className:"flex gap-2 h-14 overflow-hidden",children:[a.jsx("div",{className:"w-20 bg-[#f5f3f0] rounded-lg shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[7px] text-[#ff8c00]",children:"  "}),a.jsx("div",{className:"text-[9px] text-[#181510]",style:{fontWeight:600},children:" ,    "}),a.jsx("div",{className:"text-[7px] text-[#8d785e]",children:"            5  "})]})]}),a.jsxs("div",{className:"bg-gradient-to-l from-[#181510] to-[#2a2518] rounded-lg p-2 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[9px] text-white",style:{fontWeight:700},children:"  "}),a.jsx("div",{className:"text-[7px] text-[#c4b89a]",children:"50 "})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-[14px] text-[#ff8c00]",style:{fontWeight:700},children:"42,500"}),a.jsx("div",{className:"text-[7px] text-[#c4b89a]",children:"850 "})]}),a.jsx("div",{className:"bg-[#ff8c00] text-white px-2 py-1 rounded-md text-[8px]",style:{fontWeight:600},children:"  "})]})]})]})}function wme(){return a.jsxs("div",{className:"h-[260px] text-[9px] overflow-hidden bg-[#f8f7f5] p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px]",children:""}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:"  "})]}),a.jsx("div",{className:"flex items-center justify-center gap-0 max-w-[300px] mx-auto",children:[" "," "," ",""].map((e,t)=>a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[8px] ${t<1?"bg-green-500 text-white":t===1?"bg-[#ff8c00] text-white":"bg-[#ddd6cb] text-[#8d785e]"}`,style:{fontWeight:700},children:t<1?"":t+1}),a.jsx("span",{className:"text-[6px] text-[#8d785e] mt-0.5",children:e})]}),t<3&&a.jsx("div",{className:`flex-1 h-0.5 mx-1 ${t<1?"bg-green-400":"bg-[#ddd6cb]"}`})]},t))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"w-[140px] bg-white rounded-lg border border-[#e7e1da] p-2 shrink-0",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:" "}),["  *","","",""].map((e,t)=>a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-[6px] text-[#8d785e]",children:e}),a.jsx("div",{className:"h-4 bg-[#f5f3f0] border border-[#e7e1da] rounded-sm"})]},t)),a.jsx("div",{className:"h-5 bg-[#ff8c00] rounded-md mt-1.5 flex items-center justify-center text-white text-[7px]",style:{fontWeight:600},children:" "})]}),a.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[9px] text-[#181510] mb-1",style:{fontWeight:700},children:"    142 "}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-1 text-[6px] text-[#8d785e] pb-0.5 border-b border-[#e7e1da]",style:{fontWeight:600},children:[a.jsx("span",{children:" "}),a.jsx("span",{children:""}),a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),[{n:"  ",c:"",s:!0},{n:" ",c:"",s:!1},{n:".'  ",c:"",s:!0},{n:' ""',c:"",s:!1}].map((e,t)=>a.jsxs("div",{className:"grid grid-cols-4 gap-1 text-[7px] py-0.5 border-b border-[#f5f3f0] items-center",children:[a.jsx("span",{className:"text-[#181510]",children:e.n}),a.jsx("span",{className:"text-[#8d785e]",children:e.c}),a.jsx("span",{style:{color:e.s?"#16a34a":"#ca8a04",fontWeight:600},children:e.s?" ":" "}),e.s?a.jsx("span",{}):a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"px-1 border border-[#ff8c00] rounded text-[6px] text-[#ff8c00]",children:""}),a.jsx("div",{className:"px-1 border border-[#e7e1da] rounded text-[6px] text-[#8d785e]",children:""})]})]},t))]})]})]})]})}function _me(){return a.jsxs("div",{className:"h-[260px] text-[9px] overflow-hidden bg-[#f8f7f5] p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[12px]",children:""}),a.jsx("span",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:"  "})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-[8px] text-[#8d785e]",children:"45/100"}),a.jsx("div",{className:"w-20 h-1.5 bg-[#ddd6cb] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-[#ff8c00] rounded-full",style:{width:"45%"}})}),a.jsx("span",{className:"text-[8px] text-[#ff8c00]",style:{fontWeight:600},children:"45%"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-[3] space-y-2",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-l from-[#fff7ed] to-white p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-[7px] text-green-600 bg-green-50 px-1 rounded-full",style:{fontWeight:600},children:" "}),a.jsx("span",{className:"text-[7px] text-[#8d785e]",children:"12/05/2024"})]}),a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:700},children:'  "'}),a.jsxs("div",{className:"flex gap-4 mt-1 text-[7px] text-[#8d785e]",children:[a.jsx("span",{children:": 987321"}),a.jsx("span",{children:" 050-1234567"}),a.jsx("span",{children:` '  22, "`})]})]}),a.jsxs("div",{className:"mx-2 my-1.5 bg-[#ff8c00]/5 border border-[#ff8c00]/30 rounded-lg p-1.5 text-[8px] text-[#6b5d45]",children:[" : ",a.jsx("strong",{children:",  "}),"     "]}),a.jsxs("div",{className:"px-2 pb-2 flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-[7px] text-[#8d785e] mb-0.5",children:" "}),a.jsx("div",{className:"h-5 bg-[#f5f3f0] border border-[#e7e1da] rounded-md px-1 flex items-center text-[8px]",children:" "})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-[7px] text-[#8d785e] mb-0.5",children:"-"}),a.jsx("div",{className:"h-5 bg-[#f5f3f0] border border-[#e7e1da] rounded-md px-1 flex items-center text-[8px]",children:" "})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg border border-[#e7e1da] p-1.5",children:[a.jsxs("div",{className:"flex gap-2 text-[8px] text-[#8d785e]",children:[a.jsx("span",{children:" "}),a.jsx("span",{children:" "})]}),a.jsx("div",{className:"bg-[#ff8c00] text-white px-3 py-1 rounded-md text-[8px]",style:{fontWeight:600},children:"  "})]})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-2",children:[a.jsx("div",{className:"text-[8px] text-[#181510] mb-1",style:{fontWeight:700},children:"  "}),[" "," "," "," "].map((e,t)=>a.jsx("div",{className:`px-1.5 py-1 rounded-md text-[7px] mb-0.5 ${t===0?"bg-[#ff8c00] text-white":"text-[#181510]"}`,style:{fontWeight:t===0?600:400},children:e},t))]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-2 text-[7px]",children:[a.jsx("div",{className:"text-[8px] text-[#181510] mb-1",style:{fontWeight:700},children:""}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[#8d785e]",children:""}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:600},children:"12/"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-[#8d785e]",children:""}),a.jsx("span",{className:"text-[#181510]",style:{fontWeight:600},children:"01:24"})]})]})]})]})]})}function jme(){return a.jsxs("div",{className:"h-[260px] text-[9px] overflow-hidden bg-[#f8f7f5] p-3 space-y-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-[7px] text-green-600 bg-green-50 px-2 py-0.5 rounded-full",style:{fontWeight:600},children:"  "}),a.jsx("div",{className:"text-[14px] text-[#181510] mt-1",style:{fontWeight:700},children:"   "}),a.jsx("div",{className:"text-[8px] text-[#8d785e]",children:"       "})]}),[{n:"  18V",p:"849",s:!0,a:!1},{n:"  ",p:"1,250",s:!0,a:!0}].map((e,t)=>a.jsxs("div",{className:`bg-white rounded-xl border ${e.a?"border-green-200":"border-[#e7e1da]"} flex overflow-hidden`,children:[a.jsxs("div",{className:"w-20 bg-[#f5f3f0] shrink-0 relative",children:[e.a&&a.jsx("div",{className:"absolute inset-0 bg-green-500/10 flex items-center justify-center",children:a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-[10px]",children:""})}),!e.a&&a.jsx("div",{className:"absolute top-1 right-1 text-[6px] bg-[#ff8c00] text-white px-1 rounded",style:{fontWeight:600},children:" "})]}),a.jsxs("div",{className:"flex-1 p-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[10px] text-[#181510]",style:{fontWeight:700},children:e.n}),a.jsx("div",{className:"text-[12px] text-[#ff8c00]",style:{fontWeight:700},children:e.p})]}),a.jsx("div",{className:"text-[7px] text-[#8d785e] mt-0.5",children:"   ..."}),a.jsx("div",{className:"flex gap-1 mt-1",children:e.a?a.jsx("span",{className:"text-[7px] text-green-600",style:{fontWeight:600},children:"   "}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-[#ff8c00] text-white px-2 py-0.5 rounded text-[7px]",style:{fontWeight:600},children:" "}),a.jsx("div",{className:"border border-[#ff8c00] text-[#ff8c00] px-2 py-0.5 rounded text-[7px]",style:{fontWeight:600},children:" "})]})})]})]},t))]})}function Sme(){const e=()=>window.print(),[t,r]=O.useState("prd");return t==="kanban"?a.jsxs("div",{className:"min-h-screen bg-[#f8f7f5] font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-white border-b border-[#e7e1da]",children:a.jsxs("div",{className:"max-w-[1400px] mx-auto flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-0",children:[a.jsxs("button",{onClick:()=>r("prd"),className:"flex items-center gap-2 px-5 py-3.5 text-[13px] text-[#8d785e] hover:text-[#181510] transition-colors border-b-2 border-transparent",style:{fontWeight:600},children:[a.jsx(Er,{size:15})," "]}),a.jsxs("button",{onClick:()=>r("kanban"),className:"flex items-center gap-2 px-5 py-3.5 text-[13px] text-[#ff8c00] border-b-2 border-[#ff8c00] transition-colors",style:{fontWeight:600},children:[a.jsx(yh,{size:15})," "]})]}),a.jsxs("a",{href:"/",className:"flex items-center gap-2 text-[12px] text-[#8d785e] hover:text-[#181510] transition-colors",style:{fontWeight:600},children:[a.jsx(Jf,{size:14})," "]})]})}),a.jsx(pme,{})]}):a.jsxs("div",{className:"min-h-screen bg-[#f8f7f5] font-['Assistant',sans-serif] print:bg-white",dir:"rtl",children:[a.jsxs("div",{className:"fixed bottom-6 left-6 z-50 print:hidden flex gap-2",children:[a.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-[#181510] hover:bg-[#2a2518] text-white px-5 py-3 rounded-xl shadow-xl transition-all",style:{fontWeight:600},children:[a.jsx(zI,{size:18})," /  PDF"]}),a.jsxs("a",{href:"/",className:"flex items-center gap-2 bg-white border border-[#e7e1da] text-[#181510] px-4 py-3 rounded-xl shadow-lg hover:bg-[#f5f3f0] transition-all",style:{fontWeight:600},children:[a.jsx(Jf,{size:16})," "]})]}),a.jsx("div",{className:"sticky top-0 z-50 bg-[#181510] border-b border-[#2a2518] print:hidden",children:a.jsxs("div",{className:"flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-0",children:[a.jsxs("button",{onClick:()=>r("prd"),className:"flex items-center gap-2 px-5 py-3.5 text-[13px] text-white border-b-2 border-[#ff8c00] transition-colors",style:{fontWeight:600},children:[a.jsx(Er,{size:15})," "]}),a.jsxs("button",{onClick:()=>r("kanban"),className:"flex items-center gap-2 px-5 py-3.5 text-[13px] text-[#c4b89a] hover:text-white transition-colors border-b-2 border-transparent",style:{fontWeight:600},children:[a.jsx(yh,{size:15})," "]})]}),a.jsxs("a",{href:"/",className:"flex items-center gap-2 text-[12px] text-[#c4b89a] hover:text-white transition-colors",style:{fontWeight:600},children:[a.jsx(Jf,{size:14})," "]})]})}),a.jsx("div",{className:"bg-gradient-to-b from-[#181510] via-[#2a2518] to-[#181510] text-white py-20 px-8 print:py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-[#ff8c00] rounded-xl flex items-center justify-center text-[22px]",children:""}),a.jsx("span",{className:"text-[28px]",style:{fontWeight:800},children:"TravelPro"})]}),a.jsx("h1",{className:"text-[42px] leading-tight mb-4 max-w-2xl",style:{fontWeight:800},children:"  "}),a.jsx("p",{className:"text-[18px] text-[#c4b89a] max-w-xl leading-relaxed",children:"           , ,  "}),a.jsxs("div",{className:"flex flex-wrap gap-6 mt-8 text-[14px] text-[#c4b89a]",children:[a.jsx("span",{children:"  2026"}),a.jsx("span",{children:"  MVP 1.0"}),a.jsx("span",{children:"      "})]})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-10 space-y-10",children:[a.jsxs($f,{id:"intro",children:[a.jsxs("h2",{className:"text-[28px] text-[#181510] mb-4 flex items-center gap-3",style:{fontWeight:800},children:[a.jsx("span",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center text-[20px]",children:""}),"  TravelPro?"]}),a.jsx("p",{className:"text-[16px] text-[#6b5d45] leading-relaxed mb-6",children:"TravelPro            .            ,      ,    ,      ."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{emoji:"",problem:"   ",solution:"    ,  "},{emoji:"",problem:"    ",solution:"     "},{emoji:"",problem:"  PDF ",solution:"     "},{emoji:"",problem:"    ",solution:"     "}].map((n,i)=>a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-5 flex gap-4",children:[a.jsx("span",{className:"text-[28px]",children:n.emoji}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510] line-through opacity-60",children:n.problem}),a.jsxs("div",{className:"text-[14px] text-[#ff8c00] mt-1",style:{fontWeight:600},children:[" ",n.solution]})]})]},i))})]}),a.jsxs($f,{id:"users",children:[a.jsxs("h2",{className:"text-[28px] text-[#181510] mb-4 flex items-center gap-3",style:{fontWeight:800},children:[a.jsx("span",{className:"w-10 h-10 bg-[#3b82f6]/10 rounded-xl flex items-center justify-center text-[20px]",children:""}),"  ?"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#ff8c00] rounded-full flex items-center justify-center text-white text-[16px]",style:{fontWeight:700},children:"."}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:""}),a.jsx("div",{className:"text-[13px] text-[#8d785e]",children:"     "})]})]}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:"   : , , ,  ,  "})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-[#3b82f6] rounded-full flex items-center justify-center text-white text-[16px]",style:{fontWeight:700},children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[16px] text-[#181510]",style:{fontWeight:700},children:""}),a.jsx("div",{className:"text-[13px] text-[#8d785e]",children:"    "})]})]}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:"        , , ,  "})]})]})]}),a.jsxs($f,{id:"toc",children:[a.jsxs("h2",{className:"text-[28px] text-[#181510] mb-4 flex items-center gap-3",style:{fontWeight:800},children:[a.jsx("span",{className:"w-10 h-10 bg-[#8b5cf6]/10 rounded-xl flex items-center justify-center text-[20px]",children:""}),"9  "]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{n:1,t:" ",e:"",c:"#ff8c00"},{n:2,t:" ",e:"",c:"#3b82f6"},{n:3,t:" ",e:"",c:"#8b5cf6"},{n:4,t:" ",e:"",c:"#22c55e"},{n:5,t:" ",e:"",c:"#ec4899"},{n:6,t:" ",e:"",c:"#14b8a6"},{n:7,t:" ",e:"",c:"#f59e0b"},{n:8,t:" ",e:"",c:"#ef4444"},{n:9,t:" ",e:"",c:"#06b6d4"}].map(n=>a.jsxs("a",{href:`#screen-${n.n}`,className:"bg-white rounded-xl border border-[#e7e1da] p-4 flex items-center gap-3 hover:shadow-md hover:border-[#d4cdc3] transition-all",children:[a.jsx("span",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-[16px]",style:{backgroundColor:n.c+"15"},children:n.e}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-[11px] text-[#8d785e]",children:[" ",n.n]}),a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:n.t})]})]},n.n))})]}),a.jsx("div",{id:"screen-1",children:a.jsxs(Ya,{number:1,title:"  ()",emoji:"",purpose:"      ,  ,   ",audience:"",color:"#ff8c00",mockup:a.jsx(mme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:"  :"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:[{t:" ",d:'  +  " "'},{t:"  ",d:' : " ", " "'},{t:"4  ",d:", , ,       "},{t:" ",d:":          "},{t:" ",d:"362K  500K (72%) +   "},{t:" ",d:" ,   ,   "},{t:" ",d:"  ( )"},{t:" ",d:', ,  "'}].map((n,i)=>a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ff8c00] mt-2 shrink-0"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:n.t}),a.jsxs("span",{className:"text-[13px] text-[#8d785e]",children:["  ",n.d]})]})]},i))}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.jsx(Xn,{label:"     "}),a.jsx(Xn,{label:"     "}),a.jsx(Xn,{label:" countUp"})]})]})}),a.jsx("div",{id:"screen-2",children:a.jsxs(Ya,{number:2,title:" ",emoji:"",purpose:"     , ,   ",audience:"",color:"#3b82f6",mockup:a.jsx(gme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:" :"}),a.jsx(Yt,{label:"",value:"     "}),a.jsx(Yt,{label:"",value:"6 : ,  ,  ,  , ,  "}),a.jsx(Yt,{label:" ",value:", ,  (), , , ,  "}),a.jsx(Yt,{label:" ",value:"Modal  : , , , "}),a.jsx(Yt,{label:" ",value:"'       '"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:" -URL"}),a.jsx(Xn,{label:"   "})]})]})}),a.jsx("div",{id:"screen-3",children:a.jsxs(Ya,{number:3,title:"  ",emoji:"",purpose:"     ,  ,  ,  ",audience:"",color:"#8b5cf6",mockup:a.jsx(yme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:"3 :"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#8b5cf6]/5 rounded-xl p-4 border border-[#8b5cf6]/20",children:[a.jsx("div",{className:"text-[14px] text-[#8b5cf6] mb-1",style:{fontWeight:700},children:"  1:  "}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:` ""   : , ,  '.           .`})]}),a.jsxs("div",{className:"bg-[#ff8c00]/5 rounded-xl p-4 border border-[#ff8c00]/20",children:[a.jsx("div",{className:"text-[14px] text-[#ff8c00] mb-1",style:{fontWeight:700},children:"  2:   "}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:'  ,  , .   " " (1-5)    ,  .   .'})]}),a.jsxs("div",{className:"bg-[#22c55e]/5 rounded-xl p-4 border border-[#22c55e]/20",children:[a.jsx("div",{className:"text-[14px] text-[#22c55e] mb-1",style:{fontWeight:700},children:'  3: " '}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:"  : 08:00   10:30   13:00 .     ."})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:"   "}),a.jsx(Xn,{label:" "})]})]})}),a.jsx("div",{id:"screen-4",children:a.jsxs(Ya,{number:4,title:" ",emoji:"",purpose:"      , , , , ",audience:"",color:"#22c55e",mockup:a.jsx(xme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:" :"}),a.jsx(Yt,{label:"",value:": , , "}),a.jsx(Yt,{label:"3 ",value:" (6),  (5),   (4)"}),a.jsx(Yt,{label:" ",value:"+, , ,  , , , "}),a.jsx(Yt,{label:" ",value:"             "}),a.jsx(Yt,{label:" ",value:"Modal: , , ,  +  /"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.jsx(Xn,{label:"/"}),a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:" "}),a.jsx(Xn,{label:"  Leaflet",color:"#22c55e"})]})]})}),a.jsx("div",{id:"screen-5",children:a.jsxs(Ya,{number:5,title:" ",emoji:"",purpose:"      , , ,   ",audience:"",color:"#ec4899",mockup:a.jsx(vme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:"5 :"}),a.jsx("div",{className:"space-y-2",children:[{t:" ",d:"  +  +  +  + "},{t:" ",d:"  , , , "},{t:"",d:"  /    /       "},{t:" ",d:", , ,  +  "},{t:"",d:" , ,    "}].map((n,i)=>a.jsxs("div",{className:"flex gap-2 items-start bg-[#f8f7f5] rounded-lg p-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-md bg-[#ec4899]/10 flex items-center justify-center text-[12px] text-[#ec4899] shrink-0",style:{fontWeight:700},children:i+1}),a.jsxs("div",{children:[a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:n.t}),a.jsxs("span",{className:"text-[13px] text-[#8d785e]",children:["  ",n.d]})]})]},i))})]})}),a.jsx("div",{id:"screen-6",children:a.jsxs(Ya,{number:6,title:"  ",emoji:"",purpose:"        ,   ",audience:"",color:"#14b8a6",mockup:a.jsx(bme,{}),children:[a.jsxs("div",{className:"bg-[#14b8a6]/10 border border-[#14b8a6]/30 rounded-xl p-4 mb-4",children:[a.jsx("div",{className:"text-[14px] text-[#14b8a6]",style:{fontWeight:700},children:"  "}),a.jsx("div",{className:"text-[13px] text-[#6b5d45]",children:"  ,  ,   "})]}),a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:"  :"}),a.jsx(Yt,{label:" ",value:"Hero   '    '"}),a.jsx(Yt,{label:'" ',value:"3 :  ,  ,  VIP"}),a.jsx(Yt,{label:" ",value:"   + ' ' +  "}),a.jsx(Yt,{label:"",value:"' ', '   '"}),a.jsx(Yt,{label:" ",value:"850   50 = 42,500 +  ' '"}),a.jsx(Yt,{label:" ",value:"  : ' !   '"}),a.jsx(Yt,{label:"",value:"  V1.0 (), V0.9, V0.8    "})]})}),a.jsx("div",{id:"screen-7",children:a.jsxs(Ya,{number:7,title:"   ",emoji:"",purpose:"       ,  , ",audience:"",color:"#f59e0b",mockup:a.jsx(wme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:" -4 :"}),a.jsx("div",{className:"flex gap-2 items-center justify-center mb-4",children:["  ","  ","  ","  "].map((n,i)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`text-[13px] px-3 py-1 rounded-full ${i===1?"bg-[#f59e0b] text-white":i<1?"bg-green-500 text-white":"bg-[#ece8e3] text-[#8d785e]"}`,style:{fontWeight:600},children:n}),i<3&&a.jsx("div",{className:"w-6 h-0.5 bg-[#ddd6cb]"})]},i))}),a.jsx(Yt,{label:" ",value:"   :  , , , "}),a.jsx(Yt,{label:" ",value:"       : ''  ''"}),a.jsx(Yt,{label:"",value:"'  (142 )'  '  '"})]})}),a.jsx("div",{id:"screen-8",children:a.jsxs(Ya,{number:8,title:"  ",emoji:"",purpose:"      -,   ",audience:"",color:"#ef4444",mockup:a.jsx(_me,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:"  :"}),a.jsx(Yt,{label:" ",value:", , , ,   ()"}),a.jsx(Yt,{label:" ",value:"': ,       '"}),a.jsx(Yt,{label:" ",value:" (5 ) + - +  (B2B//)"}),a.jsx(Yt,{label:" ",value:"    (4  )"}),a.jsx(Yt,{label:"",value:": 12 /,  : 01:24"}),a.jsx(Yt,{label:"",value:"' ' / '' / ' '"})]})}),a.jsx("div",{id:"screen-9",children:a.jsxs(Ya,{number:9,title:" ",emoji:"",purpose:"           ",audience:"",color:"#06b6d4",mockup:a.jsx(jme,{}),children:[a.jsx("h4",{className:"text-[16px] text-[#181510] mb-3",style:{fontWeight:700},children:" :"}),a.jsx(Yt,{label:" ",value:", , , ,    badge ' '"}),a.jsx(Yt,{label:" ",value:"    badge ' '"}),a.jsx(Yt,{label:"",value:"  overlay  '  '"}),a.jsx(Yt,{label:"",value:"  "}),a.jsx(Yt,{label:"",value:"X    Y   Z  "})]})}),a.jsxs($f,{id:"journeys",children:[a.jsxs("h2",{className:"text-[28px] text-[#181510] mb-6 flex items-center gap-3",style:{fontWeight:800},children:[a.jsx("span",{className:"w-10 h-10 bg-[#22c55e]/10 rounded-xl flex items-center justify-center text-[20px]",children:""}),"  "]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-6 mb-6",children:[a.jsx("h3",{className:"text-[18px] text-[#181510] mb-4",style:{fontWeight:700},children:"  1:       "}),a.jsx("div",{className:"space-y-0",children:[{step:"  ",screen:" ",emoji:""},{step:' 12     " "',screen:" ",emoji:""},{step:" , , , ",screen:"Modal",emoji:""},{step:" : , , ",screen:" ",emoji:""},{step:"     ",screen:" ",emoji:""},{step:"      ,   ",screen:" ",emoji:""},{step:"  22%  !",screen:" ",emoji:""},{step:'"  "  V1.0 ',screen:"Modal",emoji:""},{step:"  ",screen:" ",emoji:""},{step:"     ",screen:" ",emoji:""},{step:'  " "  !',screen:" ",emoji:""}].map((n,i)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#ff8c00]/10 flex items-center justify-center text-[14px] shrink-0",children:n.emoji}),i<10&&a.jsx("div",{className:"w-0.5 h-4 bg-[#e7e1da]"})]}),a.jsxs("div",{className:"pb-1",children:[a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:500},children:n.step}),a.jsxs("span",{className:"text-[11px] text-[#8d785e] mr-2",children:["(",n.screen,")"]})]})]},i))})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] p-6 mb-6",children:[a.jsx("h3",{className:"text-[18px] text-[#181510] mb-4",style:{fontWeight:700},children:"  2:  200  "}),a.jsx("div",{className:"space-y-0",children:[{step:'    " "  " "',emoji:""},{step:"    200 ",emoji:""},{step:" :  = A,  = B...",emoji:""},{step:'" "  15  ',emoji:""},{step:' : "" / ""',emoji:""},{step:'" "  142  , 60  ',emoji:""},{step:"     12  ",emoji:""},{step:" :    !",emoji:""}].map((n,i)=>a.jsxs("div",{className:"flex gap-3 items-start",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#22c55e]/10 flex items-center justify-center text-[14px] shrink-0",children:n.emoji}),i<7&&a.jsx("div",{className:"w-0.5 h-4 bg-[#e7e1da]"})]}),a.jsx("div",{className:"pb-1",children:a.jsx("span",{className:"text-[13px] text-[#181510]",style:{fontWeight:500},children:n.step})})]},i))})]})]}),a.jsxs($f,{id:"roadmap",children:[a.jsxs("h2",{className:"text-[28px] text-[#181510] mb-6 flex items-center gap-3",style:{fontWeight:800},children:[a.jsx("span",{className:"w-10 h-10 bg-[#f59e0b]/10 rounded-xl flex items-center justify-center text-[20px]",children:""}),"   "]}),a.jsxs("div",{className:"bg-[#22c55e]/5 border border-[#22c55e]/20 rounded-2xl p-6 mb-6",children:[a.jsxs("h3",{className:"text-[18px] text-[#22c55e] mb-4 flex items-center gap-2",style:{fontWeight:700},children:[a.jsx(ro,{size:20}),"   (MVP)"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:["    ","  + /","   3  +  ","  +  ","   5 ","   ( )","  +  ","    ","   /","  (5 )"," + Breadcrumbs "," RTL  "].map((n,i)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{size:14,className:"text-[#22c55e] shrink-0"}),a.jsx("span",{className:"text-[13px] text-[#181510]",children:n})]},i))})]}),a.jsxs("div",{className:"bg-[#3b82f6]/5 border border-[#3b82f6]/20 rounded-2xl p-6 mb-6",children:[a.jsx("h3",{className:"text-[18px] text-[#3b82f6] mb-4",style:{fontWeight:700},children:"   (V1.1)"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:[{e:"",t:" ",d:"/,  -"},{e:"",t:" ",d:"      "},{e:"",t:" ",d:" ,   "},{e:"",t:" ",d:"  +  "},{e:"",t:"",d:"  /"},{e:"",t:"/PDF",d:"   -PDF"}].map((n,i)=>a.jsxs("div",{className:"flex gap-3 items-start bg-white rounded-xl p-3 border border-[#e7e1da]",children:[a.jsx("span",{className:"text-[20px]",children:n.e}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[13px] text-[#181510]",style:{fontWeight:600},children:n.t}),a.jsx("div",{className:"text-[12px] text-[#8d785e]",children:n.d})]})]},i))})]}),a.jsxs("div",{className:"bg-[#8b5cf6]/5 border border-[#8b5cf6]/20 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-[18px] text-[#8b5cf6] mb-4",style:{fontWeight:700},children:"   (V2.0)"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:[" '  ","  ","   ","  "].map((n,i)=>a.jsx("div",{className:"text-[13px] text-[#8b5cf6] bg-white border border-[#8b5cf6]/20 px-4 py-2 rounded-xl",style:{fontWeight:500},children:n},i))})]})]}),a.jsxs("div",{className:"text-center py-10 border-t border-[#e7e1da] mt-10",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#ff8c00] rounded-lg flex items-center justify-center text-white text-[14px]",children:""}),a.jsx("span",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:"TravelPro"})]}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"   |  MVP 1.0 |  2026"}),a.jsx("p",{className:"text-[13px] text-[#c4b89a] mt-1",children:"      "})]})]})]})}function Nme(){const e=dI(),t=Fr();let r="  ",n=" .    .",i="";return Xu(e)&&(e.status===404?(r="  ",n="   .      .",i=""):(r=` ${e.status}`,n=e.statusText||"   .")),a.jsx("div",{className:"min-h-screen bg-[#f8f7f5] flex items-center justify-center p-4 font-['Assistant',sans-serif]",dir:"rtl",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-20 h-20 bg-[#ff8c00]/10 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:a.jsx("span",{className:"text-[40px]",children:i})}),a.jsx("h1",{className:"text-[28px] text-[#181510] mb-2",style:{fontWeight:700},children:r}),a.jsx("p",{className:"text-[16px] text-[#8d785e] mb-8",children:n}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-[14px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-5 py-2.5 rounded-xl transition-colors",style:{fontWeight:600},children:[a.jsx(fU,{size:16}),"  "]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-[14px] text-[#6b5d45] border border-[#e7e1da] px-5 py-2.5 rounded-xl hover:bg-[#f5f3f0] transition-colors",children:" "})]})]})})}const kme=["","",""," "],Pme={:"active",:"lead"," ":"inactive"},ij={active:{label:"",color:"#22c55e"},lead:{label:"",color:"#3b82f6"},inactive:{label:" ",color:"#8d785e"}},zf=10;function Tme(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[i,s]=O.useState(null),[o,c]=O.useState(""),[f,h]=O.useState(""),[m,p]=O.useState(1),[x,v]=O.useState(!1),[j,S]=O.useState(null),[_,N]=O.useState(null),[k,C]=O.useState(!1),R=os({mode:"onChange",defaultValues:{name:"",company:"",phone:"",email:"",status:"lead",notes:""}}),A=os({mode:"onChange"}),E=async()=>{try{n(!0),s(null);const F=await Jm.list();t(F)}catch(F){console.error("[ClientsPage] Failed to load clients:",F),s("  ")}finally{n(!1)}};O.useEffect(()=>{E()},[]);const $=e.filter(F=>{const K=!o||F.name.includes(o)||F.company.includes(o)||F.phone.includes(o)||F.email.includes(o),U=f===""||F.status===Pme[f];return K&&U}),I=e.length,D=e.filter(F=>F.status==="active").length,W=e.filter(F=>F.status==="lead").length,B=e.reduce((F,K)=>F+(K.totalRevenue||0),0),q=async F=>{try{C(!0),await Jm.create({name:F.name.trim(),company:F.company.trim(),phone:F.phone.trim(),email:F.email.trim(),status:F.status,notes:F.notes.trim()}),We.success("  ","    "),v(!1),R.reset(),E()}catch(K){console.error("[ClientsPage] Failed to create client:",K),We.error("  ",String(K))}finally{C(!1)}},J=F=>{S(F),A.reset({name:F.name,company:F.company,phone:F.phone,email:F.email,status:F.status,notes:F.notes||""})},X=async F=>{if(j)try{C(!0);const K=await Jm.update(j.id,{name:F.name.trim(),company:F.company.trim(),phone:F.phone.trim(),email:F.email.trim(),status:F.status,notes:F.notes.trim()});t(U=>U.map(ie=>ie.id===j.id?K:ie)),S(null),A.reset(),We.success(" ",`"${K.name}"  `)}catch(K){console.error("[ClientsPage] Update failed:",K),We.error("","    ")}finally{C(!1)}},Z=async()=>{if(_)try{C(!0),await Jm.delete(_.id),t(F=>F.filter(K=>K.id!==_.id)),We.success(" ",`"${_.name}"  `),N(null)}catch(F){console.error("[ClientsPage] Delete failed:",F),We.error("","    ")}finally{C(!1)}};return a.jsxs("div",{className:"p-4 lg:p-6 mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx(Qf,{size:22,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[26px] text-[#181510]",style:{fontWeight:700},children:" "})]}),a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white px-4 py-2.5 rounded-xl shadow-lg shadow-[#ff8c00]/20 transition-all text-[14px]",style:{fontWeight:600},children:[a.jsx($r,{size:16}),"  "]})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:'" '}),a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-[#ff8c00]/10",children:a.jsx(Pa,{size:16,className:"text-[#ff8c00]"})})]}),a.jsx("div",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:I})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:" "}),a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-[#22c55e]/10",children:a.jsx(Qf,{size:16,className:"text-[#22c55e]"})})]}),a.jsx("div",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:D})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:""}),a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-[#3b82f6]/10",children:a.jsx(VI,{size:16,className:"text-[#3b82f6]"})})]}),a.jsx("div",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:W})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:600},children:" "}),a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-[#8b5cf6]/10",children:a.jsx(RI,{size:16,className:"text-[#8b5cf6]"})})]}),a.jsxs("div",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:["",B.toLocaleString()]})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(ho,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),a.jsx("input",{value:o,onChange:F=>{c(F.target.value),p(1)},className:"w-full bg-white border border-[#e7e1da] rounded-xl pr-10 pl-4 py-3 text-[14px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] transition-all",placeholder:" ,   ..."})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[a.jsx("div",{className:"flex gap-1 bg-white border border-[#e7e1da] rounded-lg p-1 overflow-x-auto",children:kme.map(F=>a.jsx("button",{onClick:()=>{h(F),p(1)},className:`px-3 py-1.5 rounded-md text-[12px] transition-all whitespace-nowrap ${f===F?"bg-[#181510] text-white":"text-[#8d785e] hover:bg-[#f5f3f0]"}`,style:{fontWeight:f===F?600:400},children:F},F))}),(o||f!=="")&&a.jsxs("button",{onClick:()=>{c(""),h(""),p(1)},className:"flex items-center gap-1 text-[12px] text-[#8d785e] hover:text-[#ff8c00] border border-[#e7e1da] px-3 py-1.5 rounded-lg transition-colors",children:[a.jsx(DS,{size:13})," "]})]}),r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-[#e7e1da] shadow-sm mb-5",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:" ..."})]}):i?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-[#e7e1da] shadow-sm mb-5",children:[a.jsx(Pn,{size:32,className:"text-[#ef4444] mb-3"}),a.jsx("p",{className:"text-[14px] text-[#ef4444]",children:i}),a.jsx("button",{onClick:E,className:"mt-3 text-[13px] text-[#ff8c00] hover:text-[#e67e00]",style:{fontWeight:600},children:" "})]}):$.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-[#e7e1da] shadow-sm mb-5",children:[a.jsx("span",{className:"text-[40px] mb-3",children:""}),a.jsx("p",{className:"text-[16px] text-[#8d785e]",style:{fontWeight:600},children:"  "}),a.jsx("p",{className:"text-[13px] text-[#8d785e] mt-1",children:"       "})]}):a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-sm overflow-hidden mb-5",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-[#f5f3f0] border-b border-[#e7e1da]",children:["","","","","","",""].map(F=>a.jsx("th",{className:"p-3 text-right text-[12px] text-[#8d785e] whitespace-nowrap",style:{fontWeight:600},children:F},F))})}),a.jsx("tbody",{children:$.slice((m-1)*zf,m*zf).map(F=>a.jsxs("tr",{className:"border-b border-[#ece8e3] hover:bg-[#f5f3f0]/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center bg-[#06b6d4]/10",children:a.jsx(Qf,{size:18,className:"text-[#06b6d4]"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:F.name}),a.jsx("div",{className:"text-[11px] text-[#8d785e]",children:F.company})]})]})}),a.jsx("td",{className:"p-3 text-[13px] text-[#6b5d45]",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yg,{size:12})," ",F.phone||"-"]})}),a.jsx("td",{className:"p-3 text-[13px] text-[#6b5d45] max-w-[200px]",children:a.jsxs("span",{className:"flex items-center gap-1 truncate",children:[a.jsx(hj,{size:12})," ",F.email||"-"]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-[12px] px-2.5 py-1 rounded-full",style:{backgroundColor:ij[F.status].color+"15",color:ij[F.status].color,fontWeight:600},children:ij[F.status].label})}),a.jsx("td",{className:"p-3 text-[13px] text-[#181510]",style:{fontWeight:600},children:F.totalProjects||0}),a.jsx("td",{className:"p-3 text-[13px] text-[#181510]",style:{fontWeight:600},children:F.totalRevenue?`${F.totalRevenue.toLocaleString()}`:"-"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>J(F),className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",children:a.jsx(jc,{size:15})}),a.jsx("button",{onClick:()=>N(F),className:"p-1.5 text-[#8d785e] hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",children:a.jsx(Un,{size:15})})]})})]},F.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#f5f3f0] border-t border-[#e7e1da]",children:[a.jsxs("span",{className:"text-[12px] text-[#8d785e]",children:[" ",Math.min((m-1)*zf+1,$.length),"-",Math.min(m*zf,$.length),"  ",$.length," "]}),(()=>{const F=Math.max(1,Math.ceil($.length/zf));return a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>p(K=>Math.max(1,K-1)),disabled:m<=1,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-white transition-colors disabled:opacity-30",children:a.jsx(xl,{size:14})}),Array.from({length:F},(K,U)=>U+1).map(K=>a.jsx("button",{onClick:()=>p(K),className:`w-7 h-7 rounded-md flex items-center justify-center text-[12px] transition-colors ${m===K?"bg-[#ff8c00] text-white":"text-[#8d785e] hover:bg-white"}`,style:{fontWeight:m===K?600:400},children:K},K)),a.jsx("button",{onClick:()=>p(K=>Math.min(F,K+1)),disabled:m>=F,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-white transition-colors disabled:opacity-30",children:a.jsx(qs,{size:14})})]})})()]})]}),x&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{v(!1),R.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:"  "}),a.jsx("button",{onClick:()=>{v(!1),R.reset()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:R.handleSubmit(q),className:"space-y-3",children:[a.jsx(At,{label:"  ",required:!0,error:R.formState.errors.name,isDirty:R.formState.dirtyFields.name,placeholder:"  ",...R.register("name",Ft.requiredMin("",2))}),a.jsx(At,{label:" ",required:!0,error:R.formState.errors.company,isDirty:R.formState.dirtyFields.company,placeholder:" ",...R.register("company",Ft.requiredMin("",2))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(At,{label:"",placeholder:"05X-XXXXXXX",error:R.formState.errors.phone,isDirty:R.formState.dirtyFields.phone,...R.register("phone",Ft.israeliPhone(!1))}),a.jsx(At,{label:"",placeholder:"email@example.com",error:R.formState.errors.email,isDirty:R.formState.dirtyFields.email,...R.register("email",Ft.email(!1))})]}),a.jsxs(ao,{label:"",error:R.formState.errors.status,isDirty:R.formState.dirtyFields.status,...R.register("status"),children:[a.jsx("option",{value:"lead",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:" "})]}),a.jsx(mj,{label:"",rows:3,placeholder:" ...",error:R.formState.errors.notes,isDirty:R.formState.dirtyFields.notes,...R.register("notes")}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"submit",disabled:k||!R.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:k?a.jsx(vt,{size:16,className:"animate-spin"}):" "}),a.jsx("button",{type:"button",onClick:()=>{v(!1),R.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{S(null),A.reset()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("button",{onClick:()=>{S(null),A.reset()},className:"text-[#8d785e] hover:text-[#181510]",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:A.handleSubmit(X),className:"space-y-3",children:[a.jsx(At,{label:"  ",required:!0,error:A.formState.errors.name,isDirty:A.formState.dirtyFields.name,placeholder:"  ",...A.register("name",Ft.requiredMin("",2))}),a.jsx(At,{label:" ",required:!0,error:A.formState.errors.company,isDirty:A.formState.dirtyFields.company,placeholder:" ",...A.register("company",Ft.requiredMin("",2))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(At,{label:"",placeholder:"05X-XXXXXXX",error:A.formState.errors.phone,isDirty:A.formState.dirtyFields.phone,...A.register("phone",Ft.israeliPhone(!1))}),a.jsx(At,{label:"",placeholder:"email@example.com",error:A.formState.errors.email,isDirty:A.formState.dirtyFields.email,...A.register("email",Ft.email(!1))})]}),a.jsxs(ao,{label:"",error:A.formState.errors.status,isDirty:A.formState.dirtyFields.status,...A.register("status"),children:[a.jsx("option",{value:"lead",children:""}),a.jsx("option",{value:"active",children:""}),a.jsx("option",{value:"inactive",children:" "})]}),a.jsx(mj,{label:"",rows:3,placeholder:" ...",error:A.formState.errors.notes,isDirty:A.formState.dirtyFields.notes,...A.register("notes")}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"submit",disabled:k||!A.formState.isValid,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:k?a.jsx(vt,{size:16,className:"animate-spin"}):" "}),a.jsx("button",{type:"button",onClick:()=>{S(null),A.reset()},className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors",children:""})]})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>N(null),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center",onClick:F=>F.stopPropagation(),children:[a.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Un,{size:22,className:"text-red-500"})}),a.jsx("h2",{className:"text-[18px] text-[#181510] mb-1",style:{fontWeight:700},children:" "}),a.jsxs("p",{className:"text-[13px] text-[#8d785e] mb-4",children:["       ",a.jsxs("strong",{children:['"',_.name,'"']}),"?",a.jsx("br",{}),a.jsx("span",{className:"text-red-500",children:"    ."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:Z,disabled:k,className:"flex-1 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2",style:{fontWeight:600},children:k?a.jsx(vt,{size:16,className:"animate-spin"}):", "}),a.jsx("button",{onClick:()=>N(null),className:"flex-1 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors py-2.5",style:{fontWeight:600},children:""})]})]})})]})}function a$({title:e,description:t,icon:r}){const n=Fr();return a.jsx("div",{className:"p-4 lg:p-6 max-w-[800px] mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-[#ff8c00]/10 rounded-2xl flex items-center justify-center mb-6",children:a.jsx("span",{className:"text-[40px]",children:r})}),a.jsx("h1",{className:"text-[28px] text-[#181510] mb-2",style:{fontWeight:700},children:e}),a.jsx("p",{className:"text-[16px] text-[#8d785e] mb-2 max-w-md",children:t}),a.jsxs("div",{className:"flex items-center gap-2 text-[14px] text-[#ff8c00] mb-8",style:{fontWeight:600},children:[a.jsx(GF,{size:16}),a.jsx("span",{children:" -   "})]}),a.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-[14px] text-white bg-[#181510] hover:bg-[#2a2518] px-5 py-2.5 rounded-xl transition-colors",style:{fontWeight:600},children:[a.jsx(wa,{size:16}),"  "]})]})})}function Eme(){return a.jsx(a$,{title:"",description:" ,    .",icon:""})}function Cme(){return a.jsx(a$,{title:"  ",description:"   .      .",icon:""})}function Br(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Us(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jk(e,t){const r=Br(e);return isNaN(t)?Us(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function o$(e,t){const r=Br(e);if(isNaN(t))return Us(e,NaN);if(!t)return r;const n=r.getDate(),i=Us(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const l$=6048e5,Ame=864e5;let Ome={};function zp(){return Ome}function gl(e,t){var c,f,h,m;const r=zp(),n=(t==null?void 0:t.weekStartsOn)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=Br(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ax(e){return gl(e,{weekStartsOn:1})}function c$(e){const t=Br(e),r=t.getFullYear(),n=Us(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ax(n),s=Us(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=ax(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ox(e){const t=Br(e);return t.setHours(0,0,0,0),t}function HR(e){const t=Br(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mme(e,t){const r=ox(e),n=ox(t),i=+r-HR(r),s=+n-HR(n);return Math.round((i-s)/Ame)}function Rme(e){const t=c$(e),r=Us(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ax(r)}function u$(e,t){const r=t*7;return jk(e,r)}function Ime(e){return Us(e,Date.now())}function d$(e,t){const r=ox(e),n=ox(t);return+r==+n}function Lme(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Dme(e){if(!Lme(e)&&typeof e!="number")return!1;const t=Br(e);return!isNaN(Number(t))}function $me(e){const t=Br(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function f$(e,t){const r=Br(e.start),n=Br(e.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let c=1;const f=[];for(;+o<=s;)f.push(Br(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return i?f.reverse():f}function zme(e){const t=Br(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Wme(e){const t=Br(e),r=Us(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Sk(e,t){var c,f,h,m;const r=zp(),n=(t==null?void 0:t.weekStartsOn)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=Br(e),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Bme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fme=(e,t,r)=>{let n;const i=Bme[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ume={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hme={date:Yu({formats:Ume,defaultWidth:"full"}),time:Yu({formats:Vme,defaultWidth:"full"}),dateTime:Yu({formats:qme,defaultWidth:"full"})},Kme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gme=(e,t,r,n)=>Kme[e];function ha(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;i=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Zme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ege={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tge=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rge={ordinalNumber:tge,era:ha({values:Zme,defaultWidth:"wide"}),quarter:ha({values:Yme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ha({values:Xme,defaultWidth:"wide"}),day:ha({values:Jme,defaultWidth:"wide"}),dayPeriod:ha({values:Qme,defaultWidth:"wide",formattingValues:ege,defaultFormattingWidth:"wide"})};function pa(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(c)?ige(c,p=>p.test(o)):nge(c,p=>p.test(o));let h;h=e.valueCallback?e.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(o.length);return{value:h,rest:m}}}function nge(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ige(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function h$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(i.length);return{value:o,rest:c}}}const sge=/^(\d+)(th|st|nd|rd)?/i,age=/\d+/i,oge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lge={any:[/^b/i,/^(a|c)/i]},cge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uge={any:[/1/i,/2/i,/3/i,/4/i]},dge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yge={ordinalNumber:h$({matchPattern:sge,parsePattern:age,valueCallback:e=>parseInt(e,10)}),era:pa({matchPatterns:oge,defaultMatchWidth:"wide",parsePatterns:lge,defaultParseWidth:"any"}),quarter:pa({matchPatterns:cge,defaultMatchWidth:"wide",parsePatterns:uge,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pa({matchPatterns:dge,defaultMatchWidth:"wide",parsePatterns:fge,defaultParseWidth:"any"}),day:pa({matchPatterns:hge,defaultMatchWidth:"wide",parsePatterns:pge,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:mge,defaultMatchWidth:"any",parsePatterns:gge,defaultParseWidth:"any"})},xge={code:"en-US",formatDistance:Fme,formatLong:Hme,formatRelative:Gme,localize:rge,match:yge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vge(e){const t=Br(e);return Mme(t,Wme(t))+1}function bge(e){const t=Br(e),r=+ax(t)-+Rme(t);return Math.round(r/l$)+1}function p$(e,t){var m,p,x,v;const r=Br(e),n=r.getFullYear(),i=zp(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(x=i.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,o=Us(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=gl(o,t),f=Us(e,0);f.setFullYear(n,0,s),f.setHours(0,0,0,0);const h=gl(f,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function wge(e,t){var c,f,h,m;const r=zp(),n=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=p$(e,t),s=Us(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),gl(s,t)}function _ge(e,t){const r=Br(e),n=+gl(r,t)-+wge(r,t);return Math.round(n/l$)+1}function tr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Jo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return tr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):tr(r+1,2)},d(e,t){return tr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return tr(e.getHours()%12||12,t.length)},H(e,t){return tr(e.getHours(),t.length)},m(e,t){return tr(e.getMinutes(),t.length)},s(e,t){return tr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return tr(i,t.length)}},Pu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Jo.y(e,t)},Y:function(e,t,r,n){const i=p$(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return tr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):tr(s,t.length)},R:function(e,t){const r=c$(e);return tr(r,t.length)},u:function(e,t){const r=e.getFullYear();return tr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return tr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return tr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Jo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return tr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=_ge(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):tr(i,t.length)},I:function(e,t,r){const n=bge(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):tr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Jo.d(e,t)},D:function(e,t,r){const n=vge(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return tr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return tr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return tr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Pu.noon:n===0?i=Pu.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Pu.evening:n>=12?i=Pu.afternoon:n>=4?i=Pu.morning:i=Pu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Jo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Jo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Jo.s(e,t)},S:function(e,t){return Jo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ZR(n);case"XXXX":case"XX":return nc(n);case"XXXXX":case"XXX":default:return nc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ZR(n);case"xxxx":case"xx":return nc(n);case"xxxxx":case"xxx":default:return nc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GR(n,":");case"OOOO":default:return"GMT"+nc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GR(n,":");case"zzzz":default:return"GMT"+nc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return tr(n,t.length)},T:function(e,t,r){const n=e.getTime();return tr(n,t.length)}};function GR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+tr(s,2)}function ZR(e,t){return e%60===0?(e>0?"-":"+")+tr(Math.abs(e)/60,2):nc(e,t)}function nc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=tr(Math.trunc(n/60),2),s=tr(n%60,2);return r+i+t+s}const YR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},m$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jge=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return YR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",YR(n,t)).replace("{{time}}",m$(i,t))},Sge={p:m$,P:jge},Nge=/^D+$/,kge=/^Y+$/,Pge=["D","DD","YY","YYYY"];function Tge(e){return Nge.test(e)}function Ege(e){return kge.test(e)}function Cge(e,t,r){const n=Age(e,t,r);if(console.warn(n),Pge.includes(e))throw new RangeError(n)}function Age(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rge=/^'([^]*?)'?$/,Ige=/''/g,Lge=/[a-zA-Z]/;function Fn(e,t,r){var m,p,x,v,j,S,_,N;const n=zp(),i=(r==null?void 0:r.locale)??n.locale??xge,s=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((S=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((N=(_=n.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??0,c=Br(e);if(!Dme(c))throw new RangeError("Invalid time value");let f=t.match(Mge).map(k=>{const C=k[0];if(C==="p"||C==="P"){const R=Sge[C];return R(k,i.formatLong)}return k}).join("").match(Oge).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const C=k[0];if(C==="'")return{isToken:!1,value:Dge(k)};if(KR[C])return{isToken:!0,value:k};if(C.match(Lge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return f.map(k=>{if(!k.isToken)return k.value;const C=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ege(C)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Tge(C))&&Cge(C,t,String(e));const R=KR[C[0]];return R(c,C,i.localize,h)}).join("")}function Dge(e){const t=e.match(Rge);return t?t[1].replace(Ige,"'"):e}function $ge(e,t){const r=Br(e),n=Br(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function yS(e){return d$(e,Ime(e))}function zge(e,t){return jk(e,-1)}function Wge(e,t){return o$(e,-1)}function Bge(e,t){return u$(e,-1)}const Fge={lessThanXSeconds:{one:" ",two:"  ",other:" {{count}} "},xSeconds:{one:"",two:" ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:" ",two:"  ",other:" {{count}} "},xMinutes:{one:"",two:" ",other:"{{count}} "},aboutXHours:{one:"",two:"",other:"{{count}} "},xHours:{one:"",two:"",other:"{{count}} "},xDays:{one:"",two:"",other:"{{count}} "},aboutXWeeks:{one:"",two:"",other:"{{count}} "},xWeeks:{one:"",two:"",other:"{{count}} "},aboutXMonths:{one:"",two:"",other:"{{count}} "},xMonths:{one:"",two:"",other:"{{count}} "},aboutXYears:{one:"",two:"",other:"{{count}} "},xYears:{one:"",two:"",other:"{{count}} "},overXYears:{one:" ",two:" ",other:" {{count}} "},almostXYears:{one:" ",two:" ",other:" {{count}} "}},Uge=(e,t,r)=>{if(e==="xDays"&&(r!=null&&r.addSuffix)&&t<=2)return r.comparison&&r.comparison>0?t===1?"":"":t===1?"":"";let n;const i=Fge[e];return typeof i=="string"?n=i:t===1?n=i.one:t===2?n=i.two:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+n:" "+n:n},Vge={full:"EEEE, d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"d.M.y"},qge={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Hge={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kge={date:Yu({formats:Vge,defaultWidth:"full"}),time:Yu({formats:qge,defaultWidth:"full"}),dateTime:Yu({formats:Hge,defaultWidth:"full"})},Gge={lastWeek:"eeee ' ' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},Zge=(e,t,r,n)=>Gge[e],Yge={narrow:["",""],abbreviated:["",""],wide:[" ",""]},Xge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:[" 1"," 2"," 3"," 4"]},Jge={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Qge={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:[" "," "," "," "," "," ",""],wide:[" "," "," "," "," "," "," "]},eye={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},tye={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},rye=(e,t)=>{const r=Number(e);if(r<=0||r>10)return String(r);const n=String(t==null?void 0:t.unit),i=["year","hour","minute","second"].indexOf(n)>=0,s=["","","","","","","","","",""],o=["","","","","","","","","",""],c=r-1;return i?o[c]:s[c]},nye={ordinalNumber:rye,era:ha({values:Yge,defaultWidth:"wide"}),quarter:ha({values:Xge,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ha({values:Jge,defaultWidth:"wide"}),day:ha({values:Qge,defaultWidth:"wide"}),dayPeriod:ha({values:eye,defaultWidth:"wide",formattingValues:tye,defaultFormattingWidth:"wide"})},iye=/^(\d+|(|||||||||||||||||||))/i,sye=/^(\d+||||||||||)/i,aye={narrow:/^(|)/i,abbreviated:/^(|)/i,wide:/^( )?/i},oye={any:[/^/i,/^/i]},lye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^ [1234]/i},cye={any:[/1/i,/2/i,/3/i,/4/i]},uye={narrow:/^\d+/i,abbreviated:/^(|||||||||||)?/i,wide:/^(|||||||||||)/i},dye={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},fye={narrow:/^[]/i,short:/^[]/i,abbreviated:/^(| (|||||))/i,wide:/^ (||||||)/i},hye={abbreviated:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/^/i],wide:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/$/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},pye={any:/^( |)?(||||||)/i},mye={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon:/|/i,evening://i,night://i}},gye=["","","","","","","","","",""],yye={ordinalNumber:h$({matchPattern:iye,parsePattern:sye,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?gye.indexOf(e)+1:t}}),era:pa({matchPatterns:aye,defaultMatchWidth:"wide",parsePatterns:oye,defaultParseWidth:"any"}),quarter:pa({matchPatterns:lye,defaultMatchWidth:"wide",parsePatterns:cye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pa({matchPatterns:uye,defaultMatchWidth:"wide",parsePatterns:dye,defaultParseWidth:"any"}),day:pa({matchPatterns:fye,defaultMatchWidth:"wide",parsePatterns:hye,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:pye,defaultMatchWidth:"any",parsePatterns:mye,defaultParseWidth:"any"})},ul={code:"he",formatDistance:Uge,formatLong:Kge,formatRelative:Zge,localize:nye,match:yye,options:{weekStartsOn:0,firstWeekContainsDate:1}},xye=["","","","","","",""];function vye({currentDate:e,selectedDate:t,onSelectDate:r,events:n,onEventClick:i,onNewEvent:s}){const o=O.useMemo(()=>{const h=zme(e),m=$me(e),p=gl(h,{weekStartsOn:0}),x=Sk(m,{weekStartsOn:0});return f$({start:p,end:x})},[e]),c=O.useMemo(()=>{const h=new Map;return n.forEach(m=>{const p=m.date;h.has(p)||h.set(p,[]),h.get(p).push(m)}),h},[n]),f=O.useMemo(()=>{const h=Fn(t,"yyyy-MM-dd");return(c.get(h)||[]).sort((m,p)=>m.startTime.localeCompare(p.startTime))},[t,c]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-[#e7e1da]",children:xye.map((h,m)=>a.jsx("div",{className:"py-3 text-center text-[13px] text-[#8d785e]",style:{fontWeight:600},children:h},m))}),a.jsx("div",{className:"grid grid-cols-7",children:o.map((h,m)=>{const p=Fn(h,"yyyy-MM-dd"),x=c.get(p)||[],v=$ge(h,e),j=d$(h,t),S=yS(h);return a.jsxs("button",{onClick:()=>r(h),onDoubleClick:()=>s(h),className:`
                  relative min-h-[80px] lg:min-h-[100px] p-2 border-b border-l border-[#f5f3f0] text-right transition-colors
                  ${v?"bg-white hover:bg-[#fdfcfb]":"bg-[#fdfcfb]"}
                  ${j?"bg-[#ff8c00]/5 ring-1 ring-inset ring-[#ff8c00]":""}
                `,children:[a.jsx("span",{className:`
                    inline-flex items-center justify-center w-7 h-7 rounded-full text-[13px]
                    ${v?"text-[#181510]":"text-[#8d785e]/40"}
                    ${S?"bg-[#ff8c00] text-white":""}
                    ${j&&!S?"bg-[#ff8c00]/15 text-[#ff8c00]":""}
                  `,style:{fontWeight:S||j?700:400},children:Fn(h,"d")}),x.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[x.slice(0,3).map((_,N)=>a.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:_.color},title:_.title},N)),x.length>3&&a.jsxs("span",{className:"text-[10px] text-[#8d785e]",children:["+",x.length-3]})]}),a.jsxs("div",{className:"hidden lg:block mt-1 space-y-0.5",children:[x.slice(0,2).map((_,N)=>a.jsxs("div",{className:"text-[10px] truncate rounded px-1 py-0.5 text-white leading-tight cursor-pointer",style:{backgroundColor:_.color},onClick:k=>{k.stopPropagation(),i(_)},children:[_.startTime," ",_.title]},N)),x.length>2&&a.jsxs("div",{className:"text-[10px] text-[#8d785e] px-1",children:["+",x.length-2," "]})]})]},m)})})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[16px] text-[#181510]",style:{fontWeight:600},children:Fn(t,"EEEE, d MMMM yyyy",{locale:ul})}),a.jsxs("button",{onClick:()=>s(t),className:"flex items-center gap-1.5 text-[13px] text-[#ff8c00] hover:text-[#e67e00] transition-colors",style:{fontWeight:600},children:[a.jsx($r,{size:14})," "]})]}),f.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[a.jsx(_c,{size:32,className:"text-[#e7e1da] mb-2",strokeWidth:1.5}),a.jsx("p",{className:"text-[14px] text-[#8d785e]",children:"   "}),a.jsx("button",{onClick:()=>s(t),className:"mt-3 text-[13px] text-[#ff8c00] hover:underline",style:{fontWeight:600},children:"+   "})]}):a.jsx("div",{className:"space-y-3",children:f.map(h=>a.jsxs("div",{onClick:()=>i(h),className:"flex items-start gap-3 p-3 rounded-lg border border-[#f5f3f0] hover:border-[#e7e1da] hover:bg-[#fdfcfb] cursor-pointer transition-all",children:[a.jsx("div",{className:"w-1 min-h-[40px] rounded-full shrink-0 mt-0.5",style:{backgroundColor:h.color}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[14px] text-[#181510] truncate",style:{fontWeight:600},children:h.title}),h.source==="project"&&a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-[#ff8c00] bg-[#ff8c00]/10 px-2 py-0.5 rounded-full shrink-0",children:[a.jsx(kn,{size:10}),""]})]}),a.jsxs("div",{className:"text-[12px] text-[#8d785e] mt-0.5",children:[h.startTime," - ",h.endTime]}),h.description&&a.jsx("p",{className:"text-[12px] text-[#8d785e]/80 mt-1 truncate",children:h.description})]}),a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full shrink-0",style:{backgroundColor:h.color+"15",color:h.color,fontWeight:600},children:h.typeLabel})]},h.id))})]})]})}const yc=7,g$=21,oc=60,sj=Array.from({length:g$-yc},(e,t)=>yc+t);function bye(e){const[t,r]=e.startTime.split(":").map(Number),[n,i]=e.endTime.split(":").map(Number),s=(t-yc+r/60)*oc,o=n-t+(i-r)/60,c=Math.max(o*oc,24);return{top:`${Math.max(s,0)}px`,height:`${c}px`}}function wye({currentDate:e,events:t,onEventClick:r,onNewEvent:n}){const i=O.useMemo(()=>{const x=gl(e,{weekStartsOn:0}),v=Sk(e,{weekStartsOn:0});return f$({start:x,end:v})},[e]),s=O.useMemo(()=>{const x=new Map;return t.forEach(v=>{const j=v.date;x.has(j)||x.set(j,[]),x.get(j).push(v)}),x},[t]),o=sj.length*oc,c=new Date,f=c.getHours(),h=c.getMinutes(),m=(f-yc+h/60)*oc,p=f>=yc&&f<g$;return a.jsxs("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-[50px_repeat(7,1fr)] border-b border-[#e7e1da]",children:[a.jsx("div",{className:"border-l border-[#e7e1da]"}),i.map((x,v)=>{const j=yS(x);return a.jsxs("div",{className:`py-3 text-center border-l border-[#e7e1da] ${j?"bg-[#ff8c00]/5":""}`,children:[a.jsx("div",{className:"text-[12px] text-[#8d785e]",style:{fontWeight:500},children:Fn(x,"EEEE",{locale:ul})}),a.jsx("div",{className:`text-[18px] mt-0.5 ${j?"text-[#ff8c00]":"text-[#181510]"}`,style:{fontWeight:700},children:Fn(x,"d")})]},v)})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-280px)]",children:a.jsxs("div",{className:"grid grid-cols-[50px_repeat(7,1fr)] relative",style:{height:`${o}px`},children:[a.jsx("div",{className:"relative border-l border-[#e7e1da]",children:sj.map(x=>a.jsxs("div",{className:"absolute w-full text-[11px] text-[#8d785e] text-center -translate-y-1/2",style:{top:`${(x-yc)*oc}px`,fontWeight:500},children:[String(x).padStart(2,"0"),":00"]},x))}),i.map((x,v)=>{const j=Fn(x,"yyyy-MM-dd"),S=s.get(j)||[],_=yS(x);return a.jsxs("div",{className:`relative border-l border-[#e7e1da] ${_?"bg-[#ff8c00]/[0.02]":""}`,onClick:()=>n(x),children:[sj.map(N=>a.jsx("div",{className:"absolute w-full border-b border-[#f5f3f0]",style:{top:`${(N-yc)*oc}px`,height:`${oc}px`}},N)),_&&p&&a.jsx("div",{className:"absolute w-full z-10 pointer-events-none",style:{top:`${m}px`},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-[#ef4444] -mr-1"}),a.jsx("div",{className:"flex-1 h-[2px] bg-[#ef4444]"})]})}),S.map((N,k)=>{const C=bye(N);return a.jsxs("div",{onClick:R=>{R.stopPropagation(),r(N)},className:"absolute right-1 left-1 rounded-lg px-2 py-1 cursor-pointer text-white overflow-hidden z-[5] hover:brightness-110 transition-all shadow-sm",style:{...C,backgroundColor:N.color,marginRight:k>0?`${k*4}px`:void 0},children:[a.jsx("div",{className:"text-[11px] truncate",style:{fontWeight:600},children:N.title}),a.jsxs("div",{className:"text-[10px] opacity-80 truncate",children:[N.startTime," - ",N.endTime]})]},N.id)})]},v)})]})})]})}function _ye({currentDate:e,events:t,onEventClick:r,onNewEvent:n,onDeleteEvent:i}){const s=O.useMemo(()=>{const o=Fn(e,"yyyy-MM-dd");return t.filter(c=>c.date===o).sort((c,f)=>c.startTime.localeCompare(f.startTime))},[t,e]);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:Fn(e,"EEEE",{locale:ul})}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-0.5",children:Fn(e,"d MMMM yyyy",{locale:ul})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-[13px] text-[#8d785e] bg-[#f5f3f0] px-3 py-1.5 rounded-lg",style:{fontWeight:600},children:[s.length," "]}),a.jsxs("button",{onClick:()=>n(e),className:"flex items-center gap-1.5 text-[13px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-3 py-1.5 rounded-lg transition-colors",style:{fontWeight:600},children:[a.jsx($r,{size:14})," "]})]})]})}),s.length===0?a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-10",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx(_c,{size:40,className:"text-[#e7e1da] mb-3",strokeWidth:1.5}),a.jsx("h4",{className:"text-[16px] text-[#181510] mb-1",style:{fontWeight:600},children:"   "}),a.jsx("p",{className:"text-[13px] text-[#8d785e] mb-4",children:'  " "   '}),a.jsxs("button",{onClick:()=>n(e),className:"flex items-center gap-2 text-[13px] text-[#ff8c00] hover:text-[#e67e00] transition-colors",style:{fontWeight:600},children:[a.jsx($r,{size:14}),"  "]})]})}):a.jsx("div",{className:"space-y-3",children:s.map((o,c)=>a.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:c*.05},className:"bg-white rounded-xl border border-[#e7e1da] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] p-4 hover:border-[#d6cfc6] transition-colors",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1 min-h-[56px] rounded-full shrink-0 mt-0.5",style:{backgroundColor:o.color}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"text-[16px] text-[#181510] truncate",style:{fontWeight:600},children:o.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Bs,{size:12,className:"text-[#8d785e] shrink-0"}),a.jsxs("span",{className:"text-[13px] text-[#8d785e]",children:[o.startTime," - ",o.endTime]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full",style:{backgroundColor:o.color+"15",color:o.color,fontWeight:600},children:o.typeLabel}),o.source==="project"&&a.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[#ff8c00] bg-[#ff8c00]/10 px-2.5 py-1 rounded-full",children:[a.jsx(kn,{size:10}),""]})]})]}),o.description&&a.jsx("p",{className:"text-[13px] text-[#8d785e]/80 mt-2 leading-relaxed",children:o.description}),o.source==="calendar"&&a.jsxs("div",{className:"flex items-center gap-3 mt-3 pt-3 border-t border-[#f5f3f0]",children:[a.jsxs("button",{onClick:()=>r(o),className:"flex items-center gap-1.5 text-[12px] text-[#8d785e] hover:text-[#181510] transition-colors",style:{fontWeight:500},children:[a.jsx(xh,{size:12}),""]}),a.jsxs("button",{onClick:()=>i(o.originalEvent),className:"flex items-center gap-1.5 text-[12px] text-[#8d785e] hover:text-red-500 transition-colors",style:{fontWeight:500},children:[a.jsx(Un,{size:12}),""]})]}),o.source==="project"&&a.jsx("div",{className:"flex items-center gap-3 mt-3 pt-3 border-t border-[#f5f3f0]",children:a.jsxs("button",{onClick:()=>r(o),className:"flex items-center gap-1.5 text-[12px] text-[#ff8c00] hover:text-[#e67e00] transition-colors",style:{fontWeight:500},children:[a.jsx(kn,{size:12})," "]})})]})]})},o.id))})]})}const jye=[{value:"meeting",label:""},{value:"deadline",label:""},{value:"reminder",label:""},{value:"personal",label:""}],Sye={meeting:"#3b82f6",deadline:"#ef4444",reminder:"#f59e0b",personal:"#8b5cf6"};function Nye({onClose:e,onSave:t,editingEvent:r,saving:n,selectedDate:i,projects:s}){const{register:o,handleSubmit:c,formState:{errors:f,dirtyFields:h,isValid:m},reset:p,watch:x}=os({mode:"onChange",defaultValues:{title:(r==null?void 0:r.title)||"",description:(r==null?void 0:r.description)||"",date:(r==null?void 0:r.date)||Fn(i,"yyyy-MM-dd"),startTime:(r==null?void 0:r.startTime)||"09:00",endTime:(r==null?void 0:r.endTime)||"10:00",type:(r==null?void 0:r.type)||"meeting",projectId:(r==null?void 0:r.projectId)||""}});O.useEffect(()=>{p({title:(r==null?void 0:r.title)||"",description:(r==null?void 0:r.description)||"",date:(r==null?void 0:r.date)||Fn(i,"yyyy-MM-dd"),startTime:(r==null?void 0:r.startTime)||"09:00",endTime:(r==null?void 0:r.endTime)||"10:00",type:(r==null?void 0:r.type)||"meeting",projectId:(r==null?void 0:r.projectId)||""})},[r,i,p]);const v=j=>{const S=Sye[j.type];t({title:j.title,description:j.description,date:j.date,startTime:j.startTime,endTime:j.endTime,type:j.type,color:S,projectId:j.projectId||void 0})};return a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:e,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6 font-['Assistant',sans-serif]",dir:"rtl",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-[20px] text-[#181510]",style:{fontWeight:700},children:r?" ":" "}),a.jsx("button",{onClick:e,className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:c(v),className:"space-y-4",children:[a.jsx(At,{label:"",required:!0,error:f.title,isDirty:h.title,placeholder:" ...",...o("title",Ft.requiredMin("",2))}),a.jsx(mj,{label:"",rows:3,error:f.description,isDirty:h.description,placeholder:"  ()...",...o("description")}),a.jsx(At,{label:"",type:"date",required:!0,error:f.date,isDirty:h.date,...o("date",Ft.required(""))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(At,{label:" ",type:"time",required:!0,error:f.startTime,isDirty:h.startTime,...o("startTime",Ft.required(" "))}),a.jsx(At,{label:" ",type:"time",required:!0,error:f.endTime,isDirty:h.endTime,...o("endTime",{required:$n.required(" "),validate:j=>{const S=x("startTime");return j>S||"      "}})})]}),a.jsx(ao,{label:" ",error:f.type,isDirty:h.type,...o("type"),children:jye.map(j=>a.jsx("option",{value:j.value,children:j.label},j.value))}),a.jsxs(ao,{label:"  ()",error:f.projectId,isDirty:h.projectId,...o("projectId"),children:[a.jsx("option",{value:"",children:" "}),s.map(j=>a.jsxs("option",{value:j.id,children:[j.name," - ",j.company]},j.id))]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{type:"submit",disabled:n||!m,className:"flex-1 flex items-center justify-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:[n?a.jsx(vt,{size:16,className:"animate-spin"}):r?a.jsx(xh,{size:16}):a.jsx($r,{size:16}),n?"...":r?" ":" "]}),a.jsx("button",{type:"button",onClick:e,className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors text-[14px] text-[#181510]",style:{fontWeight:600},children:""})]})]})]})})}const XR={meeting:{label:"",color:"#3b82f6"},deadline:{label:"",color:"#ef4444"},reminder:{label:"",color:"#f59e0b"},personal:{label:"",color:"#8b5cf6"},project:{label:"",color:"#ff8c00"}},kye=[{key:"month",label:""},{key:"week",label:""},{key:"day",label:""}];function Pye(){const e=Fr(),[t,r]=O.useState("month"),[n,i]=O.useState(new Date),[s,o]=O.useState(new Date),[c,f]=O.useState([]),[h,m]=O.useState([]),[p,x]=O.useState(!0),[v,j]=O.useState(!1),[S,_]=O.useState(null),[N,k]=O.useState(null),[C,R]=O.useState(!1);O.useEffect(()=>{x(!0),Promise.all([eg.list().catch(()=>[]),Ii.list().catch(()=>[])]).then(([X,Z])=>{f(X),m(Z)}).finally(()=>x(!1))},[]);const A=O.useMemo(()=>{const X=c.map(F=>{var K,U;return{id:F.id,title:F.title,description:F.description,date:F.date,startTime:F.startTime,endTime:F.endTime,type:F.type,typeLabel:((K=XR[F.type])==null?void 0:K.label)||F.type,color:F.color||((U=XR[F.type])==null?void 0:U.color)||"#8d785e",source:"calendar",projectId:F.projectId,originalEvent:F}}),Z=h.filter(F=>F.date).map(F=>({id:`project-${F.id}`,title:F.name,description:`${F.company} | ${F.participants}  | ${F.region}`,date:F.date,startTime:"09:00",endTime:"17:00",type:"project",typeLabel:"",color:F.statusColor||"#ff8c00",source:"project",projectId:F.id,originalProject:F}));return[...X,...Z]},[c,h]),E=()=>{i(t==="month"?X=>Wge(X):t==="week"?X=>Bge(X):X=>zge(X))},$=()=>{i(t==="month"?X=>o$(X,1):t==="week"?X=>u$(X,1):X=>jk(X,1))},I=()=>{i(new Date),o(new Date)},D=O.useMemo(()=>{if(t==="month")return Fn(n,"MMMM yyyy",{locale:ul});if(t==="week"){const X=gl(n,{weekStartsOn:0}),Z=Sk(n,{weekStartsOn:0});return`${Fn(X,"d",{locale:ul})} - ${Fn(Z,"d MMMM yyyy",{locale:ul})}`}return Fn(n,"EEEE, d MMMM yyyy",{locale:ul})},[n,t]),W=X=>{_(null),X&&o(X),j(!0)},B=X=>{if(X.source==="project"){e(`/projects/${X.projectId}`);return}_(X.originalEvent),j(!0)},q=async X=>{try{if(R(!0),S){const Z=await eg.update(S.id,X);f(F=>F.map(K=>K.id===S.id?Z:K)),We.success(" ",`"${Z.title}"  `)}else{const Z=await eg.create(X);f(F=>[Z,...F]),We.success("  ",`"${Z.title}"  `)}j(!1),_(null)}catch(Z){console.error("[CalendarPage] Save failed:",Z),We.error("","    ")}finally{R(!1)}},J=async()=>{if(N)try{R(!0),await eg.delete(N.id),f(X=>X.filter(Z=>Z.id!==N.id)),We.success(" ",`"${N.title}"  `),k(null)}catch(X){console.error("[CalendarPage] Delete failed:",X),We.error("","    ")}finally{R(!1)}};return a.jsxs("div",{className:"p-4 lg:p-6 font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx(xp,{size:20,className:"text-[#ff8c00]"})}),a.jsx("h1",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:""})]}),a.jsxs("button",{onClick:()=>W(),className:"flex items-center gap-2 text-[14px] text-white bg-[#ff8c00] hover:bg-[#e67e00] px-4 py-2.5 rounded-xl transition-colors shadow-sm",style:{fontWeight:600},children:[a.jsx($r,{size:16})," "]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[a.jsx("div",{className:"flex bg-white border border-[#e7e1da] rounded-lg p-1 shadow-sm",children:kye.map(X=>a.jsx("button",{onClick:()=>r(X.key),className:`px-4 py-1.5 rounded-md text-[13px] transition-all ${t===X.key?"bg-[#ff8c00] text-white shadow-sm":"text-[#8d785e] hover:text-[#181510] hover:bg-[#f5f3f0]"}`,style:{fontWeight:600},children:X.label},X.key))}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:$,className:"w-8 h-8 bg-white border border-[#e7e1da] rounded-lg flex items-center justify-center hover:bg-[#f5f3f0] transition-colors",children:a.jsx(xl,{size:14,className:"text-[#181510]"})}),a.jsx("button",{onClick:E,className:"w-8 h-8 bg-white border border-[#e7e1da] rounded-lg flex items-center justify-center hover:bg-[#f5f3f0] transition-colors",children:a.jsx(qs,{size:14,className:"text-[#181510]"})}),a.jsx("span",{className:"text-[15px] text-[#181510] min-w-[180px] text-center",style:{fontWeight:700},children:D}),a.jsx("button",{onClick:I,className:"text-[13px] text-[#ff8c00] hover:text-[#e67e00] border border-[#ff8c00]/30 hover:border-[#ff8c00] px-3 py-1.5 rounded-lg transition-colors",style:{fontWeight:600},children:""})]})]}),p&&a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00]"})}),!p&&a.jsx(ln,{mode:"wait",children:a.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[t==="month"&&a.jsx(vye,{currentDate:n,selectedDate:s,onSelectDate:o,events:A,onEventClick:B,onNewEvent:W}),t==="week"&&a.jsx(wye,{currentDate:n,events:A,onEventClick:B,onNewEvent:W}),t==="day"&&a.jsx(_ye,{currentDate:n,events:A,onEventClick:B,onNewEvent:W,onDeleteEvent:k})]},t)}),v&&a.jsx(Nye,{onClose:()=>{j(!1),_(null)},onSave:q,editingEvent:S,saving:C,selectedDate:s,projects:h}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>k(null),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 font-['Assistant',sans-serif]",dir:"rtl",onClick:X=>X.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center",children:a.jsx(Pn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:"    "})]})]}),a.jsxs("p",{className:"text-[14px] text-[#181510] mb-5",children:["      "," ",a.jsxs("span",{style:{fontWeight:700},children:['"',N.title,'"']}),"?"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:J,disabled:C,className:"flex-1 flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:[C?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Un,{size:16}),C?"...":", "]}),a.jsx("button",{onClick:()=>k(null),className:"px-5 border border-[#e7e1da] rounded-xl hover:bg-[#f5f3f0] transition-colors text-[14px] text-[#181510]",style:{fontWeight:600},children:""})]})]})})]})}const Eg=e=>{if(!e)return"expired";const t=new Date(e),r=new Date;return t<r?"expired":(t.getTime()-r.getTime())/(1e3*60*60*24)<60?"warning":"valid"},Tye=e=>e?new Date(e).toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"}):"",Eye={valid:{label:"",color:"text-green-600",bg:"bg-green-50",border:"border-green-200",icon:Xr,iconColor:"text-green-500"},warning:{label:" ",color:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200",icon:Bs,iconColor:"text-yellow-500"},expired:{label:" ",color:"text-red-500",bg:"bg-red-50",border:"border-red-200",icon:Pn,iconColor:"text-red-500"}},Cye=[""," "," ","  '",""],y$={contract:"",proposal:" ",agreement:"",invoice:"",other:""},Aye=["",...Object.values(y$)],Wf=10;function Oye(){const e=Fr(),[t,r]=O.useState([]),[n,i]=O.useState([]),[s,o]=O.useState([]),[c,f]=O.useState([]),[h,m]=O.useState(!0),[p,x]=O.useState("suppliers"),[v,j]=O.useState(""),[S,_]=O.useState("all"),[N,k]=O.useState(""),[C,R]=O.useState(1),[A,E]=O.useState(!1),[$,I]=O.useState(null),[D,W]=O.useState(""),[B,q]=O.useState(null),[J,X]=O.useState(!1),{register:Z,handleSubmit:F,formState:{errors:K,dirtyFields:U,isValid:ie},reset:se,watch:G}=os({mode:"onChange",defaultValues:{projectId:"",name:"",type:"contract",expiry:"",fileName:""}}),Y=async()=>{try{m(!0);const[te,ue]=await Promise.all([zr.list(),Ii.list()]);r(te),i(ue);const de=await Promise.all(te.map(async Me=>{try{return(await Uu.list(Me.id)).map(qe=>({id:qe.id,name:qe.name,type:qe.name,entityType:"supplier",entityId:Me.id,entityName:Me.name,expiry:qe.expiry,status:Eg(qe.expiry),fileName:qe.fileName}))}catch{return[]}}));o(de.flat());const Re=await Promise.all(ue.map(async Me=>{try{return(await Qm.list(Me.id)).map(qe=>({id:qe.id,name:qe.name,type:y$[qe.type]||qe.type,entityType:"project",entityId:Me.id,entityName:Me.name,expiry:qe.expiry||"",status:qe.expiry?Eg(qe.expiry):"valid",fileName:qe.fileName}))}catch{return[]}}));f(Re.flat())}catch(te){console.error("[DocumentsPage] Failed to fetch data:",te),We.error("  ")}finally{m(!1)}};O.useEffect(()=>{Y()},[]);const oe=p==="suppliers"?s:c,_e=[...s,...c],Ce=O.useMemo(()=>oe.filter(te=>{if(v){const ue=v.toLowerCase();if(!te.name.toLowerCase().includes(ue)&&!te.entityName.toLowerCase().includes(ue))return!1}if(S!=="all"&&te.status!==S)return!1;if(N!==""){if(p==="suppliers"){if(N===""){if([" "," ","  '"].includes(te.name))return!1}else if(te.name!==N)return!1}else if(te.type!==N)return!1}return!0}),[oe,v,S,N,p]),Ne=Math.max(1,Math.ceil(Ce.length/Wf)),Be=Ce.slice((C-1)*Wf,C*Wf);O.useEffect(()=>{R(1)},[v,S,N,p]);const ye=O.useMemo(()=>{const te=_e.length,ue=_e.filter(Me=>Me.status==="valid").length,de=_e.filter(Me=>Me.status==="warning").length,Re=_e.filter(Me=>Me.status==="expired").length;return{total:te,valid:ue,warning:de,expired:Re}},[_e]),ee=async te=>{try{X(!0);const ue=te.expiry?Eg(te.expiry):"active";await Qm.create(te.projectId,{name:te.name.trim(),type:te.type,expiry:te.expiry||void 0,status:ue,fileName:te.fileName.trim()||void 0}),We.success("  "),E(!1),se(),Y()}catch(ue){console.error("[DocumentsPage] Failed to add document:",ue),We.error("  ")}finally{X(!1)}},xe=async()=>{if(!(!$||!D))try{X(!0);const te=Eg(D);$.entityType==="supplier"?await Uu.update($.entityId,$.id,{expiry:D,status:te}):await Qm.update($.entityId,$.id,{expiry:D,status:te}),We.success("   "),I(null),W(""),Y()}catch(te){console.error("[DocumentsPage] Failed to update expiry:",te),We.error("  ")}finally{X(!1)}},ke=async()=>{if(B)try{X(!0),B.entityType==="supplier"?await Uu.delete(B.entityId,B.id):await Qm.delete(B.entityId,B.id),We.success("  "),q(null),Y()}catch(te){console.error("[DocumentsPage] Failed to delete document:",te),We.error("  ")}finally{X(!1)}};return h?a.jsx("div",{className:"p-4 lg:p-6 max-w-[1200px] mx-auto font-['Assistant',sans-serif] flex items-center justify-center min-h-[60vh]",dir:"rtl",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(vt,{size:32,className:"animate-spin text-[#ff8c00]"}),a.jsx("span",{className:"text-[15px] text-[#8d785e]",style:{fontWeight:500},children:" ..."})]})}):a.jsxs("div",{className:"p-4 lg:p-6 max-w-[1200px] mx-auto font-['Assistant',sans-serif]",dir:"rtl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-11 h-11 bg-[#ff8c00]/10 rounded-xl flex items-center justify-center",children:a.jsx(Er,{size:22,className:"text-[#ff8c00]"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-[24px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:",     "})]})]}),a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-[#ff8c00] hover:bg-[#e67e00] text-white px-4 py-2.5 rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:[a.jsx($r,{size:16})," "]})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[{label:" ",value:ye.total,color:"#8d785e",bg:"#f5f3f0"},{label:"",value:ye.valid,color:"#22c55e",bg:"#f0fdf4"},{label:" ",value:ye.warning,color:"#eab308",bg:"#fefce8"},{label:" ",value:ye.expired,color:"#ef4444",bg:"#fef2f2"}].map(te=>a.jsxs("div",{className:"rounded-xl border border-[#e7e1da] p-4",style:{backgroundColor:te.bg},children:[a.jsx("div",{className:"text-[12px] text-[#8d785e] mb-1",style:{fontWeight:600},children:te.label}),a.jsx("div",{className:"text-[28px]",style:{fontWeight:700,color:te.color},children:te.value})]},te.label))}),a.jsx("div",{className:"flex items-center gap-1 mb-4 bg-[#f5f3f0] rounded-xl p-1 w-fit",children:[{key:"suppliers",label:" ",icon:pj},{key:"projects",label:" ",icon:Er}].map(te=>a.jsxs("button",{onClick:()=>{x(te.key),k("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-[13px] transition-all ${p===te.key?"bg-white text-[#181510] shadow-sm":"text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:p===te.key?700:500},children:[a.jsx(te.icon,{size:15}),te.label,a.jsx("span",{className:`text-[11px] px-1.5 py-0.5 rounded-full ${p===te.key?"bg-[#ff8c00]/10 text-[#ff8c00]":"bg-[#e7e1da] text-[#8d785e]"}`,style:{fontWeight:700},children:te.key==="suppliers"?s.length:c.length})]},te.key))}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(ho,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#8d785e]"}),a.jsx("input",{value:v,onChange:te=>j(te.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-xl pr-9 pl-4 py-2.5 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00] transition-all",placeholder:"      /..."})]}),a.jsxs("select",{value:S,onChange:te=>_(te.target.value),className:"bg-white border border-[#e7e1da] rounded-xl px-3 py-2.5 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",children:[a.jsx("option",{value:"all",children:" "}),a.jsx("option",{value:"valid",children:""}),a.jsx("option",{value:"warning",children:" "}),a.jsx("option",{value:"expired",children:" "})]}),a.jsx("select",{value:N,onChange:te=>k(te.target.value),className:"bg-white border border-[#e7e1da] rounded-xl px-3 py-2.5 text-[13px] focus:outline-none focus:ring-2 focus:ring-[#ff8c00]/30 focus:border-[#ff8c00]",children:(p==="suppliers"?Cye:Aye).map(te=>a.jsx("option",{value:te,children:te},te))})]}),a.jsx("div",{className:"bg-white rounded-xl border border-[#e7e1da] overflow-hidden",children:Ce.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-[#f5f3f0] rounded-full flex items-center justify-center mb-3",children:a.jsx(Er,{size:24,className:"text-[#b8a990]"})}),a.jsx("div",{className:"text-[15px] text-[#181510] mb-1",style:{fontWeight:600},children:v||S!=="all"||N!==""?"   ":"  "}),a.jsx("div",{className:"text-[13px] text-[#8d785e]",children:v||S!=="all"||N!==""?"   ":p==="projects"?"   ":"   "})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-[13px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-[#faf9f7] border-b border-[#e7e1da]",children:[a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:" "}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:p==="suppliers"?"":""}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:""}),a.jsx("th",{className:"text-right py-3 px-4 text-[#8d785e] text-[12px]",style:{fontWeight:600},children:""})]})}),a.jsx("tbody",{children:Be.map(te=>{const ue=Eye[te.status],de=ue.icon;return a.jsxs("tr",{className:"border-b border-[#f0ede8] hover:bg-[#faf9f7] transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] ${ue.bg} ${ue.border} border`,style:{fontWeight:600},children:[a.jsx(de,{size:12,className:ue.iconColor}),a.jsx("span",{className:ue.color,children:ue.label})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"text-[#181510]",style:{fontWeight:600},children:te.name})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>e(te.entityType==="supplier"?`/suppliers/${te.entityId}`:`/projects/${te.entityId}`),className:"text-[#ff8c00] hover:text-[#e67e00] hover:underline transition-colors",style:{fontWeight:500},children:te.entityName})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-[#f5f3f0] text-[#8d785e]",style:{fontWeight:600},children:te.type})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`text-[12px] ${ue.color}`,style:{fontWeight:500},children:Tye(te.expiry)})}),a.jsx("td",{className:"py-3 px-4",children:te.fileName?a.jsxs("div",{className:"flex items-center gap-1 text-[12px] text-[#8d785e]",children:[a.jsx(Er,{size:12}),a.jsx("span",{className:"max-w-[120px] truncate",children:te.fileName})]}):a.jsx("span",{className:"text-[12px] text-[#b8a990]",children:""})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>e(te.entityType==="supplier"?`/suppliers/${te.entityId}`:`/projects/${te.entityId}`),className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",title:"",children:a.jsx(_a,{size:14})}),a.jsx("button",{onClick:()=>{I(te),W(te.expiry)},className:"p-1.5 text-[#8d785e] hover:text-[#ff8c00] hover:bg-[#ff8c00]/10 rounded-lg transition-all",title:" ",children:a.jsx(jc,{size:14})}),a.jsx("button",{onClick:()=>q(te),className:"p-1.5 text-[#8d785e] hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"",children:a.jsx(Un,{size:14})})]})})]},`${te.entityType}-${te.id}`)})})]})}),Ne>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-[#f0ede8]",children:[a.jsxs("div",{className:"text-[12px] text-[#8d785e]",children:[" ",(C-1)*Wf+1,"",Math.min(C*Wf,Ce.length),"  ",Ce.length]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>R(te=>Math.max(1,te-1)),disabled:C<=1,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-[#f5f3f0] transition-colors disabled:opacity-30",children:a.jsx(xl,{size:14})}),Array.from({length:Ne},(te,ue)=>ue+1).map(te=>a.jsx("button",{onClick:()=>R(te),className:`w-7 h-7 rounded-md flex items-center justify-center text-[12px] transition-colors ${C===te?"bg-[#ff8c00] text-white":"text-[#8d785e] hover:bg-[#f5f3f0]"}`,children:te},te)),a.jsx("button",{onClick:()=>R(te=>Math.min(Ne,te+1)),disabled:C>=Ne,className:"w-7 h-7 rounded-md flex items-center justify-center text-[#8d785e] hover:bg-[#f5f3f0] transition-colors disabled:opacity-30",children:a.jsx(qs,{size:14})})]})]})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{E(!1),se()},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-6",dir:"rtl",onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx($r,{size:18,className:"text-[#ff8c00]"})}),a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:"  "})]}),a.jsx("button",{onClick:()=>{E(!1),se()},className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(Ir,{size:20})})]}),a.jsxs("form",{onSubmit:F(ee),className:"space-y-3",children:[a.jsxs(ao,{label:"",required:!0,error:K.projectId,isDirty:U.projectId,...Z("projectId",Ft.required("")),children:[a.jsx("option",{value:"",children:" ..."}),n.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]}),a.jsx(At,{label:" ",placeholder:":  ",required:!0,error:K.name,isDirty:U.name,...Z("name",Ft.requiredMin(" ",2))}),a.jsxs(ao,{label:" ",required:!0,error:K.type,isDirty:U.type,...Z("type",Ft.required(" ")),children:[a.jsx("option",{value:"contract",children:""}),a.jsx("option",{value:"proposal",children:" "}),a.jsx("option",{value:"agreement",children:""}),a.jsx("option",{value:"invoice",children:""}),a.jsx("option",{value:"other",children:""})]}),a.jsx(At,{label:" ",type:"date",error:K.expiry,isDirty:U.expiry,...Z("expiry")}),a.jsx(At,{label:" ",placeholder:": contract_2024.pdf",error:K.fileName,isDirty:U.fileName,...Z("fileName")}),a.jsxs("div",{className:"flex gap-3 pt-3",children:[a.jsxs("button",{type:"submit",disabled:J||!ie,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2 text-[14px]",style:{fontWeight:600},children:[J?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx($r,{size:16}),J?"...":" "]}),a.jsx("button",{type:"button",onClick:()=>{E(!1),se()},className:"px-4 py-2.5 text-[#8d785e] hover:text-[#181510] hover:bg-[#f5f3f0] rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:""})]})]})]})}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>{I(null),W("")},children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6",dir:"rtl",onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-[#ff8c00]/10 rounded-lg flex items-center justify-center",children:a.jsx(_c,{size:18,className:"text-[#ff8c00]"})}),a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:" "})]}),a.jsx("button",{onClick:()=>{I(null),W("")},className:"text-[#8d785e] hover:text-[#181510] transition-colors",children:a.jsx(Ir,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-[13px] text-[#8d785e] mb-1",style:{fontWeight:600},children:""}),a.jsx("div",{className:"text-[15px] text-[#181510]",style:{fontWeight:600},children:$.name}),a.jsx("div",{className:"text-[12px] text-[#8d785e] mt-0.5",children:$.entityName})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-[13px] text-[#8d785e] mb-1 block",style:{fontWeight:600},children:"  "}),a.jsx("input",{type:"date",value:D,onChange:te=>W(te.target.value),className:"w-full bg-white border border-[#e7e1da] rounded-lg px-3 py-2.5 text-[13px] text-[#181510] focus:outline-none focus:border-[#ff8c00] focus:ring-2 focus:ring-[#ff8c00]/10 transition-all"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:xe,disabled:!D||J,className:"flex-1 bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2 text-[14px]",style:{fontWeight:600},children:[J?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(vp,{size:16}),J?"...":""]}),a.jsx("button",{onClick:()=>{I(null),W("")},className:"px-4 py-2.5 text-[#8d785e] hover:text-[#181510] hover:bg-[#f5f3f0] rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:""})]})]})}),B&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>q(null),children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6",dir:"rtl",onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-full flex items-center justify-center",children:a.jsx(Un,{size:20,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-[18px] text-[#181510]",style:{fontWeight:700},children:" "}),a.jsx("p",{className:"text-[13px] text-[#8d785e]",children:"    "})]})]}),a.jsxs("div",{className:"bg-[#faf9f7] rounded-xl p-3 mb-4",children:[a.jsx("div",{className:"text-[14px] text-[#181510]",style:{fontWeight:600},children:B.name}),a.jsx("div",{className:"text-[12px] text-[#8d785e] mt-0.5",children:B.entityName})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ke,disabled:J,className:"flex-1 bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white py-2.5 rounded-xl transition-colors flex items-center justify-center gap-2 text-[14px]",style:{fontWeight:600},children:[J?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Un,{size:16}),J?"...":""]}),a.jsx("button",{onClick:()=>q(null),className:"px-4 py-2.5 text-[#8d785e] hover:text-[#181510] hover:bg-[#f5f3f0] rounded-xl transition-colors text-[14px]",style:{fontWeight:600},children:""})]})]})})]})}const Mye=mI([{path:"/",Component:RH,ErrorBoundary:Nme,children:[{index:!0,Component:xpe},{path:"projects",Component:wpe},{path:"projects/:id",Component:Ppe},{path:"suppliers",Component:Ipe},{path:"suppliers/archive",Component:Vpe},{path:"suppliers/import",Component:Jpe},{path:"suppliers/classify",Component:eme},{path:"suppliers/scan",Component:ime},{path:"suppliers/:id",Component:Upe},{path:"clients",Component:Tme},{path:"documents",Component:Oye},{path:"settings",Component:Eme},{path:"calendar",Component:Pye},{path:"quote/:id",Component:n$},{path:"prd",Component:Sme},{path:"*",Component:Cme}]}]),Rye="data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><rect width="40" height="40" rx="8" fill="%23ff8c00"/><text x="20" y="26" text-anchor="middle" fill="white" font-size="12" font-family="sans-serif"> </text></svg>');function Iye(){const{login:e,signup:t}=yx(),[r,n]=O.useState("login"),[i,s]=O.useState(!1),[o,c]=O.useState(""),[f,h]=O.useState(!1),m=os({mode:"onChange",defaultValues:{email:"",password:""}}),p=os({mode:"onChange",defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),x=async S=>{c(""),s(!0);const{error:_}=await e(S.email.trim(),S.password);s(!1),_&&(_.includes("Invalid login")?c("   "):c(_))},v=async S=>{if(c(""),S.password!==S.confirmPassword){p.setError("confirmPassword",{message:"  "});return}s(!0);const{error:_}=await t(S.email.trim(),S.password,S.name.trim());s(!1),_&&(_.includes("already registered")||_.includes("already been registered")?c("    "):c(_))},j=S=>{n(S),c(""),m.reset(),p.reset()};return a.jsx("div",{className:"min-h-screen bg-[#f8f7f5] flex items-center justify-center p-4 font-['Assistant',sans-serif]",dir:"rtl",children:a.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-[420px]",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("img",{src:Rye,alt:"TravelPro",className:"w-16 h-16 rounded-2xl object-contain mb-3 shadow-lg"}),a.jsx("h1",{className:"text-[28px] text-[#181510]",style:{fontWeight:700},children:"TravelPro"}),a.jsx("p",{className:"text-[14px] text-[#8d785e] mt-1",children:"   "})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-[#e7e1da] shadow-xl p-6",children:[a.jsxs("div",{className:"flex bg-[#f5f3f0] rounded-xl p-1 mb-6",children:[a.jsxs("button",{onClick:()=>j("login"),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-[14px] transition-all ${r==="login"?"bg-white text-[#181510] shadow-sm":"text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:r==="login"?600:400},children:[a.jsx(JT,{size:15}),""]}),a.jsxs("button",{onClick:()=>j("signup"),className:`flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-[14px] transition-all ${r==="signup"?"bg-white text-[#181510] shadow-sm":"text-[#8d785e] hover:text-[#181510]"}`,style:{fontWeight:r==="signup"?600:400},children:[a.jsx(vh,{size:15}),""]})]}),o&&a.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 text-red-600 rounded-lg px-4 py-3 mb-4 text-[13px]",style:{fontWeight:500},children:o}),a.jsx(ln,{mode:"wait",children:r==="login"?a.jsxs(Ke.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.25},onSubmit:m.handleSubmit(x),className:"space-y-4",children:[a.jsx(At,{label:"",type:"email",placeholder:"name@company.com",required:!0,error:m.formState.errors.email,isDirty:m.formState.dirtyFields.email,...m.register("email",Ft.email(!0))}),a.jsxs("div",{children:[a.jsx(At,{label:"",type:f?"text":"password",placeholder:" ",required:!0,error:m.formState.errors.password,isDirty:m.formState.dirtyFields.password,...m.register("password",{required:"   "})}),a.jsxs("button",{type:"button",onClick:()=>h(!f),className:"text-[12px] text-[#8d785e] hover:text-[#ff8c00] mt-1 flex items-center gap-1",children:[f?a.jsx(YT,{size:12}):a.jsx(_a,{size:12}),f?" ":" "]})]}),a.jsxs("button",{type:"submit",disabled:i||!m.formState.isValid,className:"w-full bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-[#ff8c00]/20",style:{fontWeight:600},children:[i?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(JT,{size:18}),i?"...":""]})]},"login"):a.jsxs(Ke.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.25},onSubmit:p.handleSubmit(v),className:"space-y-4",children:[a.jsx(At,{label:" ",placeholder:" ",required:!0,error:p.formState.errors.name,isDirty:p.formState.dirtyFields.name,...p.register("name",Ft.requiredMin("",2))}),a.jsx(At,{label:"",type:"email",placeholder:"name@company.com",required:!0,error:p.formState.errors.email,isDirty:p.formState.dirtyFields.email,...p.register("email",Ft.email(!0))}),a.jsx(At,{label:"",type:f?"text":"password",placeholder:" 6 ",required:!0,error:p.formState.errors.password,isDirty:p.formState.dirtyFields.password,...p.register("password",{required:"   ",minLength:{value:6,message:"    6 "}})}),a.jsxs("div",{children:[a.jsx(At,{label:" ",type:f?"text":"password",placeholder:"   ",required:!0,error:p.formState.errors.confirmPassword,isDirty:p.formState.dirtyFields.confirmPassword,...p.register("confirmPassword",{required:"    ",validate:S=>S===p.getValues("password")||"  "})}),a.jsxs("button",{type:"button",onClick:()=>h(!f),className:"text-[12px] text-[#8d785e] hover:text-[#ff8c00] mt-1 flex items-center gap-1",children:[f?a.jsx(YT,{size:12}):a.jsx(_a,{size:12}),f?" ":" "]})]}),a.jsxs("button",{type:"submit",disabled:i||!p.formState.isValid,className:"w-full bg-[#ff8c00] hover:bg-[#e67e00] disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-[#ff8c00]/20",style:{fontWeight:600},children:[i?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(vh,{size:18}),i?"...":" "]})]},"signup")})]}),a.jsx("p",{className:"text-center text-[12px] text-[#b8a990] mt-6",children:"TravelPro  2026    "})]})})}function Lye(){return/^\/quote\/.+$/.test(window.location.pathname)}const Dye=mI([{path:"/quote/:id",Component:n$},{path:"*",Component:()=>null}]);function $ye(){const{user:e,loading:t}=yx(),[r,n]=O.useState(!1),i=O.useMemo(()=>Lye(),[]);return O.useEffect(()=>{FV().finally(()=>n(!0))},[]),i?r?a.jsx(AT,{router:Dye}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f8f7f5]",dir:"rtl",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 border-3 border-[#ff8c00] border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-[15px] text-[#8d785e] font-['Assistant',sans-serif]",children:" ..."})]})}):t?a.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f8f7f5]",dir:"rtl",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 border-3 border-[#ff8c00] border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-[15px] text-[#8d785e] font-['Assistant',sans-serif]",children:" ..."})]})}):e?r?a.jsx(AT,{router:Mye}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f8f7f5]",dir:"rtl",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 border-3 border-[#ff8c00] border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-[15px] text-[#8d785e] font-['Assistant',sans-serif]",children:"TravelPro ..."})]})}):a.jsx(Iye,{})}function zye(){return a.jsxs(EH,{children:[a.jsx($ye,{}),a.jsx(OB,{position:"bottom-left",dir:"rtl",gap:10,toastOptions:{unstyled:!0,style:{background:"transparent",boxShadow:"none",padding:0}}})]})}az.createRoot(document.getElementById("root")).render(a.jsx(zye,{}));
