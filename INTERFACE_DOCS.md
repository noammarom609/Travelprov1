# TravelPro v.1 - תיעוד ממשק מלא

## תוכן עניינים

1. [סקירה כללית](#סקירה-כללית)
2. [ארכיטקטורה וטכנולוגיות](#ארכיטקטורה-וטכנולוגיות)
3. [מבנה הפרויקט](#מבנה-הפרויקט)
4. [מערכת ההתחברות](#מערכת-ההתחברות)
5. [תפריט ניווט ראשי (Sidebar)](#תפריט-ניווט-ראשי)
6. [סרגל עליון (Top Bar)](#סרגל-עליון)
7. [דשבורד ראשי](#דשבורד-ראשי)
8. [ניהול פרויקטים](#ניהול-פרויקטים)
9. [עורך הצעת מחיר (Quote Editor)](#עורך-הצעת-מחיר)
10. [בנק ספקים](#בנק-ספקים)
11. [דף פרטי ספק](#דף-פרטי-ספק)
12. [ארכיון ספקים](#ארכיון-ספקים)
13. [אשף ייבוא CSV](#אשף-ייבוא-csv)
14. [אשף סיווג ספקים](#אשף-סיווג-ספקים)
15. [סריקת מוצרים](#סריקת-מוצרים)
16. [דף הצעת מחיר ללקוח (ציבורי)](#דף-הצעת-מחיר-ללקוח)
17. [לוח קנבן (Kanban)](#לוח-קנבן)
18. [ספריית רכיבי UI](#ספריית-רכיבי-ui)
19. [עיצוב ונושא גרפי](#עיצוב-ונושא-גרפי)
20. [אנימציות ואינטראקציות](#אנימציות-ואינטראקציות)
21. [תמיכה במובייל (Responsive)](#תמיכה-במובייל)
22. [ולידציה וטפסים](#ולידציה-וטפסים)
23. [API ובסיס נתונים](#api-ובסיס-נתונים)
24. [מבני נתונים (TypeScript)](#מבני-נתונים)
25. [תלויות ו-Dependencies](#תלויות)
26. [דפים עתידיים (Placeholder)](#דפים-עתידיים)

---

## סקירה כללית

**TravelPro v.1** היא מערכת ניהול אירועי תיירות מבוססת React. המערכת מאפשרת לחברות תיירות לנהל ספקים, ליצור הצעות מחיר, לעקוב אחרי פרויקטים ולתקשר עם לקוחות.

### יכולות המערכת:
- ניהול מאגר ספקים מלא עם מפות, מסמכים ואנשי קשר
- בניית הצעות מחיר דינמיות עם חישוב רווחיות אוטומטי
- מעקב פרויקטים מליד חדש ועד ביצוע
- ייבוא ספקים בכמויות מ-CSV
- דשבורד אנליטי עם KPIs
- דף הצעת מחיר ציבורי ללקוחות
- חיפוש גלובלי חכם
- מערכת התראות בזמן אמת
- תמיכה מלאה בעברית (RTL)

---

## ארכיטקטורה וטכנולוגיות

### טכנולוגיות ליבה:

| טכנולוגיה | גרסה | תפקיד |
|-----------|-------|--------|
| React | 18.3.1 | ספריית UI |
| TypeScript | - | שפת תכנות |
| Vite | 6.3.5 | כלי בנייה |
| Tailwind CSS | v4 | עיצוב CSS |
| React Router | 7.1.5 | ניתוב |
| Supabase | 2.97.0 | Backend + Auth |
| Radix UI | מרובה | רכיבי UI בסיסיים |
| Lucide React | 0.487.0 | אייקונים |
| Motion | 12.23.24 | אנימציות |
| Leaflet | 1.9.4 | מפות |
| Recharts | 2.15.2 | גרפים |

### תרשים ארכיטקטורה:

```
App (Root)
├── AuthProvider ──── ניהול אימות משתמשים
│   └── AppInner
│       ├── LoginPage ──── אם לא מחובר
│       └── RouterProvider
│           └── Layout
│               ├── Sidebar ──── תפריט ניווט צדדי
│               ├── Top Bar ──── חיפוש + התראות
│               ├── Breadcrumbs ──── ניווט פירורי לחם
│               └── Outlet (תוכן הדף)
│                   ├── Dashboard
│                   ├── ProjectsList → QuoteEditor
│                   ├── SupplierBank → SupplierDetail
│                   ├── ImportWizard
│                   ├── ClientQuote (ציבורי)
│                   └── דפים נוספים
```

---

## מבנה הפרויקט

```
TravelPro/
├── index.html                           # נקודת כניסה HTML
├── package.json                         # תלויות הפרויקט
├── vite.config.ts                       # הגדרות Vite
├── postcss.config.mjs                   # הגדרות PostCSS
├── src/
│   ├── main.tsx                         # נקודת כניסה React
│   ├── styles/
│   │   ├── index.css                    # סגנון ראשי
│   │   ├── fonts.css                    # פונטים (Assistant)
│   │   ├── tailwind.css                 # הגדרות Tailwind
│   │   └── theme.css                    # משתני עיצוב (206 שורות)
│   ├── assets/                          # תמונות PNG (24 קבצים)
│   ├── imports/                         # ייצואי Figma (12 דפים)
│   └── app/
│       ├── App.tsx                      # רכיב שורש
│       ├── routes.ts                    # הגדרות ניתוב
│       ├── api.ts                       # עטיפת API
│       ├── data.ts                      # הגדרות טיפוסים
│       ├── supabaseClient.ts            # חיבור Supabase
│       └── components/
│           ├── Layout.tsx               # תבנית ראשית
│           ├── Dashboard.tsx            # דשבורד
│           ├── ProjectsList.tsx         # רשימת פרויקטים
│           ├── QuoteEditor.tsx          # עורך הצעות מחיר
│           ├── SupplierBank.tsx         # בנק ספקים
│           ├── SupplierDetail.tsx       # פרטי ספק
│           ├── SupplierArchive.tsx      # ארכיון ספקים
│           ├── LoginPage.tsx            # דף התחברות
│           ├── ClientQuote.tsx          # הצעה ללקוח
│           ├── AuthContext.tsx          # ניהול אימות
│           ├── GlobalSearch.tsx         # חיפוש גלובלי
│           ├── NotificationsPanel.tsx   # פאנל התראות
│           ├── ImportWizard.tsx         # אשף ייבוא CSV
│           ├── ClassificationWizard.tsx # אשף סיווג
│           ├── ScannedProducts.tsx      # מוצרים סרוקים
│           ├── KanbanBoard.tsx          # לוח משימות
│           ├── FormField.tsx            # שדה טופס מותאם
│           ├── Breadcrumbs.tsx          # ניווט פירורי לחם
│           ├── ErrorBoundary.tsx        # טיפול שגיאות
│           ├── AppToast.tsx             # התראות Toast
│           ├── PlaceholderPage.tsx      # תבנית דפים עתידיים
│           ├── PRDDocument.tsx          # מסמך דרישות מוצר
│           ├── ... (29 רכיבים בסך הכל)
│           └── ui/                      # 70+ רכיבי UI בסיסיים
```

---

## מערכת ההתחברות

### קובץ: `LoginPage.tsx`

מערכת ההתחברות כוללת שני מצבים:

### מצב התחברות (Login):
- **שדות:**
  - כתובת מייל (עם ולידציה)
  - סיסמה
- **כפתור:** "התחבר"
- **הודעות שגיאה** בעברית

### מצב הרשמה (Signup):
- **שדות:**
  - שם מלא
  - כתובת מייל (עם ולידציה)
  - סיסמה (עם דרישות חוזק)
  - אימות סיסמה
- **כפתור:** "הירשם"

### תכונות:
- מעבר בין לשוניות התחברות/הרשמה
- ניהול מצב דרך `AuthContext.tsx`
- אימות מול Supabase Auth
- שמירת סשן משתמש
- ניתוב אוטומטי לדשבורד לאחר התחברות
- כפתור התנתקות בתפריט הצדדי

### זרימה:
```
LoginPage → AuthContext → Supabase Auth → Session → Dashboard
```

---

## תפריט ניווט ראשי

### קובץ: `Layout.tsx`

תפריט צדדי (Sidebar) עם הפריטים הבאים:

| אייקון | שם | נתיב | מצב |
|--------|-----|------|------|
| LayoutDashboard | דשבורד | `/` | פעיל |
| FolderOpen | פרויקטים | `/projects` | פעיל |
| Users | בנק ספקים | `/suppliers` | פעיל |
| UserCircle | לקוחות | `/clients` | Placeholder |
| FileText | מסמכים | `/documents` | Placeholder |
| Calendar | יומן | `/calendar` | Placeholder |
| Settings | הגדרות | `/settings` | Placeholder |

### תת-תפריט ספקים:
- ייבוא ספקים (`/suppliers/import`)
- סיווג ספקים (`/suppliers/classify`)
- סריקת מוצרים (`/suppliers/scan`)
- ארכיון ספקים (`/suppliers/archive`)

### אלמנטים נוספים בתפריט:
- **כפתור "פרויקט חדש"** - בחלק העליון, בצבע כתום
- **פרופיל משתמש** - בתחתית עם שם וכפתור התנתקות
- **סימון פריט פעיל** - רקע מודגש לפריט הנוכחי
- **תמיכה במובייל** - תפריט נפתח עם כפתור המבורגר

---

## סרגל עליון

### קובץ: `Layout.tsx`

הסרגל העליון כולל:

### 1. כפתור תפריט מובייל
- מוצג רק במסכים קטנים
- פותח/סוגר את התפריט הצדדי

### 2. חיפוש גלובלי (`GlobalSearch.tsx`)
- **קיצור מקלדת:** `Cmd+K` / `Ctrl+K`
- **חיפוש בו-זמני ב:**
  - שמות פרויקטים
  - שמות ספקים
- **תכונות:**
  - חיפוש בזמן אמת (Real-time)
  - תצוגת תוצאות מקובצות לפי קטגוריה
  - ניווט ישיר לתוצאה בלחיצה
  - אנימציית פתיחה/סגירה חלקה
  - סמל חיפוש עם טקסט Placeholder

### 3. פאנל התראות (`NotificationsPanel.tsx`)
- **אייקון פעמון** עם תג (Badge) למספר התראות שלא נקראו
- **סוגי התראות:**
  - התראות מערכת
  - עדכוני פרויקט
  - מסמכים שפג תוקפם
- **תכונות:**
  - סימון כנקרא
  - מחיקת התראה בודדת
  - תצוגת זמן יחסי ("לפני 5 דקות")

### 4. כפתור עזרה
- מוביל לדף PRD (מסמך דרישות מוצר)

---

## דשבורד ראשי

### קובץ: `Dashboard.tsx`
### נתיב: `/`

הדשבורד הוא דף הבית של המערכת ומציג מבט על כל הפעילות.

### אזור KPIs (מדדים):
ארבעה כרטיסי מדד עם:
- **ספירה מונפשת** (Count-up Animation) - המספרים עולים בהדרגה
- **גרף ניצוץ** (Sparkline) - מגמה ב-7 ימים אחרונים
- **אייקון ושינוי באחוזים** - ירוק לעלייה, אדום לירידה

| מדד | תיאור |
|-----|--------|
| פרויקטים פעילים | מספר הפרויקטים שבתהליך |
| הצעות מחיר | מספר הצעות שנשלחו |
| ספקים פעילים | מספר ספקים מאומתים |
| הכנסות החודש | סה"כ הכנסות בש"ח |

### טבלת פרויקטים אחרונים:
- שם פרויקט
- לקוח
- סטטוס (עם צבע)
- מחיר
- תאריך
- כפתורי פעולה

### פיד פעילות:
- רשימת אירועים אחרונים
- חותמת זמן
- אייקון לפי סוג אירוע

### טיקר הודעות:
- רצועת הודעות נעה בחלק העליון
- הודעות מערכת ועדכונים

### טבעות התקדמות (Progress Rings):
- תצוגת התקדמות בגרדיאנט
- אחוז השלמה לפרויקטים פעילים

---

## ניהול פרויקטים

### קובץ: `ProjectsList.tsx`
### נתיב: `/projects`

דף ניהול כלל הפרויקטים במערכת.

### סרגל כלים עליון:
- **חיפוש** - חיפוש חופשי לפי שם פרויקט
- **סינון לפי סטטוס** - בחירה מרשימה נפתחת
- **כפתור "פרויקט חדש"** - פתיחת מודאל יצירת פרויקט

### סטטוסים אפשריים:

| סטטוס | צבע |
|--------|------|
| ליד חדש | כחול |
| בניית הצעה | כתום |
| הצעה נשלחה | סגול |
| מחיר בהערכה | צהוב |
| אושר | ירוק |
| בביצוע | ירוק כהה |

### כרטיסי פרויקט:
כל פרויקט מוצג ככרטיס הכולל:
- **שם הפרויקט**
- **שם הלקוח** והחברה
- **מספר משתתפים**
- **אזור** (צפון, מרכז, דרום, ירושלים)
- **סטטוס** עם תג צבעוני
- **מחיר כולל** ומחיר לאדם
- **אחוז רווח**
- **תאריך**

### תפריט פעולות (לכל כרטיס):
- **עריכת פרויקט** - פתיחת מודאל עריכה
- **שכפול** - יצירת עותק של הפרויקט
- **שינוי סטטוס** - מעבר בין סטטוסים
- **מחיקה** - עם אישור

### מודאל עריכת פרויקט:
- שם פרויקט
- שם לקוח
- חברה
- מספר משתתפים
- אזור
- סטטוס
- מחיר כולל
- מחיר לאדם
- אחוז רווח
- תאריך

---

## עורך הצעת מחיר

### קובץ: `QuoteEditor.tsx`
### נתיב: `/projects/:id`

עורך מתקדם לבניית הצעות מחיר.

### אזור מידע כללי:
- שם הפרויקט
- פרטי לקוח
- מספר גרסה (תמיכה בגרסאות מרובות)
- תאריך

### טבלת פריטי הצעה:
כל פריט כולל:

| שדה | תיאור |
|-----|--------|
| שם הפריט | שם השירות/מוצר |
| ספק | בחירת ספק עם חיפוש אוטומטי (Autocomplete) |
| תיאור | תיאור חופשי |
| סוג | קטגוריית השירות |
| מחיר | מחיר ליחידה בש"ח |
| כמות | מספר יחידות |
| הנחה | אחוז הנחה |
| סה"כ | חישוב אוטומטי |

### חישוב רווחיות אוטומטי:
המערכת מחשבת בזמן אמת:
- **עלות כוללת** - סכום כל הפריטים
- **מחיר ללקוח** - כולל מרווח רווח
- **אחוז רווח** - עם קידוד צבע:

| אחוז רווח | צבע | משמעות |
|-----------|------|---------|
| 20%+ | ירוק | רווחי מאוד |
| 15-20% | צהוב | רווחי |
| 10-15% | כתום | רווח נמוך |
| פחות מ-10% | אדום | רווח מינימלי |

### חיפוש ספקים (SupplierSearch.tsx):
- שדה חיפוש עם Autocomplete
- תצוגת תוצאות מיידית
- סינון לפי שם ספק
- בחירה עם לחיצה

### בונה ציר זמן (Timeline):
- הוספת אירועים כרונולוגיים ליום האירוע
- **שדות:** שעה, כותרת, אייקון
- גרירה ושחרור לסדר מחדש
- עריכה ומחיקה

### כפתורי פעולה:
- **שמירה** - שמירת ההצעה
- **הדפסה** - הדפסת ההצעה
- **הורדה** - הורדה כקובץ
- **שליחה ללקוח** - יצירת קישור ציבורי

---

## בנק ספקים

### קובץ: `SupplierBank.tsx`
### נתיב: `/suppliers`

מאגר כל הספקים של החברה.

### סרגל סינון:
- **חיפוש חופשי** - לפי שם ספק
- **סינון לפי קטגוריה:**
  - תחבורה 🚌
  - מזון 🍽️
  - אטרקציות 🎯
  - לינה 🏨
  - בידור 🎭
- **סינון לפי אזור:**
  - צפון
  - מרכז
  - דרום
  - ירושלים
- **סינון לפי סטטוס:**
  - מאומת (Verified)
  - ממתין (Pending)
  - לא מאומת (Unverified)

### כרטיסי ספקים:
כל ספק מוצג ככרטיס הכולל:
- **אייקון** (אימוג'י לפי קטגוריה)
- **שם הספק**
- **קטגוריה** עם תג צבעוני
- **אזור**
- **דירוג** (כוכבים 1-5)
- **טלפון** ליצירת קשר
- **סטטוס אימות** - אייקון ירוק/כתום/אדום
- **הערות** (אם קיימות)

### כפתור הוספת ספק:
פותח מודאל עם השדות:
- שם ספק (חובה)
- קטגוריה (חובה)
- טלפון (עם ולידציה ישראלית)
- אזור
- כתובת
- הערות

### תצוגת מפה (SupplierMap.tsx):
- מפה אינטראקטיבית עם Leaflet
- סימוני מיקום לכל ספק
- חלון מידע (Popup) בלחיצה
- זום וגרירה

### דפדוף (Pagination):
- מספר ספקים לדף
- כפתורי עמוד קודם/הבא
- מספרי עמודים

---

## דף פרטי ספק

### קובץ: `SupplierDetail.tsx`
### נתיב: `/suppliers/:id`

דף מפורט עם כל המידע על ספק.

### כותרת:
- שם הספק
- קטגוריה
- סטטוס אימות
- דירוג כוכבים
- כפתור "העבר לארכיון"

### לשונית 1: מידע כללי
- שם
- קטגוריה
- טלפון
- אזור
- כתובת
- הערות
- מפת מיקום (SupplierLocationMap.tsx)
- כפתור עריכה

### לשונית 2: מוצרים ושירותים
- רשימת מוצרי הספק
- **לכל מוצר:**
  - שם
  - מחיר
  - תיאור
  - יחידת מידה
  - תמונות (עם העלאה)
  - הערות
- כפתור "הוסף מוצר"
- עריכה ומחיקת מוצר (ProductEditor.tsx)

### לשונית 3: מסמכים
- רשימת מסמכי הספק (ביטוח, רישיונות, אישורים)
- **לכל מסמך:**
  - שם המסמך
  - תאריך תפוגה
  - סטטוס:
    - ✅ תקף (ירוק)
    - ⚠️ עומד לפוג (כתום)
    - ❌ פג תוקף (אדום)
  - קובץ מצורף
- כפתור "הוסף מסמך"

### לשונית 4: אנשי קשר
- רשימת אנשי קשר של הספק
- **לכל איש קשר:**
  - שם
  - תפקיד
  - טלפון
  - מייל
  - סימון כאיש קשר ראשי
- כפתור "הוסף איש קשר"
- עריכה ומחיקה

---

## ארכיון ספקים

### קובץ: `SupplierArchive.tsx`
### נתיב: `/suppliers/archive`

דף ניהול ספקים שהועברו לארכיון.

### תכונות:
- רשימת ספקים מאורכנים
- חיפוש וסינון
- **שחזור ספק** - החזרה למצב פעיל
- **מחיקה לצמיתות**
- תצוגת סיבת ארכיון ותאריך

---

## אשף ייבוא CSV

### קובץ: `ImportWizard.tsx`
### נתיב: `/suppliers/import`

אשף רב-שלבי לייבוא ספקים בכמויות מקובץ CSV.

### שלב 1: העלאת קובץ
- אזור גרירה ושחרור (Drag & Drop)
- בחירת קובץ מהמחשב
- תמיכה בקבצי CSV
- ולידציה של מבנה הקובץ

### שלב 2: מיפוי עמודות
- זיהוי אוטומטי של עמודות
- מיפוי ידני של כל עמודה לשדה במערכת:
  - שם ← name
  - טלפון ← phone
  - קטגוריה ← category
  - אזור ← region
  - וכו'
- תצוגה מקדימה של הנתונים

### שלב 3: תצוגה מקדימה ודדופליקציה
- טבלת כל הספקים לייבוא
- זיהוי כפילויות אוטומטי
- סימון שורות בעייתיות
- אפשרות לדלג על שורות

### שלב 4: סיום
- סיכום הייבוא
- מספר ספקים שיובאו בהצלחה
- מספר שגיאות (אם יש)
- כפתור "סיום" לחזרה לבנק ספקים

---

## אשף סיווג ספקים

### קובץ: `ClassificationWizard.tsx`
### נתיב: `/suppliers/classify`

כלי לסיווג אוטומטי של ספקים לקטגוריות.

### תכונות:
- סיווג אוטומטי לפי שם ותיאור
- אפשרות לאישור/שינוי סיווג
- סיווג בכמויות (Batch)
- הצעות קטגוריה חכמות

---

## סריקת מוצרים

### קובץ: `ScannedProducts.tsx`
### נתיב: `/suppliers/scan`

ממשק לסריקה ועיבוד מוצרי ספקים.

### תכונות:
- סריקת מוצרים
- עיבוד ופרסור אוטומטי
- קישור מוצר לספק
- עריכת פרטי מוצר

---

## דף הצעת מחיר ללקוח

### קובץ: `ClientQuote.tsx`
### נתיב: `/quote/:id` (ציבורי - ללא צורך בהתחברות)

דף ציבורי שהלקוח מקבל לצפייה בהצעת המחיר.

### תכונות:
- עיצוב מקצועי ונקי
- פרטי הפרויקט
- רשימת שירותים עם מחירים
- ציר זמן של האירוע
- תמונות (אם צורפו)
- **מחיר סופי** מודגש
- **כפתור אישור** - הלקוח יכול לאשר את ההצעה
- ניתן לשתף קישור

---

## לוח קנבן

### קובץ: `KanbanBoard.tsx`

לוח משימות בסגנון Kanban לניהול פרויקטים.

### עמודות:
- **ליד חדש** - פרויקטים חדשים
- **בניית הצעה** - בתהליך בנייה
- **הצעה נשלחה** - ממתינים לתשובה
- **אושר** - פרויקטים שאושרו
- **בביצוע** - בשלב ביצוע

### תכונות:
- **גרירה ושחרור** (Drag & Drop) בין עמודות
- שינוי סטטוס אוטומטי בגרירה
- כרטיסי פרויקט מינימליסטיים
- ספירת פריטים לכל עמודה
- תמיכה ב-react-dnd

---

## ספריית רכיבי UI

### תיקייה: `src/app/components/ui/`

ספרייה של 70+ רכיבי UI בנויים על Radix UI:

### רכיבי קלט:
| רכיב | תיאור |
|------|--------|
| `input.tsx` | שדה טקסט |
| `textarea.tsx` | שדה טקסט מרובה שורות |
| `select.tsx` | רשימה נפתחת |
| `checkbox.tsx` | תיבת סימון |
| `radio-group.tsx` | קבוצת כפתורי רדיו |
| `switch.tsx` | מתג הפעלה/כיבוי |
| `slider.tsx` | סרגל טווח |
| `input-otp.tsx` | שדה קוד חד-פעמי |
| `calendar.tsx` | בורר תאריך |

### רכיבי תצוגה:
| רכיב | תיאור |
|------|--------|
| `card.tsx` | כרטיס תוכן |
| `badge.tsx` | תגית סטטוס |
| `avatar.tsx` | תמונת משתמש |
| `table.tsx` | טבלת נתונים |
| `separator.tsx` | קו מפריד |
| `skeleton.tsx` | שלד טעינה |
| `progress.tsx` | סרגל התקדמות |
| `carousel.tsx` | קרוסלה |

### רכיבי ניווט:
| רכיב | תיאור |
|------|--------|
| `tabs.tsx` | לשוניות |
| `breadcrumb.tsx` | פירורי לחם |
| `pagination.tsx` | דפדוף |
| `navigation-menu.tsx` | תפריט ניווט |
| `menubar.tsx` | סרגל תפריט |
| `sidebar.tsx` | סרגל צד |

### רכיבי שכבת-על:
| רכיב | תיאור |
|------|--------|
| `dialog.tsx` | חלון מודאלי |
| `sheet.tsx` | פאנל צד |
| `drawer.tsx` | מגירה |
| `popover.tsx` | חלון צף |
| `tooltip.tsx` | הסבר מרחף |
| `hover-card.tsx` | כרטיס מרחף |
| `dropdown-menu.tsx` | תפריט נפתח |
| `context-menu.tsx` | תפריט הקשר |
| `command.tsx` | פלטת פקודות |
| `alert-dialog.tsx` | חלון אישור |

### רכיבי פריסה:
| רכיב | תיאור |
|------|--------|
| `accordion.tsx` | אקורדיון מתקפל |
| `collapsible.tsx` | תוכן מתקפל |
| `resizable.tsx` | פאנלים הניתנים לשינוי גודל |
| `aspect-ratio.tsx` | יחס תצוגה |
| `scroll-area.tsx` | אזור גלילה |

### רכיבי טפסים:
| רכיב | תיאור |
|------|--------|
| `form.tsx` | עטיפת טופס (react-hook-form) |
| `label.tsx` | תווית שדה |
| `button.tsx` | כפתור |
| `toggle.tsx` | כפתור מצב |
| `toggle-group.tsx` | קבוצת כפתורי מצב |

### רכיבי משוב:
| רכיב | תיאור |
|------|--------|
| `alert.tsx` | הודעת התראה |
| `sonner.tsx` | הודעות Toast |

---

## עיצוב ונושא גרפי

### קובץ: `src/styles/theme.css`

### פלטת צבעים:

| שימוש | צבע | HEX |
|-------|------|-----|
| פעולה ראשית | כתום | `#ff8c00` |
| הצלחה | ירוק | `#22c55e` |
| אזהרה | כתום/צהוב | `#ff8c00` / `#eab308` |
| שגיאה | אדום | `#ef4444` |
| מידע | כחול | `#3b82f6` |
| רקע | בז' חם | `#f8f7f5` |
| כרטיס | לבן | `#ffffff` |
| טקסט ראשי | חום כהה | `#181510` |
| טקסט משני | חום עמום | `#8d785e` |
| גבולות | בז' בהיר | `#e7e1da` |
| מושבת | אפור בהיר | `#b8a990` |

### פונט:
- **משפחה:** "Assistant" (מ-Google Fonts)
- **תמיכה מלאה בעברית**
- **משקלים:** Regular (400), Semi-Bold (600), Bold (700)

### עקרונות עיצוב:
- **כיוון:** RTL (ימין לשמאל) - מותאם לעברית
- **סגנון:** Warm, נקי ומקצועי
- **גבולות:** מעוגלים (border-radius)
- **צללים:** עדינים לתחושת עומק
- **רווחים:** מרווחים נדיבים בין אלמנטים

### משתני CSS מותאמים (Design Tokens):
```css
--background: #f8f7f5;
--foreground: #181510;
--primary: #ff8c00;
--secondary: #f5f0eb;
--accent: #8d785e;
--muted: #f5f0eb;
--border: #e7e1da;
--ring: #ff8c00;
--radius: 0.5rem;
--success: #22c55e;
--warning: #ff8c00;
--error: #ef4444;
--info: #3b82f6;
```

---

## אנימציות ואינטראקציות

### ספריית אנימציה: Motion (Framer Motion)

### אנימציות בממשק:
- **מעבר בין דפים** - אנימציית Fade/Slide
- **הרכבת רכיבים** - אנימציית הופעה
- **פירוק רכיבים** - אנימציית נעלמות
- **ספירת מספרים** (Count-up) - מספרים עולים בהדרגה בדשבורד
- **מעבר צבעים** - שינויי צבע חלקים
- **אפקט Hover** - שינויים בלחיצה על כפתורים וכרטיסים
- **גרפי Sparkline** - אנימציית ציור הקו

### גרירה ושחרור (Drag & Drop):
- **ספרייה:** react-dnd
- **שימוש:** לוח Kanban, סדר פריטים בציר זמן
- **משוב חזותי:** הדגשת אזור שחרור

### Hooks מותאמים:
| Hook | תיאור |
|------|--------|
| `useCountUp` | ספירה מונפשת של מספרים |
| `useAnimatedCounter` | מעבר חלק בין ערכים מספריים |
| `useAuth` | גישה לנתוני אימות |
| `useMobile` | זיהוי מסך מובייל |

---

## תמיכה במובייל

### גישת עיצוב: Mobile-First

### נקודות שבירה (Breakpoints):
| שם | רוחב | שימוש |
|-----|-------|--------|
| default | 0px+ | מובייל |
| sm | 640px+ | טאבלט קטן |
| md | 768px+ | טאבלט |
| lg | 1024px+ | דסקטופ |
| xl | 1280px+ | מסך רחב |

### התאמות מובייל:
- **תפריט צדדי** - נסתר, נפתח עם כפתור המבורגר
- **תפריט נפתח** - Overlay מלא מצד ימין
- **כרטיסים** - ערומים אנכית
- **טבלאות** - גלילה אופקית
- **פירורי לחם** - מקוצרים
- **כפתורים** - מותאמים לגודל אצבע

---

## ולידציה וטפסים

### קובץ: `FormField.tsx`

רכיב טופס מותאם עם ולידציה מלאה בעברית.

### כללי ולידציה:

| סוג | Regex / כלל | הודעת שגיאה |
|------|------------|-------------|
| טלפון ישראלי | `/^05\d[-]?\d{7}$/` | "מספר טלפון לא תקין" |
| מייל | `/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/` | "כתובת מייל לא תקינה" |
| מחיר | מספר חיובי | "יש להזין מחיר חיובי" |
| שדה חובה | לא ריק | "שדה חובה" |
| אורך מינימלי | min length | "יש להזין לפחות X תווים" |
| אורך מקסימלי | max length | "ניתן להזין עד X תווים" |

### אינדיקציה חזותית:
- ✅ **שדה תקין** - סימן V ירוק
- ❌ **שדה שגוי** - סימן X אדום + הודעת שגיאה מתחת
- ⚪ **שדה ריק** - ללא אינדיקציה

### ספריית טפסים: react-hook-form
- ניהול מצב טופס
- ולידציה בזמן אמת
- טיפול בשגיאות
- שליחת טופס

---

## API ובסיס נתונים

### Backend: Supabase

### חיבור:
```
URL: https://{projectId}.supabase.co
Edge Function: /functions/v1/make-server-0045c7fc
```

### נקודות קצה (Endpoints):

#### ספקים:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת ספקים | GET | `/suppliers` |
| פרטי ספק | GET | `/suppliers/:id` |
| יצירת ספק | POST | `/suppliers` |
| עדכון ספק | PUT | `/suppliers/:id` |
| מחיקת ספק | DELETE | `/suppliers/:id` |
| ייבוא בכמויות | POST | `/suppliers/bulk` |
| ביטול ייבוא | POST | `/suppliers/bulk/rollback` |
| העברה לארכיון | POST | `/suppliers/:id/archive` |

#### פרויקטים:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת פרויקטים | GET | `/projects` |
| פרטי פרויקט | GET | `/projects/:id` |
| יצירת פרויקט | POST | `/projects` |
| עדכון פרויקט | PUT | `/projects/:id` |
| מחיקת פרויקט | DELETE | `/projects/:id` |

#### פריטי הצעת מחיר:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת פריטים | GET | `/quote-items` |
| יצירת פריט | POST | `/quote-items` |
| עדכון פריט | PUT | `/quote-items/:id` |
| מחיקת פריט | DELETE | `/quote-items/:id` |

#### אנשי קשר של ספק:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת אנשי קשר | GET | `/supplier-contacts` |
| יצירת איש קשר | POST | `/supplier-contacts` |
| עדכון | PUT | `/supplier-contacts/:id` |
| מחיקה | DELETE | `/supplier-contacts/:id` |

#### מוצרי ספק:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת מוצרים | GET | `/supplier-products` |
| יצירת מוצר | POST | `/supplier-products` |
| עדכון | PUT | `/supplier-products/:id` |
| מחיקה | DELETE | `/supplier-products/:id` |
| העלאת תמונה | POST | `/supplier-products/:id/images` |

#### מסמכי ספק:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת מסמכים | GET | `/supplier-documents` |
| יצירה | POST | `/supplier-documents` |
| עדכון | PUT | `/supplier-documents/:id` |
| מחיקה | DELETE | `/supplier-documents/:id` |

#### ציר זמן:
| פעולה | Method | Endpoint |
|-------|--------|----------|
| רשימת אירועים | GET | `/timeline` |
| יצירת אירוע | POST | `/timeline` |

---

## מבני נתונים

### TypeScript Interfaces:

#### פרויקט (Project):
```typescript
interface Project {
  id: string;
  name: string;           // שם הפרויקט
  client: string;         // שם הלקוח
  company: string;        // שם החברה
  participants: number;   // מספר משתתפים
  region: string;         // אזור
  status: string;         // סטטוס
  statusColor: string;    // צבע סטטוס
  totalPrice: number;     // מחיר כולל
  pricePerPerson: number; // מחיר לאדם
  profitMargin: number;   // אחוז רווח
  date: string;           // תאריך
}
```

#### ספק (Supplier):
```typescript
interface Supplier {
  id: string;
  name: string;                    // שם הספק
  phone: string;                   // טלפון
  category: string;                // קטגוריה
  categoryColor: string;           // צבע קטגוריה
  region: string;                  // אזור
  rating: number;                  // דירוג (1-5)
  verificationStatus: 'verified' | 'pending' | 'unverified';
  notes: string;                   // הערות
  icon: string;                    // אימוג'י
  address?: string;                // כתובת
  location?: {                     // מיקום GPS
    lat: number;
    lng: number;
  };
}
```

#### פריט הצעת מחיר (QuoteItem):
```typescript
interface QuoteItem {
  id: string;
  name: string;        // שם הפריט
  supplier: string;    // ספק
  description: string; // תיאור
  type: string;        // סוג
  price: number;       // מחיר
  quantity: number;    // כמות
  discount: number;    // הנחה
}
```

#### איש קשר של ספק (SupplierContact):
```typescript
interface SupplierContact {
  id: string;
  supplierId: string;
  name: string;     // שם
  role: string;     // תפקיד
  phone: string;    // טלפון
  email: string;    // מייל
  primary: boolean; // איש קשר ראשי
}
```

#### מוצר ספק (SupplierProduct):
```typescript
interface SupplierProduct {
  id: string;
  supplierId: string;
  name: string;        // שם המוצר
  price: number;       // מחיר
  description: string; // תיאור
  unit: string;        // יחידת מידה
  images?: {           // תמונות
    id: string;
    url: string;
    name: string;
    path?: string;
  }[];
  notes?: string;      // הערות
}
```

#### מסמך ספק (SupplierDocument):
```typescript
interface SupplierDocument {
  id: string;
  supplierId: string;
  name: string;                                // שם המסמך
  expiry: string;                              // תאריך תפוגה
  status: 'valid' | 'warning' | 'expired';    // סטטוס
  fileName?: string;                           // שם קובץ
}
```

#### אירוע ציר זמן (TimelineEvent):
```typescript
interface TimelineEvent {
  id: string;
  projectId: string;
  time: string;   // שעה
  title: string;  // כותרת
  icon: string;   // אייקון
}
```

---

## תלויות

### תלויות ליבה:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| react | 18.3.1 | ספריית UI |
| react-dom | 18.3.1 | רינדור DOM |
| react-router | 7.1.5 | ניתוב |
| @supabase/supabase-js | 2.97.0 | Backend |

### תלויות UI:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| @radix-ui/* | מרובה | 20+ רכיבי UI בסיסיים |
| @mui/material | 7.3.5 | רכיבי Material Design |
| @mui/icons-material | 7.3.5 | אייקוני Material |
| lucide-react | 0.487.0 | 488+ אייקונים SVG |
| sonner | 2.0.3 | הודעות Toast |
| embla-carousel-react | 8.6.0 | קרוסלה מתקדמת |
| react-slick | 0.31.0 | קרוסלה |

### תלויות עיצוב:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| tailwindcss | 4.1.12 | Utility-first CSS |
| @tailwindcss/vite | 4.1.12 | פלאגין Tailwind ל-Vite |
| class-variance-authority | 0.7.1 | הרכבת CSS classes |
| clsx | 2.1.1 | שירות classnames |
| tailwind-merge | 3.2.0 | מיזוג Tailwind classes |
| @emotion/react | 11.14.0 | CSS-in-JS |
| @emotion/styled | 11.14.1 | Styled components |

### תלויות אנימציה ואינטראקציה:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| motion | 12.23.24 | אנימציות (Framer Motion) |
| react-dnd | 16.0.1 | גרירה ושחרור |
| react-dnd-html5-backend | 16.0.1 | Backend לגרירה |
| react-resizable-panels | 2.1.7 | פאנלים הניתנים לשינוי גודל |
| vaul | 1.1.2 | רכיב מגירה |

### תלויות מפות ונתונים:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| leaflet | 1.9.4 | מפות אינטראקטיביות |
| react-leaflet | 5.0.0 | עטיפת React ל-Leaflet |
| recharts | 2.15.2 | גרפים ותרשימים |
| papaparse | 5.5.3 | פרסור CSV |

### תלויות טפסים ותאריכים:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| react-hook-form | 7.55.0 | ניהול טפסים |
| date-fns | 3.6.0 | עיבוד תאריכים |
| react-day-picker | 8.10.1 | בורר תאריך |

### תלויות שירות:
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| @popperjs/core | 2.11.8 | מיצוב Tooltip |
| react-popper | 2.3.0 | עטיפת React ל-Popper |
| input-otp | 1.4.2 | שדה OTP |
| next-themes | 0.4.6 | ניהול ערכות נושא |
| react-responsive-masonry | 2.7.1 | פריסת Masonry |
| lodash.debounce | 4.0.8 | שירות Debounce |

### תלויות פיתוח (devDependencies):
| חבילה | גרסה | תפקיד |
|--------|-------|--------|
| vite | 6.3.5 | כלי בנייה |
| @vitejs/plugin-react | 4.7.0 | פלאגין React ל-Vite |

---

## דפים עתידיים

הדפים הבאים קיימים כ-Placeholder ועדיין לא מומשו:

| דף | נתיב | תיאור |
|-----|------|--------|
| לקוחות | `/clients` | ניהול לקוחות - CRM |
| מסמכים | `/documents` | ניהול מסמכים |
| יומן | `/calendar` | תצוגת לוח שנה |
| הגדרות | `/settings` | הגדרות מערכת |

### תבנית PlaceholderPage:
כל דף עתידי מציג:
- כותרת הדף
- אייקון
- הודעה "בקרוב..."
- עיצוב עקבי עם שאר המערכת

---

## סיכום

TravelPro v.1 היא מערכת מקיפה לניהול אירועי תיירות הבנויה עם טכנולוגיות מודרניות. המערכת כוללת:

- **14 דפים/מסכים** (10 מומשים + 4 Placeholder)
- **29 רכיבי אפליקציה** מותאמים
- **70+ רכיבי UI** בסיסיים
- **7 נקודות API** ראשיות
- **ממשק עברי מלא** עם RTL
- **תמיכה מלאה במובייל**
- **אנימציות חלקות** ואינטראקציות עשירות
- **אימות משתמשים** עם Supabase
- **ולידציה מותאמת** לשוק הישראלי

המערכת מוכנה לשימוש עם הפונקציונליות הקיימת ומתוכננת להרחבה עם מודולים נוספים (לקוחות, מסמכים, יומן, הגדרות).
